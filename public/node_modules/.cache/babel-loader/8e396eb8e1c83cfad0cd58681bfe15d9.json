{"ast":null,"code":";\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.alanBtn = factory();\n  }\n})(this, function () {\n  (function (ns) {\n    \"use strict\";\n\n    navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia || navigator.mediaDevices && navigator.mediaDevices.getUserMedia;\n\n    if (!navigator.getUserMedia) {\n      console.error(\"getUserMedia is not supported\");\n    }\n\n    function isAudio(obj) {\n      return obj instanceof Float32Array;\n    }\n\n    function AudioQueue() {\n      this._queue = [];\n    }\n\n    AudioQueue.prototype.write = function (float32arrayOrEvent) {\n      this._queue.push(float32arrayOrEvent);\n    };\n\n    AudioQueue.prototype._fetchData = function () {\n      while (this._queue.length && !isAudio(this._queue[0])) {\n        fireEvent('command', this._queue.shift());\n      }\n\n      return this._queue.length;\n    };\n\n    AudioQueue.prototype.read = function (samples) {\n      if (!this._fetchData()) {\n        return null;\n      }\n\n      if (samples === this._queue[0].length) {\n        return this._queue.shift();\n      }\n\n      if (samples < this._queue[0].length) {\n        var r = this._queue[0].subarray(0, samples);\n\n        this._queue[0] = this._queue[0].subarray(samples, this._queue[0].length);\n        return r;\n      }\n\n      var res = new Float32Array(samples);\n      var idx = 0;\n\n      while (idx < samples && this._queue.length > 0) {\n        if (!this._fetchData()) {\n          break;\n        }\n\n        var len = Math.min(samples - idx, this._queue[0].length);\n\n        for (var i = 0; i < len; i++) {\n          res[idx + i] = this._queue[0][i];\n        }\n\n        idx += len;\n\n        if (len === this._queue[0].length) {\n          this._queue.shift();\n        } else {\n          this._queue[0] = this._queue[0].subarray(len, this._queue[0].length);\n        }\n      }\n\n      return res;\n    };\n\n    var PLAY_IDLE = 'idle';\n    var PLAY_ACTIVE = 'active';\n    var handlers = {};\n    var micStream = null;\n    var audioQueue = new AudioQueue();\n    var audioPlayback = null;\n    var audioPlayGain = null;\n    var audioRecorder = null;\n    var audioSource = null;\n    var frameSize = 4096;\n    var silence = new Float32Array(frameSize);\n    var playState = PLAY_IDLE;\n    var audioCtx = null;\n    var totalSamples = 0;\n    var sampleRate = 0;\n    var firstSampleTs = 0;\n    var frameCount = 0;\n\n    if (window.AudioContext) {\n      audioCtx = new window.AudioContext();\n    }\n\n    if (window.webkitAudioContext) {\n      audioCtx = new window.webkitAudioContext();\n    }\n\n    function fireEvent(event, o1, o2) {\n      var h = handlers[event];\n\n      if (h) {\n        for (var i = 0; i < h.length; i++) {\n          h[i](o1, o2);\n        }\n      }\n    }\n\n    function onGetUserMedia(mic) {\n      console.log('got microphone');\n      fireEvent('micStart', mic);\n      micStream = mic;\n\n      if (audioCtx.state === 'suspended') {\n        audioCtx.resume();\n      }\n\n      audioSource = audioCtx.createMediaStreamSource(micStream);\n      audioRecorder = audioCtx.createScriptProcessor(frameSize, 1, 1);\n      audioSource.connect(audioRecorder);\n\n      audioRecorder.onaudioprocess = function (e) {\n        if (micStream === mic) {\n          recordFrame(audioCtx.sampleRate, e.inputBuffer.getChannelData(0));\n        }\n      };\n\n      audioRecorder.connect(audioCtx.destination);\n    }\n\n    function onGetUserMediaError(err) {\n      console.error('failed to get microphone', err);\n      fireEvent('micFail', err);\n    }\n\n    function recordFrame(sr, float32array) {\n      if (sampleRate !== sr) {\n        sampleRate = sr;\n        firstSampleTs = Date.now();\n        totalSamples = 0;\n        frameCount = 0;\n      }\n\n      totalSamples += float32array.length;\n\n      if (++frameCount >= 300) {\n        frameCount = 0;\n        var audioTime = 1000 * totalSamples / sampleRate;\n        var clockTime = Date.now() - firstSampleTs;\n        console.log(\"audioTime: \" + audioTime + \", clockTime: \" + clockTime + \", ratio a/c: \" + audioTime / clockTime);\n      }\n\n      fireEvent('frame', sampleRate, float32array);\n    }\n\n    ns.isPlaying = function () {\n      return playState === PLAY_ACTIVE;\n    };\n\n    ns.playCommand = function (event) {\n      if (!audioPlayback) {\n        fireEvent('command', event);\n        return;\n      }\n\n      audioQueue.write(event);\n    };\n\n    ns.play = function (frames) {\n      if (!audioPlayback) {\n        return;\n      }\n\n      for (var i = 0; i < frames.length; i++) {\n        audioQueue.write(frames[i]);\n      }\n    };\n\n    ns.on = function (event, handler) {\n      var h = handlers[event];\n\n      if (h == null) {\n        handlers[event] = [handler];\n      } else {\n        h.push(handler);\n      }\n    };\n\n    ns.off = function (event, handler) {\n      var h = handlers[event];\n\n      if (h) {\n        var index = h.indexOf(handler);\n\n        if (index >= 0) {\n          h.splice(index, 1);\n        }\n      }\n    };\n\n    ns.sampleRate = function () {\n      return sampleRate;\n    };\n\n    ns.start = function (onStarted) {\n      if (!micStream) {\n        if (navigator.mediaDevices) {\n          navigator.mediaDevices.getUserMedia({\n            audio: true\n          }).then(onGetUserMedia, onGetUserMediaError);\n        } else {\n          navigator.getUserMedia({\n            audio: true\n          }, onGetUserMedia, onGetUserMediaError);\n        }\n      }\n\n      if (!audioPlayback) {\n        audioPlayback = audioCtx.createScriptProcessor(frameSize, 1, 1);\n\n        audioPlayback.onaudioprocess = function (e) {\n          var f = audioQueue.read(frameSize);\n\n          if (!f) {\n            if (playState === PLAY_ACTIVE) {\n              playState = PLAY_IDLE;\n              fireEvent('playStop');\n            }\n\n            f = silence;\n          } else {\n            if (playState === PLAY_IDLE) {\n              playState = PLAY_ACTIVE;\n              fireEvent('playStart');\n            }\n          }\n\n          if (onStarted) {\n            onStarted();\n            onStarted = null;\n          }\n\n          e.outputBuffer.getChannelData(0).set(f);\n        };\n\n        audioPlayGain = audioCtx.createGain();\n        audioPlayback.connect(audioPlayGain);\n        audioPlayGain.connect(audioCtx.destination);\n      } else {\n        if (onStarted) {\n          onStarted();\n          onStarted = null;\n        }\n      }\n    };\n\n    ns.stop = function () {\n      sampleRate = -1;\n\n      if (micStream) {\n        for (var i = 0; i < micStream.getTracks().length; i++) {\n          var track = micStream.getAudioTracks()[0];\n\n          if (track) {\n            track.stop();\n          }\n        }\n\n        micStream = null;\n        fireEvent('micStop');\n      }\n\n      if (audioSource) {\n        audioSource.disconnect();\n        audioSource = null;\n      }\n\n      if (audioRecorder) {\n        audioRecorder.disconnect();\n        audioRecorder = null;\n      }\n\n      if (audioPlayback) {\n        audioPlayback.disconnect();\n        audioPlayback = null;\n      }\n\n      if (audioPlayGain) {\n        audioPlayGain.disconnect();\n        audioPlayGain = null;\n      }\n\n      audioQueue = new AudioQueue();\n      playState = PLAY_IDLE;\n    };\n  })(typeof window !== 'undefined' ? function () {\n    window.alanAudio = {};\n    return window.alanAudio;\n  }() : exports);\n\n  (function (ns) {\n    \"use strict\";\n\n    var host = 'studio.alan.app';\n    var config = {\n      // baseURL: (window.location.protocol === \"https:\" ? \"wss://\" : \"ws://\") +\n      baseURL: \"wss://\" + (host.indexOf('$') === 0 || host === '' ? window.location.host : host),\n      codec: 'opus',\n      version: '1.0.9',\n      platform: 'web'\n    };\n\n    function ConnectionWrapper() {\n      var _this = this;\n\n      this._worker = new Worker(window.URL.createObjectURL(new Blob([\"'use strict';importScripts(    'https://studio.alan.app/js/alan_frame.js',    'https://studio.alan.app/js/alan_codec.js',    'https://studio.alan.app/js/libopus.js');var ALAN_OFF       = 'off';var ALAN_SPEAKING  = 'speaking';var ALAN_LISTENING = 'listening';function ConnectionImpl(config, auth, mode) {    var _this = this;    this._config = config;    this._auth = auth;    this._mode = mode;    this._projectId = config.projectId;    this._url = config.url;    this._connected = false;    this._authorized = false;    this._dialogId = null;    this._callId = 1;    this._callSent = {};    this._callWait = [];    this._failed = false;    this._closed = false;    this._reconnectTimeout = 100;    this._cleanups = [];    this._sampleRate = -1;    this._format = null;    this._formatSent = false;    this._frameQueue = [];    this._remoteSentTs = 0;    this._remoteRecvTs = 0;    this._rtt = 25;    this._rttAlpha = 1./16;    this._alanState = ALAN_OFF;    this._sendTimer = setInterval(_this._flushQueue.bind(_this), 100);    this._visualState = {};    this._addCleanup(function() {clearInterval(_this._sendTimer);});    this._connect();    console.log('connection created: ' + this._url);}ConnectionImpl.prototype._addCleanup = function(f) {    this._cleanups.push(f);};ConnectionImpl.prototype._onConnectStatus = function(s) {    console.log('connection status: ' + s);    this._fire('connectStatus', s);};ConnectionImpl.prototype._fire = function(event, object) {    if (event === 'options') {        if (object.versions) {            object.versions['alanbase:web'] = this._config.version;        }    }    postMessage(['fireEvent', event, object]);};ConnectionImpl.prototype._connect = function() {    var _this = this;    if (this._socket) {        console.error('socket is already connected');        return;    }    console.log('connecting to ' + this._url);    this._socket = new WebSocket(this._url);    this._socket.binaryType = 'arraybuffer';    this._decoder = alanCodec.decoder('pcm', 16000);    this._socket.onopen = function(e) {        console.info('connected', e.target === _this._socket);        _this._connected = true;        _this._reconnectTimeout = 100;        _this._fire('connection', {status: 'connected'});        if (_this._auth) {            _this._fire('connection', {status: 'authorizing'});            _this._callAuth();        } else {            _this._callWait.forEach(function(c) {  _this._sendCall(c); });            _this._callWait = [];        }    };    this._socket.onmessage = function(msg) {        if (msg.data instanceof ArrayBuffer) {            var f = alanFrame.parse(msg.data);            if (f.sentTs > 0) {                _this._remoteSentTs = f.sentTs;                _this._remoteRecvTs = Date.now();            } else {                _this._remoteSentTs = null;                _this._remoteRecvTs = null;            }            var rtt = 0;            if (f.remoteTs) {                rtt = Date.now() - f.remoteTs;            }            _this._rtt = _this._rttAlpha * rtt  + (1 - _this._rttAlpha) * _this._rtt;            var frames = _this._decoder(f.audioData);            postMessage(['alanAudio', 'playFrame', frames]);        } else if (typeof(msg.data) === 'string') {            msg = JSON.parse(msg.data);            if (msg.i) {                var c = _this._callSent[msg.i];                delete _this._callSent[msg.i];                if (c && c.callback) {                    c.callback(msg.e, msg.r);                }            } else if (msg.e) {                if (msg.e === 'command') {                    postMessage(['alanAudio', 'playCommand', msg.p]);                } else if (msg.e === 'inactivity') {                    postMessage(['alanAudio', 'stop']);                } else {                    _this._fire(msg.e, msg.p);                }            }        } else {            console.error('invalid message type');        }    };    this._socket.onerror = function(evt) {        console.error('connection closed due to error: ', evt);    };    this._socket.onclose = function(evt) {        console.info('connection closed');        _this._connected = false;        _this._authorized = false;        _this._socket = null;        _this._onConnectStatus('disconnected');        if (!_this._failed && _this._reconnectTimeout && !_this._closed) {            console.log('reconnecting in %s ms.', _this._reconnectTimeout);            _this._reConnect = setTimeout(_this._connect.bind(_this), _this._reconnectTimeout);            if (_this._reconnectTimeout < 3000) {                _this._reconnectTimeout *= 2;            } else {                _this._reconnectTimeout += 500;            }            _this._reconnectTimeout = Math.min(7000, _this._reconnectTimeout);        }    };    this._addCleanup(function() {        if (this._socket) {            this._socket.close();            this._socket = null;        }    });};ConnectionImpl.prototype._callAuth = function() {    var _this = this;    var callback = function(err, r) {        if (!err && r.status === 'authorized') {            _this._authorized = true;            _this._formatSent = false;            if (r.dialogId) {                postMessage(['setDialogId', r.dialogId]);                _this._dialogId = r.dialogId;            }            _this._onAuthorized();            _this._onConnectStatus('authorized');        } else if (err === 'auth-failed') {            _this._onConnectStatus('auth-failed');            if (_this._socket) {                _this._socket.close();                _this._socket = null;                _this._failed = true;            }        } else {            _this._onConnectStatus('invalid-auth-response');            console.log('invalid auth response', err, r);        }    };    var authParam = this._auth;    authParam.timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;    if (this._dialogId) {        authParam.dialogId = this._dialogId;    }    authParam.mode = this._mode;    this._sendCall({cid: this._callId++, method: '_auth_', callback: callback, param: authParam});    return this;};ConnectionImpl.prototype._sendCall = function(call) {    this._socket.send(JSON.stringify({i: call.cid, m: call.method, p: call.param}));    if (call.callback) {        this._callSent[call.cid] = call;    }};ConnectionImpl.prototype._onAuthorized = function() {    console.log('authorized');    if (this._visualState) {        this.call(null, '_visual_', this._visualState);    }    var _this = this;    this._callWait.forEach(function(c) {        _this._sendCall(c);    });    this._callWait = [];};ConnectionImpl.prototype.close = function() {    for (var i = 0; i < this._cleanups.length; i++ ) {        this._cleanups[i]();    }    this._cleanups = [];    this._closed = true;        if (this._socket && (this._socket.readyState === WebSocket.OPEN || this._socket.readyState === WebSocket.CONNECTING)) {        this._socket.close();        this._socket = null;    }    console.log('closed connection to: ' + this._url);    close();};ConnectionImpl.prototype.call = function(cid, method, param) {    var call = {cid: cid, method: method, param: param, callback: function(err, obj) {        if (cid) {            postMessage(['callback', cid, err, obj]);        }    }};    if (this._authorized || this._connected && !this._auth) {        this._sendCall(call);    } else {        this._callWait.push(call);    }};ConnectionImpl.prototype.setVisual = function(state) {    this._visualState = state;    this.call(null, '_visual_', state);};ConnectionImpl.prototype._sendFrame = function(frame) {    if (!this._socket) {        console.error('sendFrame to closed socket');        return;    }    frame.sentTs = Date.now();    if (this._remoteSentTs > 0 && this._remoteRecvTs > 0) {        frame.remoteTs = this._remoteSentTs + Date.now() - this._remoteRecvTs;    }    this._socket.send(frame.write());};ConnectionImpl.prototype._listen = function() {    var f = alanFrame.create();    f.jsonData = JSON.stringify({signal: 'listen'});    this._frameQueue.push(f);    this._alanState = ALAN_LISTENING;};ConnectionImpl.prototype._stopListen = function() {    var f = alanFrame.create();    f.jsonData = JSON.stringify({signal: 'stopListen'});    this._frameQueue.push(f);    this._alanState = ALAN_OFF;};ConnectionImpl.prototype._onMicFrame = function(sampleRate, frame) {    if (this._alanState === ALAN_SPEAKING) {        return;    }    if (this._alanState === ALAN_OFF) {        this._listen();    }    if (this._alanState !== ALAN_LISTENING) {        console.error('invalid alan state: ' + this._alanState);        return;    }    if (this._sampleRate !== sampleRate) {        this._sampleRate = sampleRate;        this._encoder = alanCodec.encoder(this._config.codec, 48000);        this._formatSent = false;        this._format = {            send: {codec: this._config.codec, sampleRate: sampleRate},            recv: {codec: 'pcm_s16le', sampleRate: 16000},            timeout: this._timeout,        };    }    var p = this._encoder(frame);    for (var i = 0; i < p.length; i++ ) {        var f = alanFrame.create();        f.audioData = p[i];        this._frameQueue.push(f);    }};ConnectionImpl.prototype._flushQueue = function() {    if (!this._socket || !this._connected) {        var d = 0;        while (this._frameQueue.length > 100 && !this._frameQueue[0].jsonData) {            this._frameQueue.shift();            d++;        }        if (d > 0) {            console.error('dropped: %s, frames', d);        }        return;    }    while (this._frameQueue.length > 0 && this._socket && this._socket.bufferedAmount < 64 * 1024) {        if (!this._formatSent && this._format) {            var frame = alanFrame.create();            frame.jsonData = JSON.stringify({format: this._format});            this._sendFrame(frame);            this._formatSent = true;        }        this._sendFrame(this._frameQueue.shift());    }};function connectProject(config, auth, mode) {    var c = new ConnectionImpl(config, auth, mode);    c.onAudioEvent = function(event, arg1, arg2) {        if (event === 'frame') {            c._onMicFrame(arg1, arg2);        } else if (event === 'micStop' || event === 'playStart') {            c._stopListen();        } else {            console.error('unknown audio event: ' + event, arg1, arg2);        }    };    return c;}var factories = {    connectProject: connectProject,};var currentConnect = null;onmessage = function(e) {    var name = e.data[0];    try {        if (!currentConnect) {            currentConnect = factories[name].apply(null, e.data.slice(1, e.data.length));        } else {            currentConnect[name].apply(currentConnect, e.data.slice(1, e.data.length));        }    } catch(e) {        console.error('error calling: ' + name, e);    }};\"]), {\n        type: 'text/javascript'\n      }));\n\n      this._worker.onmessage = function (e) {\n        if (e.data[0] === 'fireEvent') {\n          _this._fire(e.data[1], e.data[2]);\n\n          return;\n        }\n\n        if (e.data[0] === 'alanAudio') {\n          if (e.data[1] === 'playFrame') {\n            alanAudio.play(e.data[2]);\n            return;\n          }\n\n          if (e.data[1] === 'playCommand') {\n            alanAudio.playCommand(e.data[2]);\n            return;\n          }\n\n          if (e.data[1] === 'stop') {\n            alanAudio.stop();\n            return;\n          }\n        }\n\n        if (e.data[0] === \"callback\") {\n          _this._callback[e.data[1]](e.data[2], e.data[3]);\n\n          delete _this._callback[e.data[1]];\n          return;\n        }\n\n        if (e.data[0] === \"setDialogId\") {\n          _this._dialogId = e.data[1];\n          return;\n        }\n\n        console.error(\"invalid event\", e.data);\n      };\n\n      this._worker.onerror = function (e) {\n        console.error(\"error in worker: \" + e.filename + \":\" + e.lineno + \" - \" + e.message);\n      };\n\n      this._handlers = {};\n      this._cleanups = [];\n      this._callback = {};\n      this._callIds = 1;\n      this._config = {};\n    }\n\n    ConnectionWrapper.prototype.on = function (event, handler) {\n      var h = this._handlers[event];\n\n      if (!h) {\n        h = [];\n        this._handlers[event] = h;\n      }\n\n      h.push(handler);\n    };\n\n    ConnectionWrapper.prototype.off = function (event, handler) {\n      var h = this._handlers[event];\n\n      if (h) {\n        var index = h.indexOf(handler);\n\n        if (index >= 0) {\n          h.splice(index, 1);\n        }\n      }\n    };\n\n    ConnectionWrapper.prototype.getSettings = function () {\n      return {\n        server: config.baseURL,\n        projectId: this._config.projectId,\n        dialogId: this._dialogId\n      };\n    };\n\n    ConnectionWrapper.prototype.setVisual = function (state) {\n      this._worker.postMessage(['setVisual', state]);\n    };\n\n    ConnectionWrapper.prototype.call = function (method, param, callback) {\n      var cid = null;\n\n      if (callback) {\n        cid = this._callIds++;\n        this._callback[cid] = callback;\n      }\n\n      this._worker.postMessage(['call', cid, method, param]);\n    };\n\n    ConnectionWrapper.prototype.close = function () {\n      console.log('closing connection to: ' + this._url);\n\n      this._cleanups.forEach(h => {\n        h();\n      });\n\n      this._worker.postMessage(['close']);\n    };\n\n    ConnectionWrapper.prototype._fire = function (event, object) {\n      var h = this._handlers[event];\n\n      if (h) {\n        for (var i = 0; i < h.length; i++) {\n          h[i](object);\n        }\n      }\n    };\n\n    ConnectionWrapper.prototype._addCleanup = function (f) {\n      this._cleanups.push(f);\n    };\n\n    function fillAuth(values, ext) {\n      var auth = {};\n\n      for (var k in values) {\n        auth[k] = values[k];\n      }\n\n      if (!ext || ext && ext.platform == null) {\n        auth.platform = config.platform;\n      } else {\n        auth.platform = config.platform + \":\" + ext.platform;\n      }\n\n      if (!ext || ext && ext.platformVersion == null) {\n        auth.platformVersion = config.version;\n      } else {\n        auth.platformVersion = config.version + \":\" + ext.platformVersion;\n      }\n\n      return auth;\n    }\n\n    function connectProject(projectId, auth, host, mode, ext) {\n      var connect = new ConnectionWrapper();\n\n      if (host) {\n        connect._config.baseURL = \"wss://\" + host;\n      }\n\n      connect._config.projectId = projectId;\n      connect._config.codec = config.codec;\n      connect._config.version = config.version;\n      connect._config.url = config.baseURL + \"/ws_project/\" + projectId;\n\n      connect._worker.postMessage([\"connectProject\", connect._config, fillAuth(auth, ext), mode]);\n\n      function forwardAudioEvent(name) {\n        function handler(a1, a2) {\n          if (name === 'frame' && alanAudio.isPlaying()) {\n            return;\n          }\n\n          connect._worker.postMessage(['onAudioEvent', name, a1, a2]);\n        }\n\n        alanAudio.on(name, handler);\n\n        connect._addCleanup(function () {\n          alanAudio.off(name, handler);\n        });\n      }\n\n      forwardAudioEvent('frame');\n      forwardAudioEvent('micStop'); //forwardAudioEvent('playStop');\n\n      forwardAudioEvent('playStart');\n      return connect;\n    }\n\n    function connectProjectTest(projectId, auth, host, mode, ext) {\n      var connect = new ConnectionWrapper();\n\n      if (host) {\n        connect._config.baseURL = \"wss://\" + host;\n      }\n\n      connect._config.projectId = projectId;\n      connect._config.codec = config.codec;\n      connect._config.version = config.version;\n      connect._config.url = config.baseURL + \"/ws_project/\" + projectId;\n\n      connect._worker.postMessage([\"connectProject\", connect._config, fillAuth(auth, ext), mode]);\n\n      return connect;\n    }\n\n    function connectTutor(auth, host) {\n      var connect = new ConnectionWrapper();\n\n      if (host) {\n        connect._config.baseURL = \"wss://\" + host;\n      }\n\n      connect._config.version = config.version;\n      connect._config.url = config.baseURL + \"/ws_tutor\";\n\n      connect._worker.postMessage([\"connectProject\", connect._config, auth]);\n\n      return connect;\n    }\n\n    ns.alan = {\n      projectTest: connectProjectTest,\n      project: connectProject,\n      tutor: connectTutor\n    };\n  })(window);\n\n  (function (ns) {\n    \"use strict\";\n\n    function alanBtn(options) {\n      options = options || {};\n      var btnDisabled = false;\n      var hideS2TPanel = false;\n      var btnInstance = {\n        // Common public API\n        setVisualState: function (visualState) {\n          if (btnDisabled) {\n            return;\n          }\n\n          if (window.tutorProject) {\n            window.tutorProject.setVisual(visualState);\n          }\n        },\n        callProjectApi: function (funcName, data, callback) {\n          var funcNamePrefix = 'script::';\n\n          if (btnDisabled) {\n            return;\n          }\n\n          if (!funcName) {\n            throw 'Function name for callProjectApi must be provided';\n          }\n\n          if (window.tutorProject) {\n            if (funcName.indexOf(funcNamePrefix) === 0) {\n              window.tutorProject.call(funcName, data, callback);\n            } else {\n              window.tutorProject.call(funcNamePrefix + funcName, data, callback);\n            }\n          }\n        },\n        playText: function (text) {\n          if (btnDisabled) {\n            return;\n          }\n\n          if (window.tutorProject) {\n            window.tutorProject.call('play', {\n              text: text\n            });\n          }\n        },\n        playCommand: function (command) {\n          if (btnDisabled) {\n            return;\n          }\n\n          alanAudio.playCommand({\n            data: command\n          });\n        },\n        activate: function () {\n          return activateAlanButton();\n        },\n        deactivate: function () {\n          if (btnDisabled) {\n            return;\n          }\n\n          alanAudio.stop();\n        },\n        isActive: function () {\n          return isAlanActive;\n        },\n        //deprecated\n        callClientApi: function (method, data, callback) {\n          if (btnDisabled) {\n            return;\n          }\n\n          if (window.tutorProject) {\n            window.tutorProject.call(method, data, callback);\n          }\n        },\n        // deprecated\n        setAuthData: function (data) {\n          if (btnDisabled) {\n            return;\n          }\n\n          if (window.tutorProject) {\n            window.tutorProject.close();\n            window.tutorProject = alan.project(options.key, getAuthData(data), options.host);\n            window.tutorProject.on('connectStatus', onConnectStatusChange);\n            window.tutorProject.on('options', onOptionsReceived);\n          }\n        },\n        // Other methods\n        setOptions: function (btnOptions) {\n          applyBtnOptions(btnOptions);\n        },\n        setPreviewState: function (state) {\n          switchState(state);\n        },\n        remove: function () {\n          alanAudio.stop();\n          window.tutorProject.close();\n          rootEl.remove();\n        },\n        stop: function () {\n          alanAudio.stop();\n        },\n        updateButtonState: function (state) {\n          onConnectStatusChange(state);\n        }\n      };\n\n      if (!isAudioSupported()) {\n        return;\n      } //Host\n\n\n      var host = 'studio.alan.app';\n      var baseUrl = 'https://' + (host.indexOf('$') === 0 || host === '' ? window.location.host : host);\n\n      if (options.host) {\n        baseUrl = 'https://' + options.host;\n      } // Btn modes\n\n\n      var mode;\n\n      if (options.mode === 'tutor') {\n        mode = 'tutor';\n      } else if (options.mode === 'tutor-preview') {\n        mode = 'tutor-preview';\n      } else if (options.mode === 'demo') {\n        mode = 'demo';\n      } else {\n        mode = 'component';\n      } // Btn states\n\n\n      var DEFAULT = 'default';\n      var LISTENING = 'listening';\n      var SPEAKING = 'speaking';\n      var INTERMEDIATE = 'intermediate';\n      var UNDERSTOOD = 'understood';\n      var DISCONNECTED = 'disconnected';\n      var OFFLINE = 'offline';\n      var LOW_VOLUME = 'lowVolume';\n      var PERMISSION_DENIED = 'permissionDenied'; // Error messages\n\n      var MIC_BLOCKED_MSG = 'Access to the microphone was blocked. Please allow it to use Alan';\n      var NO_VOICE_SUPPORT_IN_BROWSER_MSG = 'Your browser doesnâ€™t support voice input. To use voice, open Alan Tutor in a Chrome, Safari, or Firefox desktop browser window.';\n      var MIC_BLOCKED_CODE = 'microphone-access-blocked';\n      var NO_VOICE_SUPPORT_IN_BROWSER_CODE = 'browser-does-not-support-voice-input';\n      var PREVIEW_MODE_CODE = 'preview-mode';\n      var BTN_IS_DISABLED_CODE = 'btn-is-disabled';\n      var NO_ALAN_AUDIO_INSANCE_WAS_PROVIDED_CODE = 'no-alan-audio-instance-was-provided'; // Set default state for btn\n\n      var state = DISCONNECTED;\n      var previousState = null;\n      var isAlanSpeaking = false;\n      var isAlanActive = false; // Set variables for hints and stt\n\n      var hints = [];\n      var hintsTimerId = null;\n      var insideHintsAnimationIntervalId = null;\n      var hintsRequestIntervalId = null;\n      var hintAppearTimeoutId = null;\n      var removeTextHintTimeoutId = null;\n      var hoverShowHintTimeoutId = null;\n      var hoverHideHintTimeoutId = null;\n      var doNotShowHints = false;\n      var hintVisible = false;\n      var recognisedTextVisible = false;\n      var textHolderWidth = 480;\n      var hintHolderWidth = 480;\n      var hintCloserRightPos;\n      var isHintWasPreviously = false;\n      var defaultHintLabel = 'Click and say';\n      var listeningHintLabel = 'Say';\n      var turnOffTimeout = 30000;\n      var turnOffVoiceFn;\n\n      function setTurnOffVoiceTimeout() {\n        turnOffVoiceFn = debounce(function () {\n          if (isAlanSpeaking) {\n            // console.info('BTN: CONTINUE alanAudio', new Date());\n            turnOffVoiceFn();\n          } else {\n            // console.info('BTN: STOP alanAudio', new Date());\n            alanAudio.stop();\n          }\n        }, turnOffTimeout);\n      }\n\n      setTurnOffVoiceTimeout();\n      var switchToLowVolumeStateTimer = null; // Css animations\n\n      var pulsatingAnimation = '';\n      var pulsatingMicAnimation = '';\n      var pulsatingTriangleMicAnimation = '';\n\n      if (!isPreviewMode()) {\n        pulsatingAnimation = 'alan-pulsating 2s ease-in-out infinite';\n        pulsatingMicAnimation = 'alan-mic-pulsating 1.4s ease-in-out infinite';\n        pulsatingTriangleMicAnimation = 'alan-triangle-mic-pulsating 1.2s ease-in-out infinite';\n      }\n\n      var gradientAnimation = 'alan-gradient 3s ease-in-out infinite';\n      var disconnectedLoaderAnimation = 'disconnected-loader-animation 2s linear infinite';\n      var oval1Animation = 'oval1-animation 6s linear infinite';\n      var oval2Animation = 'oval2-animation 6s linear infinite'; // Set alanAudio\n\n      var alanAudio = window.alanAudio; // Define base blocks and layers\n\n      var rootEl = options.rootEl || document.createElement('div');\n      var body = document.getElementsByTagName('body')[0];\n      var btn = document.createElement('div');\n      var panelOvalImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI3NThweCIgaGVpZ2h0PSIyMTdweCIgdmlld0JveD0iMCAwIDc1OCAyMTciIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+T3ZhbCBDb3B5IDI8L3RpdGxlPiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4gICAgPGRlZnM+ICAgICAgICA8cmFkaWFsR3JhZGllbnQgY3g9IjUwJSIgY3k9IjQxLjA1NjE0NTIlIiBmeD0iNTAlIiBmeT0iNDEuMDU2MTQ1MiUiIHI9IjE2Ni42MjMxMDIlIiBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKDAuNTAwMDAwLDAuNDEwNTYxKSxzY2FsZSgwLjI4NjI4MCwxLjAwMDAwMCkscm90YXRlKDE4MC4wMDAwMDApLHNjYWxlKDEuMDAwMDAwLDAuMjMyODQ2KSx0cmFuc2xhdGUoLTAuNTAwMDAwLC0wLjQxMDU2MSkiIGlkPSJyYWRpYWxHcmFkaWVudC0xIj4gICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGRkZGIiBvZmZzZXQ9IjAlIj48L3N0b3A+ICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRkZGRiIgb2Zmc2V0PSIzMy42Njc4MzM2JSI+PC9zdG9wPiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkZGRkYiIHN0b3Atb3BhY2l0eT0iMC4xIiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4gICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+ICAgIDwvZGVmcz4gICAgPGcgaWQ9IkFsYW4tQnV0dG9uIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJBbGFuLUJ1dHRvbi1jaGVja2luZy1kaWZmZXJlbnQtYmctYW5kLWhpbnRzLS0tbGF5ZXJzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjAyOS4wMDAwMDAsIC00MTguMDAwMDAwKSIgZmlsbD0idXJsKCNyYWRpYWxHcmFkaWVudC0xKSIgZmlsbC1ydWxlPSJub256ZXJvIj4gICAgICAgICAgICA8ZWxsaXBzZSBpZD0iT3ZhbC1Db3B5LTIiIGN4PSIyNDA4IiBjeT0iNTI2LjUiIHJ4PSIzNzkiIHJ5PSIxMDguNSI+PC9lbGxpcHNlPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+';\n      var micTriangleIconImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1pbm5lci1zaGFwZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjMuNzQ5Mzk5NDZlLTMxJSIgeDI9IjIuODYwODIwMDklIiB5Mj0iOTcuMTM5MTc5OSUiIGlkPSJsaW5lYXJHcmFkaWVudC0xIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjEyIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4wNCIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSJBbGFuLUJ1dHRvbi0vLUFuaW1hdGlvbi0vLWJ1dHRvbi1pbm5lci1zaGFwZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTQwLjEwMDU0MjIsOSBMNDAuMTAwNTQyMiw5IEM1MC4wNzA0NzUxLDkgNTkuMTUxNjIzNSwxNC43MzM3OTM4IDYzLjQzODA5OCwyMy43MzUyMjE0IEw3MC40MjIwMjY3LDM4LjQwMTE5NyBDNzUuMTcxMDE0NSw0OC4zNzM4ODQ0IDcwLjkzNjM2OTMsNjAuMzA4MTYwMSA2MC45NjM2ODE5LDY1LjA1NzE0NzggQzU4LjI3NzU5NDksNjYuMzM2MjYwOCA1NS4zMzk5NzQ0LDY3IDUyLjM2NDg3ODksNjcgTDI3LjgzNjIwNTQsNjcgQzE2Ljc5MDUxMDQsNjcgNy44MzYyMDU0Myw1OC4wNDU2OTUgNy44MzYyMDU0Myw0NyBDNy44MzYyMDU0Myw0NC4wMjQ5MDQ1IDguNDk5OTQ0NTksNDEuMDg3Mjg0IDkuNzc5MDU3NiwzOC40MDExOTcgTDE2Ljc2Mjk4NjQsMjMuNzM1MjIxNCBDMjEuMDQ5NDYwOCwxNC43MzM3OTM4IDMwLjEzMDYwOTIsOSA0MC4xMDA1NDIyLDkgWiIgaWQ9ImlubmVyLWJnIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==\\n';\n      var micCircleIconImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1pbm5lci1zaGFwZS1zcGVha2luZyBiYWNrPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IHgxPSIxMDAlIiB5MT0iMy43NDkzOTk0NmUtMzElIiB4Mj0iMi44NjA4MjAwOSUiIHkyPSI5Ny4xMzkxNzk5JSIgaWQ9ImxpbmVhckdyYWRpZW50LTEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMDAwMDAwIiBzdG9wLW9wYWNpdHk9IjAuMTIiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjA0IiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWlubmVyLXNoYXBlLXNwZWFraW5nLWJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxjaXJjbGUgaWQ9ImlubmVyLWJnIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIiBjeD0iNDAiIGN5PSI0MCIgcj0iMzIiPjwvY2lyY2xlPgogICAgPC9nPgo8L3N2Zz4=\\n';\n      var micIcon = document.createElement('div');\n      var logoState1 = document.createElement('img');\n      var logoState2 = document.createElement('img');\n      var logoState3 = document.createElement('img');\n      var logoState4 = document.createElement('img');\n      var logoState5 = document.createElement('img');\n      var logoState6 = document.createElement('img');\n      var logoState7 = document.createElement('img');\n      var logoState8 = document.createElement('img');\n      var logoState9 = document.createElement('img');\n      var logoState10 = document.createElement('img');\n      var micTriangleIcon = document.createElement('div');\n      var micCircleIcon = document.createElement('div');\n      var disconnectedMicLoaderIcon = document.createElement('img');\n      var lowVolumeMicIcon = document.createElement('img');\n      var offlineIcon = document.createElement('img');\n      var textHolder = document.createElement('div');\n      var textHolderTextWrapper = document.createElement('div');\n      var alanBtnDisabledMessage = document.createElement('div');\n      var hintHolder = document.createElement('div');\n      var hintHolderWrapper = document.createElement('div');\n      var soundOnAudioDoesNotExist = false;\n      var soundOffAudioDoesNotExist = false;\n      var soundOnAudio = new Audio(baseUrl + '/resources/sounds/soundOn.m4a');\n\n      soundOnAudio.onerror = function () {\n        soundOnAudioDoesNotExist = true;\n      };\n\n      var soundOffAudio = new Audio(baseUrl + '/resources/sounds/soundOff.m4a');\n\n      soundOffAudio.onerror = function () {\n        soundOffAudioDoesNotExist = true;\n      };\n\n      textHolder.addEventListener(\"click\", closeHint); // Specify layers for different statets to make smooth animation\n\n      var btnBgDefault = document.createElement('div');\n      var btnBgListening = document.createElement('div');\n      var btnBgSpeaking = document.createElement('div');\n      var btnBgIntermediate = document.createElement('div');\n      var btnBgUnderstood = document.createElement('div'); // Specify layers with ovals\n\n      var btnOval1 = document.createElement('div');\n      var btnOval2 = document.createElement('div'); // Some variables for setting up right properties for Alan Btn\n\n      var btnSize;\n      var rightBtnPos;\n      var leftBtnPos;\n      var bottomBtnPos;\n      var topBtnPos;\n      var btnZIndex;\n      var btnIconsZIndex;\n      var btnTextPanelsZIndex;\n      var btnBgLayerZIndex; // Define base properties for disable/enable button functionality\n\n      var isLocalStorageAvailable = false;\n\n      try {\n        localStorage.getItem('test');\n        isLocalStorageAvailable = true;\n      } catch (e) {\n        isLocalStorageAvailable = false;\n      } //#region Listen online/offline events to manage connected/disconnected states\n\n\n      window.addEventListener('online', updateOnlineStatus);\n      window.addEventListener('offline', updateOnlineStatus);\n\n      function updateOnlineStatus() {\n        if (navigator.onLine) {\n          switchState(DEFAULT);\n        } else {\n          switchState(OFFLINE);\n        }\n      } //#endregion\n      //#region Define settings based on the btn mode\n      // For now we have two modes: small - for tutor, and big for demo\n\n\n      var btnModes = {\n        \"tutor\": {\n          btnSize: 50,\n          rightPos: 0,\n          leftPos: 0,\n          bottomPos: 0,\n          topPos: 0,\n          waveVerticalPositionRatio: 0.9,\n          waveCanvasWidth: 250,\n          waveCanvasHeight: 100\n        },\n        \"tutor-preview\": {\n          btnSize: 64,\n          rightPos: 0,\n          leftPos: 0,\n          bottomPos: 0,\n          topPos: 0,\n          waveVerticalPositionRatio: 0.9,\n          waveCanvasWidth: 250,\n          waveCanvasHeight: 100\n        },\n        \"demo\": {\n          btnSize: 120,\n          rightPos: 40,\n          leftPos: 40,\n          bottomPos: 40,\n          topPos: 0,\n          waveVerticalPositionRatio: 0.8,\n          waveCanvasWidth: 500,\n          waveCanvasHeight: 200\n        },\n        \"component\": {\n          btnSize: options.size || 64,\n          rightPos: 40,\n          leftPos: 40,\n          bottomPos: 40,\n          topPos: 0,\n          waveVerticalPositionRatio: 0.8,\n          waveCanvasWidth: 500,\n          waveCanvasHeight: 200\n        }\n      };\n\n      function isTutorMode() {\n        return mode.indexOf('tutor') > -1;\n      }\n\n      function isPreviewMode() {\n        return mode.indexOf('preview') > -1;\n      } //#endregion\n      //#region Set styles for base layers\n\n\n      btnSize = btnModes[mode].btnSize;\n      bottomBtnPos = options.bottom || btnModes[mode].bottomPos + 'px';\n      rightBtnPos = options.right || btnModes[mode].rightPos + 'px';\n\n      if (options.left) {\n        leftBtnPos = options.left || btnModes[mode].leftPos + 'px';\n      }\n\n      if (options.top) {\n        topBtnPos = options.top || btnModes[mode].topPos + 'px';\n      }\n\n      btnZIndex = options.zIndex || 4;\n      btnIconsZIndex = btnZIndex - 2;\n      btnTextPanelsZIndex = btnZIndex - 1;\n      btnBgLayerZIndex = btnZIndex - 3; // Define styles for root element\n\n      if (options.left) {\n        rootEl.style.left = leftBtnPos;\n      } else {\n        rootEl.style.right = rightBtnPos;\n      }\n\n      if (options.top) {\n        rootEl.style.top = topBtnPos;\n      } else {\n        rootEl.style.bottom = bottomBtnPos;\n      }\n\n      rootEl.style.position = isTutorMode() ? 'absolute' : 'fixed';\n\n      if (options.zIndex !== undefined) {\n        rootEl.style.zIndex = options.zIndex;\n      }\n\n      rootEl.style.position = isTutorMode() ? 'absolute' : 'fixed'; // Define styles for block with recognised text\n\n      var textHolderDefaultBorderColor = '#d5eded';\n      var textHolderDefaultBoxShadow = '0px 12px 50px -14px rgba(0,0,0,0.2), 0px 12px 50px -14px rgba(0,169,255,0.3)';\n      textHolderTextWrapper.classList.add('alanBtn-text-holder-text-wrapper');\n      textHolder.classList.add('alanBtn-text-holder');\n      setInnerPositionBasedOnOptions(textHolder, options);\n\n      if (options.left) {\n        textHolderTextWrapper.style.paddingLeft = btnSize + 32 + 'px';\n        textHolderTextWrapper.style.textAlign = 'left';\n      } else {\n        textHolderTextWrapper.style.paddingRight = btnSize + 32 + 'px';\n      }\n\n      textHolder.style.height = btnSize + 'px';\n      textHolder.style.minHeight = btnSize + 'px';\n      textHolder.style.maxHeight = btnSize + 'px';\n      textHolder.style.borderRadius = btnSize + 'px';\n      textHolder.style.borderRadius = btnSize + 'px';\n      textHolder.style.zIndex = btnTextPanelsZIndex;\n      textHolder.style.borderColor = textHolderDefaultBorderColor;\n      textHolder.style.boxShadow = textHolderDefaultBoxShadow; // Define styles for block with hints\n\n      hintHolderWrapper.classList.add('alanBtn-hint-holder-wrapper');\n\n      if (options.left) {\n        hintHolderWrapper.classList.add('alanBtn-hint-holder-wrapper-left');\n        hintHolderWrapper.style.paddingLeft = btnSize + 32 + 'px';\n      } else {\n        hintHolderWrapper.classList.add('alanBtn-hint-holder-wrapper-right');\n        hintHolderWrapper.style.paddingRight = btnSize + 32 + 'px';\n      }\n\n      hintHolder.classList.add('alanBtn-hint-holder');\n      setInnerPositionBasedOnOptions(hintHolder, options);\n      hintCloserRightPos = btnSize / 2 + 32;\n      hintHolder.style.zIndex = btnTextPanelsZIndex;\n      hintHolder.style.borderTopRightRadius = btnSize + 'px';\n      hintHolder.style.borderBottomRightRadius = btnSize + 'px';\n      hintHolder.style.minHeight = btnSize + 'px';\n      hintHolder.style.borderColor = textHolderDefaultBorderColor;\n      hintHolder.style.boxShadow = textHolderDefaultBoxShadow; // Define styles for message that informs that Alan Btn was disabled\n\n      setInnerPositionBasedOnOptions(alanBtnDisabledMessage, options);\n      alanBtnDisabledMessage.style.zIndex = btnTextPanelsZIndex;\n      alanBtnDisabledMessage.style.borderRadius = '7px';\n      alanBtnDisabledMessage.style.backgroundColor = '#ffffff';\n      alanBtnDisabledMessage.style.boxShadow = '0 2px 50px 0 rgba(86, 98, 112, 0.1)';\n      alanBtnDisabledMessage.style.position = 'absolute';\n      alanBtnDisabledMessage.style.color = 'red';\n      alanBtnDisabledMessage.style.width = '200px';\n      alanBtnDisabledMessage.style.fontSize = '14px';\n      alanBtnDisabledMessage.style.padding = '16px';\n      alanBtnDisabledMessage.innerText = \"This project's voice button has been disabled.\";\n      alanBtnDisabledMessage.classList.add(\"alan-btn-disabled-msg\");\n\n      function setInnerPositionBasedOnOptions(el, options) {\n        if (options.top) {\n          el.style.top = 0;\n        } else {\n          el.style.bottom = 0;\n        }\n\n        if (options.left) {\n          el.style.left = 0;\n        } else {\n          el.style.right = 0;\n        }\n      } // Define base styles for btn\n\n\n      btn.style.width = btnSize + 'px';\n      btn.style.minWidth = btnSize + 'px';\n      btn.style.maxWidth = btnSize + 'px';\n      btn.style.minHeight = btnSize + 'px';\n      btn.style.height = btnSize + 'px';\n      btn.style.maxHeight = btnSize + 'px';\n      btn.style.color = '#fff';\n      btn.style.position = 'absolute';\n\n      if (options.top) {\n        btn.style.top = 0;\n      } else {\n        btn.style.bottom = 0;\n      }\n\n      if (options.left) {\n        btn.style.left = 0;\n      } else {\n        btn.style.right = 0;\n      }\n\n      btn.style.borderRadius = '50%';\n      btn.style.boxShadow = '0 8px 10px 0 rgba(0, 75, 144, 0.35)';\n      btn.style.textAlign = 'center';\n      btn.style.transition = 'all 0.4s ease-in-out';\n      btn.style.zIndex = btnZIndex; // Specify tabIndex if it exists in options\n\n      if (options && options.tabIndex) {\n        btn.tabIndex = options.tabIndex;\n      } // Specify cursor for btn\n\n\n      if (isPreviewMode()) {\n        btn.style.cursor = 'default';\n      } else {\n        btn.style.cursor = 'pointer';\n      } // Define base styles for microphone btn\n\n\n      micIcon.style.minHeight = '100%';\n      micIcon.style.height = '100%';\n      micIcon.style.maxHeight = '100%';\n      micIcon.style.top = '0%';\n      micIcon.style.left = '0%';\n      micIcon.style.zIndex = btnIconsZIndex;\n      micIcon.style.position = 'relative';\n      micIcon.style.transition = 'all 0.4s ease-in-out';\n\n      function setUpStylesForLogoParts(logos) {\n        for (var i = 0; i < logos.length; i++) {\n          var obj = logos[i];\n          logos[i].style.minHeight = '100%';\n          logos[i].style.height = '100%';\n          logos[i].style.maxHeight = '100%';\n          logos[i].style.minWidth = '100%';\n          logos[i].style.width = '100%';\n          logos[i].style.maxWidth = '100%';\n          logos[i].style.top = '0%';\n          logos[i].style.left = '0%';\n          logos[i].style.position = 'absolute';\n          logos[i].style.animationIterationCount = 'infinite';\n          logos[i].style.animationDuration = '9s';\n          logos[i].style.animationTimingFunction = 'ease-in-out';\n          logos[i].style.opacity = i == 0 ? 1 : 0;\n          micIcon.appendChild(logos[i]);\n        }\n      }\n\n      logoState1.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAxPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEMzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOS42NDAwMDEsMS40OTU0Njg1IEMxOS4xNjEyODQ2LDAuNTc2MzMzMDYgMTguMjEyMTgsLTEuMjE3ODgzODNlLTE0IDE3LjE3NzI2NTMsLTEuNDIxMDg1NDdlLTE0IEwzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IFogTTI4LjM1OTk5OSwxLjQ5NTQ2ODUgQzI4LjgyNDcxODksMC42MDMyMDY0MiAyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgTDMwLjk0NDQ0NDQsLTEuNDIxMDg1NDdlLTE0IEwzMC44MjI3MzQ3LC0xLjIzNzUxMTgzZS0xNCBDMzAuNzkyNDc2MywtMS4yMzE1ODY5M2UtMTQgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDI4LjM1OTk5OSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlLTIiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      logoState2.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAyPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEwxNS40OTkxNjU5LDEuMTIxNjAxMzggQzE1Ljg0NjA3ODEsMC40NTU1Mjk5NjQgMTYuNTIyMzU1NSwwLjAyOTQ4ODMzMzUgMTcuMjY3ODExLDAuMDAxNDcyMTgxMTUgQzE4LjI2NzI3NzEsMC4wMzM5OTQyODkxIDE5LjE3NTI4MTEsMC42MDMyMDY0MiAxOS42NDAwMDEsMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOC4yNzExOTI0LDIxIFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LDEuODU4NDEzMzFlLTE1IDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgTDMwLjk0NDQ0NDQsMCBMMzAuODIyNzM0NywxLjgzNTczNjRlLTE1IEMzMC43OTI0NzYzLDEuODk0OTg1MzllLTE1IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjkiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgQzMwLjY3OTk5NSwxLjg1ODQxMzMxZS0xNSAzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjguMzU5OTk5LDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTkuNjQwMDAxLDEuNDk1NDY4NSBDMTkuMTYxMjg0NiwwLjU3NjMzMzA2IDE4LjIxMjE4LDIuMDMyMDE2NDNlLTE1IDE3LjE3NzI2NTMsMCBMMzAuNjUzNzgyMywxLjg1MzU4OTc1ZS0xNSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      logoState3.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjkiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgQzMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwtMS4yMTc4ODM4M2UtMTQgMTcuMTc3MjY1MywtMS40MjEwODU0N2UtMTQgTDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\";\n      logoState4.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA0PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDQiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTcuMjM3NzA4OSwwLjAwMDQ5MjY3MjYzNSAxNy4yMDc1MjM3LDEuOTU5OTMzNjZlLTE0IDE3LjE3NzI2NTMsMS45NTM5OTI1MmUtMTQgTDMwLjY1Mzc4MjMsMi4xMzkzNTE1ZS0xNCBDMzAuNjc5OTk1LDIuMTM5ODMzODVlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjUiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\";\n      logoState5.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA1PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMjguMzU5OTk5LDEuNDk1NDY4NSBDMjguODI0NzE4OSwwLjYwMzIwNjQyIDI5LjczMjcyMjksMC4wMzM5OTQyODkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBMMzAuOTQ0NDQ0NCwtMS40MjEwODU0N2UtMTQgTDMwLjgyMjczNDcsLTEuMjM3NTExODNlLTE0IEMzMC43OTI0NzYzLC0xLjIzMTU4NjkzZS0xNCAzMC43NjIyOTExLDAuMDAwNDkyNjcyNjM1IDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMS40Nzc2NDQ1LDAuMDI5NDg4MzMzNSAzMi4xNTM5MjE5LDAuNDU1NTI5OTY0IDMyLjUwMDgzNDEsMS4xMjE2MDEzOCBMNDcuNTIzNTAyOSwyOS45NjUxMjU2IEM0Ny42MjY5ODQ0LDMwLjE2MzgxIDQ3LjY4MTAyMzksMzAuMzg0NTk0OCA0Ny42ODEwMjM5LDMwLjYwODY5NTcgQzQ3LjY4MTAyMzksMzEuMzc3MDkxOCA0Ny4wNTkxOTcyLDMyIDQ2LjI5MjEzNTEsMzIgTDM2Ljc5MDY2MjIsMzIgQzM2LjAxNDQ3NjEsMzIgMzUuMzAyNjQ3NywzMS41Njc3NTAyIDM0Ljk0MzYxMDQsMzAuODc4Mzk4NiBMMjQsOS44NjY2NjY2NyBMMjguMzU5OTk5LDEuNDk1NDY4NSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEMzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOS42NDAwMDEsMS40OTU0Njg1IEMxOS4xNjEyODQ2LDAuNTc2MzMzMDYgMTguMjEyMTgsLTEuMjE3ODgzODNlLTE0IDE3LjE3NzI2NTMsLTEuNDIxMDg1NDdlLTE0IEwzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTE4LjI3MTE5MjQsMjEgTDIzLjk1NjQ1ODIsMjEgQzI0LjczMDk1NjIsMjAuOTk5ODkzOSAyNS40NDE1ODY3LDIxLjI5NTM4NDggMjUuODAxNDg0NiwyMS45ODIzNzY3IEwyOS45ODE5MDE1LDI5Ljk2MjE3NjkgQzMwLjMzODM0NCwzMC42NDI1NzMyIDMwLjA3NjY4NTIsMzEuNDgzNTk5NyAyOS4zOTc0NzAxLDMxLjg0MDY2MjEgQzI5LjE5ODM4MzgsMzEuOTQ1MzIxNSAyOC45NzY5MDkzLDMyIDI4Ljc1MjA3MzgsMzIgTDExLjIwOTMzNzgsMzIgTDEuNzA3ODY0OTUsMzIgQzAuOTQwODAyNzk2LDMyIDAuMzE4OTc2MDU5LDMxLjM3NzA5MTggMC4zMTg5NzYwNTksMzAuNjA4Njk1NyBDMC4zMTg5NzYwNTksMzAuMzg0NTk0OCAwLjM3MzAxNTYxOCwzMC4xNjM4MSAwLjQ3NjQ5NzEwNiwyOS45NjUxMjU2IEw0LjYzMDYyNzg1LDIxLjk4OTE5NDUgQzQuOTg5NjE3NzYsMjEuMjk5OTMzOSA1LjcwMTMxMTAxLDIxLjAwMDEwNjMgNi40NzczOTQ2NiwyMSBMMTguMjcxMTkyNCwyMSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      logoState6.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA2PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMzAuNjUzNzgyMywxLjg1MzU4OTc1ZS0xNSBMMzAuOTQ0NDQ0NCwwIEwzMC44MjI3MzQ3LDEuODM1NzM2NGUtMTUgQzMwLjc5MjQ3NjMsMS44OTQ5ODUzOWUtMTUgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwyLjAzMjAxNjQzZS0xNSAxNy4xNzcyNjUzLDAgTDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      logoState7.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA3PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDciIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEwxNS40OTkxNjU5LDEuMTIxNjAxMzggQzE1Ljg0NjA3ODEsMC40NTU1Mjk5NjQgMTYuNTIyMzU1NSwwLjAyOTQ4ODMzMzUgMTcuMjY3ODExLDAuMDAxNDcyMTgxMTUgQzE4LjI2NzI3NzEsMC4wMzM5OTQyODkxIDE5LjE3NTI4MTEsMC42MDMyMDY0MiAxOS42NDAwMDEsMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOC4yNzExOTI0LDIxIFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMjguMzU5OTk5LDEuNDk1NDY4NSBDMjguODI0NzE4OSwwLjYwMzIwNjQyIDI5LjczMjcyMjksMC4wMzM5OTQyODkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjY3OTk5NSwxLjg1ODQxMzMxZS0xNSAzMC42NTM3ODIzLDEuODUzNTg5NzVlLTE1IEwzMC45NDQ0NDQ0LDAgTDMwLjgyMjczNDcsMS44MzU3MzY0ZS0xNSBDMzAuNzkyNDc2MywxLjg5NDk4NTM5ZS0xNSAzMC43NjIyOTExLDAuMDAwNDkyNjcyNjM1IDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMS40Nzc2NDQ1LDAuMDI5NDg4MzMzNSAzMi4xNTM5MjE5LDAuNDU1NTI5OTY0IDMyLjUwMDgzNDEsMS4xMjE2MDEzOCBMNDcuNTIzNTAyOSwyOS45NjUxMjU2IEM0Ny42MjY5ODQ0LDMwLjE2MzgxIDQ3LjY4MTAyMzksMzAuMzg0NTk0OCA0Ny42ODEwMjM5LDMwLjYwODY5NTcgQzQ3LjY4MTAyMzksMzEuMzc3MDkxOCA0Ny4wNTkxOTcyLDMyIDQ2LjI5MjEzNTEsMzIgTDM2Ljc5MDY2MjIsMzIgQzM2LjAxNDQ3NjEsMzIgMzUuMzAyNjQ3NywzMS41Njc3NTAyIDM0Ljk0MzYxMDQsMzAuODc4Mzk4NiBMMjQsOS44NjY2NjY2NyBMMjguMzU5OTk5LDEuNDk1NDY4NSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLDEuODUzNTg5NzVlLTE1IEMzMC42Nzk5OTUsMS44NTg0MTMzMWUtMTUgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwyLjAzMjAxNjQzZS0xNSAxNy4xNzcyNjUzLDAgTDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      logoState8.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA4PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgQzMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwtMS4yMTc4ODM4M2UtMTQgMTcuMTc3MjY1MywtMS40MjEwODU0N2UtMTQgTDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\";\n      logoState9.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA5PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDkiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTcuMjM3NzA4OSwwLjAwMDQ5MjY3MjYzNSAxNy4yMDc1MjM3LDEuOTU5OTMzNjZlLTE0IDE3LjE3NzI2NTMsMS45NTM5OTI1MmUtMTQgTDMwLjY1Mzc4MjMsMi4xMzkzNTE1ZS0xNCBDMzAuNjc5OTk1LDIuMTM5ODMzODVlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjUiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\";\n      logoState10.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTEwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMTAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBMMS43MDc4NjQ5NSwzMiBDMC45NDA4MDI3OTYsMzIgMC4zMTg5NzYwNTksMzEuMzc3MDkxOCAwLjMxODk3NjA1OSwzMC42MDg2OTU3IEMwLjMxODk3NjA1OSwzMC4zODQ1OTQ4IDAuMzczMDE1NjE4LDMwLjE2MzgxIDAuNDc2NDk3MTA2LDI5Ljk2NTEyNTYgTDQuNjMwNjI3ODUsMjEuOTg5MTk0NSBDNC45ODk2MTc3NiwyMS4yOTk5MzM5IDUuNzAxMzExMDEsMjEuMDAwMTA2MyA2LjQ3NzM5NDY2LDIxIEwxOC4yMDEzODg5LDIxIEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUtMiIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTI4LjM1OTk5OSwxLjQ5NTQ2ODUgQzI4LjgyNDcxODksMC42MDMyMDY0MiAyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgTDMwLjk0NDQ0NDQsLTEuNDIxMDg1NDdlLTE0IEwzMC44MjI3MzQ3LC0xLjIzNzUxMTgzZS0xNCBDMzAuNzkyNDc2MywtMS4yMzE1ODY5M2UtMTQgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDI4LjM1OTk5OSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBDMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjguMzU5OTk5LDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTkuNjQwMDAxLDEuNDk1NDY4NSBDMTkuMTYxMjg0NiwwLjU3NjMzMzA2IDE4LjIxMjE4LC0xLjIxNzg4MzgzZS0xNCAxNy4xNzcyNjUzLC0xLjQyMTA4NTQ3ZS0xNCBMMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n      setUpStylesForLogoParts([logoState1, logoState2, logoState3, logoState4, logoState5, logoState6, logoState7, logoState8, logoState9, logoState10]); // Define base styles for triangle bellow the microphone btn\n\n      micTriangleIcon.style.minHeight = '100%';\n      micTriangleIcon.style.height = '100%';\n      micTriangleIcon.style.maxHeight = '100%';\n      micTriangleIcon.style.minWidth = '100%';\n      micTriangleIcon.style.width = '100%';\n      micTriangleIcon.style.maxWidth = '100%';\n      micTriangleIcon.style.top = '0%';\n      micTriangleIcon.style.left = '0%';\n      micTriangleIcon.style.zIndex = btnIconsZIndex;\n      micTriangleIcon.style.position = 'absolute';\n      micTriangleIcon.style.opacity = 0;\n      micTriangleIcon.style.transition = 'all 0.4s ease-in-out';\n      micTriangleIcon.style.overflow = 'hidden';\n      micTriangleIcon.style.borderRadius = '50%';\n      micTriangleIcon.style.backgroundSize = '100% 100%';\n      micTriangleIcon.style.backgroundPosition = 'center center';\n      micTriangleIcon.style.backgroundRepeat = 'no-repeat';\n      micTriangleIcon.classList.add('triangleMicIconBg');\n      micTriangleIcon.classList.add('triangleMicIconBg-default');\n      micCircleIcon.style.minHeight = '100%';\n      micCircleIcon.style.height = '100%';\n      micCircleIcon.style.maxHeight = '100%';\n      micCircleIcon.style.minWidth = '100%';\n      micCircleIcon.style.width = '100%';\n      micCircleIcon.style.maxWidth = '100%';\n      micCircleIcon.style.top = '0%';\n      micCircleIcon.style.left = '0%';\n      micCircleIcon.style.zIndex = btnIconsZIndex;\n      micCircleIcon.style.position = 'absolute';\n      micCircleIcon.style.opacity = 0;\n      micCircleIcon.style.transition = 'all 0.4s ease-in-out';\n      micCircleIcon.style.overflow = 'hidden';\n      micCircleIcon.style.borderRadius = '50%';\n      micCircleIcon.style.backgroundSize = '0% 0%';\n      micCircleIcon.style.backgroundPosition = 'center center';\n      micCircleIcon.style.backgroundRepeat = 'no-repeat';\n      micCircleIcon.classList.add('circleMicIconBg'); // Define base styles for loader mic icon in disconnected state\n\n      disconnectedMicLoaderIcon.style.minHeight = '100%';\n      disconnectedMicLoaderIcon.style.height = '100%';\n      disconnectedMicLoaderIcon.style.maxHeight = '100%';\n      disconnectedMicLoaderIcon.style.top = '0%';\n      disconnectedMicLoaderIcon.style.left = '0%';\n      disconnectedMicLoaderIcon.style.zIndex = btnIconsZIndex;\n      disconnectedMicLoaderIcon.style.position = 'absolute';\n      disconnectedMicLoaderIcon.style.transition = 'all 0.4s ease-in-out';\n      disconnectedMicLoaderIcon.style.opacity = '0';\n      disconnectedMicLoaderIcon.src = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiB2aWV3Qm94PSIwIDAgMTkyIDE5MiI+CiAgICA8ZyBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTk2IDBjNTMuMDIgMCA5NiA0Mi45OCA5NiA5NnMtNDIuOTggOTYtOTYgOTZTMCAxNDkuMDIgMCA5NiA0Mi45OCAwIDk2IDB6IiBvcGFjaXR5PSIuMDIiLz4KICAgICAgICA8cGF0aCBkPSJNMTMxLjk2NiAxOS4wOTJjLTMwLTE0LTY1LjI4NC05Ljg0OS05MS4xNDIgMTIuNTc1QzE0Ljk2NiA1NC4wOTIgNi44NSA4My44MSAxMi45MDggMTEzLjk1YzYuMDU4IDMwLjE0MiAzMC4zMDIgNTYuMTkgNjAuMDU4IDY0LjE0MiAzNS4xODMgOS40MDYgNzMtNCA5My0zNC0xNy45MjQgMjMuOTE2LTUyLjM2NiAzOC4yOTMtODMgMzMtMzAuMTY4LTUuMjEtNTcuMTA0LTMxLjExLTY0LTYxLTcuMzQ3LTMxLjgzNS43NzktNTYgMjctODBzODAtMjYgMTA5IDljNS41MzYgNi42ODEgMTMgMTkgMTUgMzQgMSA2IDEgNyAyIDEyIDAgMiAyIDQgNCA0IDMgMCA1LjM3NC0yLjI1NiA1LTYtMy0zMC0yMS41NTYtNTcuMTkzLTQ5LTcweiIgb3BhY2l0eT0iLjQiLz4KICAgIDwvZz4KPC9zdmc+Cg==\";\n      disconnectedMicLoaderIcon.style.animation = disconnectedLoaderAnimation; // Define base styles for mic icon in low valume state\n\n      lowVolumeMicIcon.style.minHeight = '100%';\n      lowVolumeMicIcon.style.height = '100%';\n      lowVolumeMicIcon.style.maxHeight = '100%';\n      lowVolumeMicIcon.style.top = '0%';\n      lowVolumeMicIcon.style.left = '0%';\n      lowVolumeMicIcon.style.zIndex = btnIconsZIndex;\n      lowVolumeMicIcon.style.position = 'absolute';\n      lowVolumeMicIcon.style.transition = 'all 0.4s ease-in-out';\n      lowVolumeMicIcon.style.opacity = '0';\n      lowVolumeMicIcon.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1uby1taWM8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iQWxhbi1CdXR0b24tLy1BbmltYXRpb24tLy1idXR0b24tbm8tbWljIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iaWNvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjIuMDAwMDAwLCAxOS4wMDAwMDApIiBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8cGF0aCBkPSJNMzIsMTguNDczNjg0MiBDMzIsMjUuNzE5NDczNyAyNi43OCwzMS42OTI2MzE2IDIwLDMyLjY5ODQyMTEgTDIwLDQwIEMyMCw0MS4xMDQ1Njk1IDE5LjEwNDU2OTUsNDIgMTgsNDIgQzE2Ljg5NTQzMDUsNDIgMTYsNDEuMTA0NTY5NSAxNiw0MCBMMTYsMzIuNjk4NDIxMSBDOS4yMiwzMS42OTI2MzE2IDQsMjUuNzE5NDczNyA0LDE4LjQ3MzY4NDIgTDQsMTggQzQsMTYuODk1NDMwNSA0Ljg5NTQzMDUsMTYgNiwxNiBDNy4xMDQ1Njk1LDE2IDgsMTYuODk1NDMwNSA4LDE4IEw4LDE4LjQ3MzY4NDIgQzgsMjQuMTQxODY5OCAxMi40NzcxNTI1LDI4LjczNjg0MjEgMTgsMjguNzM2ODQyMSBDMjMuNTIyODQ3NSwyOC43MzY4NDIxIDI4LDI0LjE0MTg2OTggMjgsMTguNDczNjg0MiBMMjgsMTggQzI4LDE2Ljg5NTQzMDUgMjguODk1NDMwNSwxNiAzMCwxNiBDMzEuMTA0NTY5NSwxNiAzMiwxNi44OTU0MzA1IDMyLDE4IEwzMiwxOC40NzM2ODQyIFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjgiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTE4LC00LjUyNzM3MjYzZS0xNCBDMjEuMzEzNzA4NSwtNC42MTg1Mjc3OGUtMTQgMjQsMi43NTY5ODMzOCAyNCw2LjE1Nzg5NDc0IEwyNCwxOC40NzM2ODQyIEMyNCwyMS44NzQ1OTU2IDIxLjMxMzcwODUsMjQuNjMxNTc4OSAxOCwyNC42MzE1Nzg5IEMxNC42ODYyOTE1LDI0LjYzMTU3ODkgMTIsMjEuODc0NTk1NiAxMiwxOC40NzM2ODQyIEwxMiw2LjE1Nzg5NDc0IEMxMiwyLjc1Njk4MzM4IDE0LjY4NjI5MTUsLTQuNTI3MzcyNjNlLTE0IDE4LC00LjYxODUyNzc4ZS0xNCBaIiBpZD0iU2hhcGUiIGZpbGwtb3BhY2l0eT0iMC42Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLjgxLDMuMjcgTDM0LjczLDM0LjE5IEMzNS40MzE0MDE2LDM0Ljg5MTQwMTYgMzUuNDMxNDAxNiwzNi4wMjg1OTg0IDM0LjczLDM2LjczIEMzNC4wMjg1OTg0LDM3LjQzMTQwMTYgMzIuODkxNDAxNiwzNy40MzE0MDE2IDMyLjE5LDM2LjczIEwxLjI3LDUuODEgQzAuNTY4NTk4MzY4LDUuMTA4NTk4MzcgMC41Njg1OTgzNjgsMy45NzE0MDE2MyAxLjI3LDMuMjcgQzEuOTcxNDAxNjMsMi41Njg1OTgzNyAzLjEwODU5ODM3LDIuNTY4NTk4MzcgMy44MSwzLjI3IFoiIGlkPSJQYXRoIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\\n\"; // Define base st`yles for ovals\n\n      var ovalCoefficient = 2;\n      var defaultBtnColorOptions = {\n        \"idle\": {\n          \"background\": {\n            \"color\": ['rgb(34, 203, 255)', 'rgb(25, 149, 255)']\n          },\n          \"hover\": {\n            \"color\": ['rgba(0, 70, 255, 0.95)', 'rgba(0, 156,  255, 0.95)']\n          }\n        },\n        \"listen\": {\n          \"background\": {\n            \"color\": ['rgba(0, 70, 255, 0.95)', 'rgba(0, 156,  255, 0.95)']\n          },\n          \"hover\": {\n            \"color\": ['rgba(0, 70, 255, 0.95)', 'rgb(0, 70, 255)']\n          }\n        },\n        \"process\": {\n          \"background\": {\n            \"color\": ['rgba(0, 255, 205, 0.95)', 'rgba(0, 115, 255, 0.95)']\n          },\n          \"hover\": {\n            \"color\": ['rgb(0, 115, 255)', 'rgba(0, 115, 255, 0.95)']\n          }\n        },\n        \"reply\": {\n          \"background\": {\n            \"color\": ['rgba(122, 40, 255, 0.95)', 'rgba(61, 122, 255, 0.95)']\n          },\n          \"hover\": {\n            \"color\": ['rgba(122, 40, 255, 0.95)', 'rgb(122, 40, 255)']\n          }\n        }\n      };\n      btnOval1.style.minHeight = btnSize / ovalCoefficient + 'px';\n      btnOval1.style.height = btnSize / ovalCoefficient + 'px';\n      btnOval1.style.maxHeight = btnSize / ovalCoefficient + 'px';\n      btnOval1.style.minWidth = btnSize + 'px';\n      btnOval1.style.width = btnSize + 'px';\n      btnOval1.style.maxWidth = btnSize + 'px';\n      btnOval1.style.top = 'calc(100%/2 - ' + btnSize / ovalCoefficient / 2 + 'px)';\n      btnOval1.style.left = 0;\n      btnOval1.style.zIndex = btnBgLayerZIndex;\n      btnOval1.style.position = 'absolute';\n      btnOval1.style.transition = 'all 0.4s ease-in-out';\n      btnOval1.style.opacity = '.5';\n      btnOval1.style.borderRadius = '100px';\n      btnOval1.style.transform = 'rotate(-315deg)';\n      btnOval1.style.filter = 'blur(' + btnSize / 10 + 'px)';\n      btnOval1.style.animation = oval1Animation;\n      btnOval1.style.animationPlayState = 'paused';\n      btnOval1.classList.add('alanBtn-oval-bg-default');\n      btnOval2.style.minHeight = btnSize / ovalCoefficient + 'px';\n      btnOval2.style.height = btnSize / ovalCoefficient + 'px';\n      btnOval2.style.maxHeight = btnSize / ovalCoefficient + 'px';\n      btnOval2.style.minWidth = btnSize + 'px';\n      btnOval2.style.width = btnSize + 'px';\n      btnOval2.style.maxWidth = btnSize + 'px';\n      btnOval2.style.top = 'calc(100%/2 - ' + btnSize / ovalCoefficient / 2 + 'px)';\n      btnOval2.style.left = 0;\n      btnOval2.style.zIndex = btnBgLayerZIndex;\n      btnOval2.style.position = 'absolute';\n      btnOval2.style.transition = 'all 0.4s ease-in-out';\n      btnOval2.style.opacity = '.5';\n      btnOval2.style.borderRadius = '100px';\n      btnOval2.style.transform = 'rotate(-45deg)';\n      btnOval2.style.filter = 'blur(' + btnSize / 10 + 'px)';\n      btnOval2.style.animation = oval2Animation;\n      btnOval2.style.animationPlayState = 'paused';\n      btnOval2.classList.add('alanBtn-oval-bg-default'); // Define base styles for mic icon in offline state\n\n      offlineIcon.style.minHeight = '100%';\n      offlineIcon.style.height = '100%';\n      offlineIcon.style.maxHeight = '100%';\n      offlineIcon.style.top = '0%';\n      offlineIcon.style.left = '0%';\n      offlineIcon.style.zIndex = btnIconsZIndex;\n      offlineIcon.style.position = 'absolute';\n      offlineIcon.style.transition = 'all 0.4s ease-in-out';\n      offlineIcon.style.opacity = '0';\n      offlineIcon.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1uby1uZXR3b3JrPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLW5vLW5ldHdvcmsiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJpY29uIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMS4wMDAwMDAsIDIyLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMzMsMiBDMzQuNjU2ODU0MiwyIDM2LDMuMzQzMTQ1NzUgMzYsNSBMMzYsMjkgQzM2LDMwLjY1Njg1NDIgMzQuNjU2ODU0MiwzMiAzMywzMiBDMzEuMzQzMTQ1OCwzMiAzMCwzMC42NTY4NTQyIDMwLDI5IEwzMCw1IEMzMCwzLjM0MzE0NTc1IDMxLjM0MzE0NTgsMiAzMywyIFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjQiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTIzLDggQzI0LjY1Njg1NDIsOCAyNiw5LjM0MzE0NTc1IDI2LDExIEwyNiwyOSBDMjYsMzAuNjU2ODU0MiAyNC42NTY4NTQyLDMyIDIzLDMyIEMyMS4zNDMxNDU4LDMyIDIwLDMwLjY1Njg1NDIgMjAsMjkgTDIwLDExIEMyMCw5LjM0MzE0NTc1IDIxLjM0MzE0NTgsOCAyMyw4IFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjYiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTEzLDE2IEMxNC42NTY4NTQyLDE2IDE2LDE3LjM0MzE0NTggMTYsMTkgTDE2LDI5IEMxNiwzMC42NTY4NTQyIDE0LjY1Njg1NDIsMzIgMTMsMzIgQzExLjM0MzE0NTgsMzIgMTAsMzAuNjU2ODU0MiAxMCwyOSBMMTAsMTkgQzEwLDE3LjM0MzE0NTggMTEuMzQzMTQ1OCwxNiAxMywxNiBaIiBpZD0iU2hhcGUiIGZpbGwtb3BhY2l0eT0iMC44Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLDIyIEM0LjY1Njg1NDI1LDIyIDYsMjMuMzQzMTQ1OCA2LDI1IEw2LDI5IEM2LDMwLjY1Njg1NDIgNC42NTY4NTQyNSwzMiAzLDMyIEMxLjM0MzE0NTc1LDMyIDIuMDI5MDYxMjVlLTE2LDMwLjY1Njg1NDIgMCwyOSBMMCwyNSBDLTIuMDI5MDYxMjVlLTE2LDIzLjM0MzE0NTggMS4zNDMxNDU3NSwyMiAzLDIyIFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNNS44MSwxLjI3IEwzNi43MywzMi4xOSBDMzcuNDMxNDAxNiwzMi44OTE0MDE2IDM3LjQzMTQwMTYsMzQuMDI4NTk4NCAzNi43MywzNC43MyBDMzYuMDI4NTk4NCwzNS40MzE0MDE2IDM0Ljg5MTQwMTYsMzUuNDMxNDAxNiAzNC4xOSwzNC43MyBMMy4yNywzLjgxIEMyLjU2ODU5ODM3LDMuMTA4NTk4MzcgMi41Njg1OTgzNywxLjk3MTQwMTYzIDMuMjcsMS4yNyBDMy45NzE0MDE2MywwLjU2ODU5ODM2OCA1LjEwODU5ODM3LDAuNTY4NTk4MzY4IDUuODEsMS4yNyBaIiBpZD0iUGF0aCIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\\n\";\n      btnBgDefault.classList.add('alanBtn-bg-default');\n      btnBgListening.classList.add('alanBtn-bg-listening');\n      btnBgSpeaking.classList.add('alanBtn-bg-speaking');\n      btnBgIntermediate.classList.add('alanBtn-bg-intermediate');\n      btnBgUnderstood.classList.add('alanBtn-bg-understood');\n      applyBgStyles(btnBgDefault);\n      applyBgStyles(btnBgListening);\n      applyBgStyles(btnBgSpeaking);\n      applyBgStyles(btnBgIntermediate);\n      applyBgStyles(btnBgUnderstood);\n      var onOpacity = 1;\n      var offOpacity = 0;\n      btnBgDefault.style.opacity = onOpacity;\n      var allIcons = [micCircleIcon, micTriangleIcon, micIcon, offlineIcon, lowVolumeMicIcon, logoState1, logoState2, logoState3, logoState4, logoState5, logoState6, logoState7, logoState8, logoState9, logoState10];\n\n      for (var i = 0; i < allIcons.length; i++) {\n        allIcons[i].setAttribute('draggable', 'false');\n      }\n\n      hideLayers([btnBgListening, btnBgSpeaking, btnBgIntermediate, btnBgUnderstood]);\n      btn.appendChild(btnOval1);\n      btn.appendChild(btnOval2);\n      btn.appendChild(btnBgDefault);\n      btn.appendChild(btnBgListening);\n      btn.appendChild(btnBgSpeaking);\n      btn.appendChild(btnBgIntermediate);\n      btn.appendChild(btnBgUnderstood);\n      btn.appendChild(micIcon);\n      btn.appendChild(micTriangleIcon);\n      btn.appendChild(micCircleIcon);\n      btn.appendChild(disconnectedMicLoaderIcon);\n      btn.appendChild(lowVolumeMicIcon);\n      btn.appendChild(offlineIcon);\n      btn.classList.add(\"alanBtn\"); //#endregion\n      //#region Add needed styles to the page\n\n      createAlanStyleSheet();\n\n      function getStyleSheetMarker(andFlag) {\n        return '.alan-' + getProjectId() + (andFlag ? '' : ' ');\n      }\n\n      function createAlanStyleSheet(btnOptions) {\n        var style;\n        var keyFrames = '';\n        var projectId = getProjectId();\n        var existingStyleSheet;\n\n        if (options.shadowDOM) {\n          existingStyleSheet = options.shadowDOM.getElementById('alan-stylesheet-' + projectId);\n        } else {\n          existingStyleSheet = document.getElementById('alan-stylesheet-' + projectId);\n        }\n\n        if (existingStyleSheet) {\n          existingStyleSheet.disabled = true;\n          existingStyleSheet.parentNode.removeChild(existingStyleSheet);\n        }\n\n        style = document.createElement('style');\n        style.setAttribute('id', 'alan-stylesheet-' + projectId);\n        style.type = 'text/css';\n        keyFrames += '.alanBtn-root * {  box-sizing: border-box; font-family: \\'Lato\\', sans-serif; }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn{transform: scale(1);transition:all 0.4s ease-in-out;}.alanBtn:hover{transform: scale(1.11111);transition:all 0.4s ease-in-out;}.alanBtn:focus {transform: scale(1);transition:all 0.4s ease-in-out;  border: solid 3px #50e3c2;  outline: none;  }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder {overflow:hidden;font-family: \\'Lato\\', sans-serif; font-size: 20px;line-height: 1.2;   max-width: 0px;  min-height: 40px;  color: #000; position: absolute; text-align: center; font-weight: normal; background-color: rgba(245, 252, 252, 0.8);border-radius:32px 0 0 32px; display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack: activate;-ms-flex-pack: start;justify-content: start; background-image: url(' + panelOvalImg + ');background-position: -190px -70px; }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder-text-wrapper {padding: 12px 8px; text-align: right; width: 100%;min-width:440px;font-size: 20px!important;line-height: 1.2!important;  animation: alan-text-fade-in .4s ease-in-out forwards;}';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder {position:relative;font-style: italic; overflow:hidden;font-family: \\'Lato\\', sans-serif;   width: 0px;  min-width: 0px;  max-width: 0px;  min-height: 40px;  color: #000; position: absolute; font-weight: normal;  background-color: rgba(245, 252, 252, 0.8); display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack: center;-ms-flex-pack: center;justify-content: center;border-radius:32px 0 0 32px;  background-image: url(' + panelOvalImg + ');background-position: -190px -70px; }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-close {position: absolute;top: 1px;right: ' + (hintCloserRightPos - 10) + 'px;color: #0079e8;font-size: 13px;font-style: normal;font-weight: 500;line-height: 1.54;opacity: 0;transition: opacity 300ms ease-in-out;}';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-close:hover {color: #ff8800;cursor:pointer;}';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-close:active {color: #ff6426;}';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder:hover .alanBtn-hint-holder-close {opacity: 1;transition: opacity 300ms ease-in-out;}';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-wrapper {width: 100%;height:100%;min-width:440px; display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;justify-content: start;text-align:left;}';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-wrapper .alanBtn-hint-list {padding-top:2px;font-size: 18px;line-height: 1.22; margin-top:0px;font-style:italic;margin-bottom:0px;display:inline-block;vertical-align:middle;width:220px;max-width:220px;min-width:220px;text-align:left;animation: alan-text-fade-in .4s ease-in-out forwards; }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-wrapper .alanBtn-hint-list.hints-long {font-size: 16px;line-height: 1.38;}';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-wrapper .alanBtn-hint-list.hints-super-long {font-size: 14px;line-height: 1.36;}';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-wrapper .alanBtn-hint-list div {margin-bottom:6px; }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-header {white-space:nowrap;font-size: 14px;font-weight: 400;font-style: italic;font-stretch: normal;line-height: 1.36;letter-spacing: normal;color: rgba(0, 0, 0, 0.6);display:inline-block;vertical-align:middle;padding-right:12px;padding-left:12px;min-width:112px;text-align:center;animation: alan-text-fade-in .4s ease-in-out forwards;}';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder-long .alanBtn-text-holder-text-wrapper { font-size: 19px!important;line-height: 1.4!important;}  ';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder-super-long .alanBtn-text-holder-text-wrapper { font-size: 14px!important;line-height: 1.4!important;}  ';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-appearing {  animation: text-holder-appear 800ms ease-in-out forwards;  }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-disappearing {  animation: text-holder-disappear 800ms ease-in-out forwards;    }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-appearing {  animation: hint-holder-appear 800ms ease-in-out forwards;    }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-disappearing {  animation: hint-holder-disappear 800ms ease-in-out forwards;    }';\n        keyFrames += getStyleSheetMarker() + '.alan-btn-disabled {  pointer-events: none;  opacity: .5;  transition: all .2s ease-in-out;  }';\n        keyFrames += getStyleSheetMarker() + '.shadow-appear {  opacity: 1 !important;  }\\n';\n        keyFrames += getStyleSheetMarker() + '.shadow-disappear {  opacity: 0 !important;  transition: all .1s linear !important;  }';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-offline .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-permission-denied .alanBtn .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n        keyFrames += getStyleSheetMarker() + '.alan-btn-low-volume canvas {  opacity: .0 !important;  }';\n        keyFrames += getStyleSheetMarker() + \".alan-btn-disabled-msg:after {content: '';  position: absolute;  bottom: 2px;  right: 0px;  height: 30px;  width: 90px;  background-size: 100% auto;  background-repeat: no-repeat;  background-position: center center;}\";\n        keyFrames += getStyleSheetMarker() + '.triangleMicIconBg {background-image:url(' + micTriangleIconImg + ');}';\n        keyFrames += getStyleSheetMarker() + '.circleMicIconBg {background-image:url(' + micCircleIconImg + ');}';\n        keyFrames += getStyleSheetMarker() + ':hover .triangleMicIconBg-default {opacity:0!important;}';\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-gradient', '0%{backgroundPosition: 0 0;}50%{backgroundPosition: -100% 0;}100%{backgroundPosition: 0 0;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-pulsating', '0%{transform: scale(1.11111);}50%{transform: scale(1.0);}100%{transform: scale(1.11111);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-mic-pulsating', '0%{transform: scale(0.91);}50%{transform: scale(1.0);}100%{transform: scale(0.91);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-triangle-mic-pulsating', '0%{transform: scale(0.94);}50%{transform: scale(1.0);}100%{transform: scale(0.94);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-fade-in', '0%{opacity: 0;}100%{opacity:1;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-fade-out', '0%{opacity: 1;}100%{opacity:0;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('text-holder-appear', '0%{' + 'color:transparent; ' + 'background-image: none;' + ' background-color:rgba(245, 252, 252, 0.0);' + 'border: solid 1px transparent; ' + 'max-width: 0px;' + 'min-width: 0px;' + 'width: 0px;' + 'right: ' + (btnSize / 2 + rightBtnPos) + 'px;' + '}' + '100%{' + 'color:#000;' + 'background-color:rgba(245, 252, 252, 0.8);' + 'background-image: url(' + panelOvalImg + ');' + ' max-width: ' + textHolderWidth + 'px;' + 'width:' + textHolderWidth + 'px;' + 'min-width:' + textHolderWidth + 'px;' + 'right: ' + rightBtnPos + 'px;' + '}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('text-holder-disappear', '0%{' + 'color:#000;' + 'background-image: url(' + panelOvalImg + ');' + 'background-color:rgba(245, 252, 252, 0.8);  ' + 'max-width: ' + textHolderWidth + 'px;' + 'right: ' + rightBtnPos + 'px;' + '}' + '100%{' + 'color:transparent;' + 'background-color:rgba(245, 252, 252, 0.0);' + 'max-width: 0px;' + 'border: solid 1px transparent;' + 'background-image:none;' + 'right: ' + (btnSize / 2 + rightBtnPos) + 'px;' + '}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('hint-holder-appear', '0%{ width: 0px;min-width: 0px;max-width: 0px;border: solid 1px transparent;}100%{border: solid 1px #d5e2ed;width: ' + hintHolderWidth + 'px;min-width: ' + hintHolderWidth + 'px;max-width: ' + hintHolderWidth + 'px;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('hint-holder-disappear', '0%{border: solid 1px #d5e2ed; width: ' + hintHolderWidth + 'px;min-width: ' + hintHolderWidth + 'px;max-width: ' + hintHolderWidth + 'px;}100%{width: 0px;min-width: 0px;max-width: 0px;border: solid 1px transparent;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-1-animation', '0% {  opacity: 1;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 1;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-2-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 1;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-3-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 1;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-4-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 1;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-5-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 1;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-6-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 1;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-7-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 1;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-8-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 1;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-9-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 1;  } ' + '90% {  opacity: 0;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-10-animation', '0% {  opacity: 0;  } ' + '10% {  opacity: 0;  } ' + '20% {  opacity: 0;  } ' + '30% {  opacity: 0;  } ' + '40% {  opacity: 0;  } ' + '50% {  opacity: 0;  } ' + '60% {  opacity: 0;  } ' + '70% {  opacity: 0;  } ' + '80% {  opacity: 0;  } ' + '90% {  opacity: 1;  } ' + '100% {  opacity: 0;  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('disconnected-loader-animation', '0%{  transform: rotate(0deg);  } 100%{  transform: rotate(360deg);  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('oval1-animation', '0%{  transform: rotate(-315deg);  } 50%{  transform: rotate(-495deg);  } 100%{  transform: rotate(-315deg);  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('oval2-animation', '0%{  transform: rotate(-45deg);  } 50%{  transform: rotate(-215deg);  } 100%{  transform: rotate(-45deg);  }');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-text-fade-in', '0%{  opacity: 0;  } 100%{   opacity: 1;  }');\n        keyFrames += getStyleSheetMarker() + '.alanBtn-bg-default.super-hidden{opacity:0!important;display:none;}';\n        var predefinedBtnColorOptions = defaultBtnColorOptions;\n\n        if (btnOptions) {\n          if (btnOptions.btnLayerOptions) {\n            //old settings\n            predefinedBtnColorOptions = defaultBtnColorOptions;\n          } else {\n            predefinedBtnColorOptions = btnOptions || defaultBtnColorOptions;\n          }\n        }\n\n        var btnBackgroundOptionKeys = Object.keys(predefinedBtnColorOptions);\n        var tempLayer;\n        var stateName;\n        var stateMapping = {\n          idle: ['default'],\n          listen: ['listening'],\n          process: ['intermediate', 'understood'],\n          reply: ['speaking']\n        };\n        var stateNameClasses, stateNameClass;\n        var states = Object.keys(stateMapping);\n\n        for (i = 0; i < states.length; i++) {\n          stateName = states[i];\n          stateNameClasses = stateMapping[stateName];\n          tempLayer = predefinedBtnColorOptions[stateName];\n\n          for (var j = 0; j < stateNameClasses.length; j++) {\n            stateNameClass = stateNameClasses[j];\n\n            if (tempLayer.background) {\n              keyFrames += getStyleSheetMarker() + '.alanBtn-bg-' + stateNameClass + ' {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.background.color[0] + ',' + tempLayer.background.color[1] + ');';\n              keyFrames += '}';\n              keyFrames += getStyleSheetMarker() + '.alanBtn-oval-bg-' + stateNameClass + ' {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.background.color[0] + ',' + tempLayer.background.color[1] + ');';\n              keyFrames += '}';\n            }\n\n            if (tempLayer.hover) {\n              keyFrames += getStyleSheetMarker() + '.alanBtn:hover .alanBtn-bg-' + stateNameClass + ':not(.super-hidden) {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.hover.color[0] + ',' + tempLayer.hover.color[1] + ');';\n              keyFrames += '}';\n              keyFrames += getStyleSheetMarker() + '.alanBtn:active .alanBtn-bg-' + stateNameClass + ':not(.super-hidden) {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.hover.color[0] + ',' + tempLayer.hover.color[1] + ');';\n              keyFrames += '}';\n              keyFrames += getStyleSheetMarker() + '.alanBtn:hover .alanBtn-oval-bg-' + stateNameClass + ':not(.super-hidden) {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.hover.color[0] + ',' + tempLayer.hover.color[1] + ');';\n              keyFrames += '}';\n              keyFrames += getStyleSheetMarker() + '.alanBtn:active .alanBtn-oval-bg-' + stateNameClass + ':not(.super-hidden) {';\n              keyFrames += 'background-image: linear-gradient(122deg,' + tempLayer.hover.color[0] + ',' + tempLayer.hover.color[1] + ');';\n              keyFrames += '}';\n            }\n          }\n        }\n\n        style.innerHTML = keyFrames;\n\n        if (options.shadowDOM) {\n          options.shadowDOM.prepend(style);\n        } else {\n          document.getElementsByTagName('head')[0].appendChild(style);\n        }\n      }\n\n      function generateKeyFrame(name, rule) {\n        var prefixes = ['@-webkit-keyframes', '@keyframes'];\n        var r = '';\n\n        for (var i = 0; i < prefixes.length; i++) {\n          r += prefixes[i] + ' ' + name + '{' + rule + '} ';\n        }\n\n        return r;\n      } //#endregion\n      //region Connect to the project and add listeners\n\n\n      if (options) {\n        if (options.alanAudio) {\n          alanAudio = options.alanAudio;\n        }\n\n        if (options.key) {\n          tryReadSettingsFromLocalStorage();\n          switchState(DISCONNECTED);\n          window.tutorProject = alan.project(options.key, getAuthData(options.authData), options.host);\n          window.tutorProject.on('connectStatus', onConnectStatusChange);\n          window.tutorProject.on('options', onOptionsReceived); // console.info('BTN: tutorProject', options.key);\n        } else {\n          switchState(DEFAULT);\n        }\n      }\n\n      function guid() {\n        function s4() {\n          return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n        }\n\n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\n      }\n\n      function getAuthData(data) {\n        var authData = data || {};\n        var curUuid, uuidKey;\n\n        if (isLocalStorageAvailable && authData) {\n          uuidKey = 'alan-btn-uuid-' + getProjectId();\n          curUuid = localStorage.getItem(uuidKey);\n\n          if (curUuid) {\n            authData.uuid = curUuid;\n          } else {\n            authData.uuid = guid();\n            localStorage.setItem(uuidKey, authData.uuid);\n          }\n        } else {\n          authData.uuid = guid();\n        }\n\n        return authData;\n      }\n\n      function getProjectId() {\n        var key;\n\n        if (options.key) {\n          key = options.key;\n          return key.substr(0, key.indexOf('/'));\n        }\n\n        return mode;\n      }\n\n      function debounce(func, wait) {\n        var timeout;\n        var delay = wait || 100;\n        return function (args) {\n          clearTimeout(timeout);\n          timeout = setTimeout(function () {\n            func.apply(this, args);\n          }, delay);\n        };\n      }\n\n      function _activateAlanButton(resolve) {\n        playSoundOn();\n\n        if (options.onBeforeMicStart) {\n          options.onBeforeMicStart();\n        }\n\n        alanAudio.on('micStart', onMicStart);\n        alanAudio.on('micStop', onMicStop);\n        alanAudio.on('micFail', onMicFail);\n        alanAudio.on('playStart', onPlayStart);\n        alanAudio.on('playStop', onPlayStop);\n        alanAudio.on('command', onCommandCbInMicBtn);\n        alanAudio.start(resolve);\n\n        if (options.onMicStarted) {\n          options.onMicStarted();\n        }\n      }\n\n      function activateAlanButton() {\n        var activatePromise = new Promise(function (resolve, reject) {\n          if (btnDisabled) {\n            reject({\n              err: BTN_IS_DISABLED_CODE\n            });\n            return;\n          }\n\n          if (isPreviewMode()) {\n            reject({\n              err: PREVIEW_MODE_CODE\n            });\n            return;\n          }\n\n          function waitForConnectionForActivateCall(res) {\n            if (res === 'authorized') {\n              window.tutorProject.off('connectStatus', waitForConnectionForActivateCall);\n\n              _activateAlanButton(resolve);\n            }\n          }\n\n          if (alanAudio) {\n            switch (state) {\n              case DEFAULT:\n                try {\n                  _activateAlanButton(resolve);\n                } catch (e) {\n                  alert(NO_VOICE_SUPPORT_IN_BROWSER_MSG);\n                  reject({\n                    err: NO_VOICE_SUPPORT_IN_BROWSER_CODE\n                  });\n                }\n\n                break;\n\n              case DISCONNECTED:\n              case OFFLINE:\n                window.tutorProject.on('connectStatus', waitForConnectionForActivateCall);\n                break;\n\n              case PERMISSION_DENIED:\n                reject({\n                  err: MIC_BLOCKED_CODE\n                });\n                break;\n\n              case LISTENING:\n              case SPEAKING:\n              case INTERMEDIATE:\n              case UNDERSTOOD:\n                resolve();\n                break;\n\n              default:\n            }\n          } else {\n            reject({\n              err: NO_ALAN_AUDIO_INSANCE_WAS_PROVIDED_CODE\n            });\n          }\n        });\n        return activatePromise;\n      }\n\n      btn.addEventListener('click', function (e) {\n        if (alanAudio) {\n          if (state === 'default') {\n            activateAlanButton();\n          } else {\n            alanAudio.stop();\n          }\n        } else {\n          throw 'No alan audio instance was provided';\n        } //remove focus state from the btn after click\n\n\n        this.blur();\n      });\n      btn.addEventListener(\"mouseenter\", onBtnMouseEnter);\n      btn.addEventListener(\"mouseleave\", onBtnMouseLeave);\n\n      function onBtnMouseEnter() {\n        if (state === DEFAULT) {\n          hoverShowHintTimeoutId = setTimeout(function () {\n            showHints();\n          }, 500);\n        } else if (state === PERMISSION_DENIED) {\n          showInfo(MIC_BLOCKED_MSG);\n        }\n      }\n\n      function onBtnMouseLeave() {\n        if (state === DEFAULT) {\n          clearTimeout(hoverShowHintTimeoutId);\n          hoverHideHintTimeoutId = setTimeout(function () {\n            hideHints();\n          }, 600);\n        } else if (state === PERMISSION_DENIED) {\n          hideInfo();\n        }\n      }\n\n      function showRecognisedText(e, text) {\n        // console.info('showRecognisedText');\n        var recognisedText = '';\n\n        if (isMobile()) {\n          return;\n        }\n\n        if (hideS2TPanel) {\n          return;\n        }\n\n        recognisedTextVisible = true;\n\n        if (!options.hideRecognizedText) {\n          if (textHolder.classList.value.indexOf('alanBtn-text-appearing') === -1) {\n            textHolder.classList.add('alanBtn-text-appearing');\n            textHolder.classList.remove('alanBtn-text-disappearing');\n          }\n\n          if (text) {\n            recognisedText = text;\n            textHolderTextWrapper.innerHTML = text;\n          } else {\n            recognisedText = e.text;\n\n            if (recognisedText.length > 200) {\n              recognisedText = recognisedText.substr(0, 200);\n            }\n\n            textHolderTextWrapper.innerHTML = recognisedText;\n          }\n\n          if (recognisedText.length > 60 && recognisedText.length <= 80) {\n            textHolder.classList.add('alanBtn-text-holder-long');\n          } else if (recognisedText.length > 80) {\n            textHolder.classList.add('alanBtn-text-holder-super-long');\n          } else {\n            textHolder.classList.remove('alanBtn-text-holder-long');\n            textHolder.classList.remove('alanBtn-text-holder-super-long');\n          }\n\n          if (text) {\n            textHolder.appendChild(textHolderTextWrapper);\n            isHintWasPreviously = true;\n          } else {\n            if (isHintWasPreviously) {\n              isHintWasPreviously = false;\n              textHolder.appendChild(textHolderTextWrapper);\n            } else {\n              replaceRecognisedText(recognisedText);\n            }\n          }\n        }\n      }\n\n      function replaceRecognisedText(recognisedText) {\n        if (isMobile()) {\n          return;\n        }\n\n        if (!options.hideRecognizedText) {\n          textHolderTextWrapper.innerText = recognisedText;\n        }\n      }\n\n      function hideRecognisedText(delay) {\n        // console.info('hideRecognisedText');\n        if (isMobile()) {\n          return;\n        }\n\n        if (!options.hideRecognizedText && recognisedTextVisible) {\n          textHolder.classList.add('alanBtn-text-disappearing');\n          textHolder.classList.remove('alanBtn-text-appearing');\n          recognisedTextVisible = false;\n          setTimeout(function () {\n            textHolderTextWrapper.innerHTML = '';\n            textHolder.classList.remove('alanBtn-text-holder-long');\n            textHolder.classList.remove('alanBtn-text-holder-super-long');\n          }, delay || 810);\n        }\n      }\n\n      function showHints() {\n        var hintId;\n\n        if (isMobile()) {\n          return;\n        }\n\n        if (hints.length === 0 || doNotShowHints) {\n          return;\n        }\n\n        clearTimeout(removeTextHintTimeoutId);\n        clearTimeout(hoverHideHintTimeoutId);\n        clearInterval(insideHintsAnimationIntervalId);\n        clearInterval(hintsRequestIntervalId);\n        insideHintsAnimationIntervalId = setInterval(function () {\n          var hintList = document.getElementById('hintList');\n\n          if (hintList) {\n            hintList.outerHTML = getHintList();\n          }\n        }, 6000);\n        hintsRequestIntervalId = setInterval(function () {\n          requestHints();\n        }, 4000); // console.info('showHints');\n\n        hintId = document.getElementById('hint-id');\n\n        if (hintId && hintId.className.indexOf(DEFAULT) > -1) {\n          hintId.outerHTML = getHintHeader(listeningHintLabel);\n        } else {\n          showRecognisedText(null, getHintsHtml());\n        }\n      }\n\n      function hideHints() {\n        if (isMobile()) {\n          return;\n        }\n\n        if (hints.length === 0) {\n          return;\n        }\n\n        hideRecognisedText();\n      }\n\n      function showInfo(text) {\n        showRecognisedText(null, text);\n      }\n\n      function hideInfo() {\n        hideRecognisedText(200);\n      }\n\n      function closeHint(event) {\n        var clickedEl = event.target;\n\n        if (clickedEl.classList.value.indexOf('alanBtn-hint-holder-close') > -1) {\n          doNotShowHints = true;\n          hideHints();\n        }\n      }\n\n      function shuffle(array) {\n        var currentIndex = array.length,\n            temporaryValue,\n            randomIndex;\n\n        while (0 !== currentIndex) {\n          randomIndex = Math.floor(Math.random() * currentIndex);\n          currentIndex -= 1;\n          temporaryValue = array[currentIndex];\n          array[currentIndex] = array[randomIndex];\n          array[randomIndex] = temporaryValue;\n        }\n\n        return array;\n      }\n\n      function getHintHeader(label) {\n        return '<div id=\"hint-id\" class=\"alanBtn-hint-header ' + state + '\">' + label + '</div>';\n      }\n\n      function getHintList() {\n        var hintsHtml = '';\n        var hintItems = '';\n        var hintsLength = 0;\n        var shuffledHints = shuffle(hints);\n        var hintsClass = 'alanBtn-hint-list';\n\n        for (var i = 0; i < 2; i++) {\n          if (shuffledHints[i]) {\n            hintsLength += hints[i].length;\n            hintItems += '<div>' + hints[i] + '</div>';\n          }\n        }\n\n        if (hintsLength > 70 && hintsLength <= 100) {\n          hintsClass += ' hints-long';\n        }\n\n        if (hintsLength > 100) {\n          hintsClass += ' hints-super-long';\n        }\n\n        hintsHtml = '<div id=\"hintList\" class=\"' + hintsClass + '\">';\n        hintsHtml += hintItems;\n        hintsHtml += '</div>';\n        return hintsHtml;\n      }\n\n      function getHintsHtml() {\n        var hintsHtml = '';\n        var shuffledHints = [];\n        var hintClass = '';\n        var label;\n\n        if (state === DEFAULT) {\n          label = defaultHintLabel;\n        } else {\n          label = listeningHintLabel;\n        }\n\n        hintsHtml += '<div class=\"alanBtn-hint-holder-wrapper\">';\n        hintsHtml += getHintHeader(label);\n        hintsHtml += getHintList();\n        hintsHtml += '</div>';\n        return hintsHtml;\n      }\n\n      function onOptionsReceived(data) {\n        if (data && data.web && data.web.hidden === true) {\n          hideAlanBtn();\n        } else {\n          showAlanBtn();\n        }\n\n        if (data && data.web && data.web.hideS2TPanel === true) {\n          hideSpeach2TextPanel();\n        } else {\n          showSpeach2TextPanel();\n        }\n\n        if (data && data.web && data.web.timeout) {\n          turnOffTimeout = data.web.timeout;\n          setTurnOffVoiceTimeout();\n        }\n\n        if (data && data.web && data.web.btnOptions) {\n          console.info('OPTIONS', data.web.btnOptions);\n          applyBtnOptions(data.web.btnOptions);\n        }\n\n        if (isLocalStorageAvailable && data) {\n          localStorage.setItem(getStorageKey(), JSON.stringify(data));\n        }\n      }\n\n      function onConnectStatusChange(res) {\n        // console.info('BTN: connectStatus', res);\n        if (options.onConnectionStatus) {\n          options.onConnectionStatus(res);\n        }\n\n        if (res === 'disconnected') {\n          switchState(DISCONNECTED);\n        } else if (res === 'authorized') {\n          if (previousState) {\n            switchState(previousState);\n          } else {\n            switchState(DEFAULT);\n          }\n\n          requestHints();\n        }\n      }\n\n      function requestHints() {\n        window.tutorProject.call('visualHints', {}, function (err, res) {\n          if (res) {\n            setUpHints(res);\n          }\n        });\n      }\n\n      function onMicStart() {\n        // console.log('BTN: mic. started', new Date());\n        switchState(LISTENING);\n        isAlanActive = true;\n\n        if (window.tutorProject) {\n          window.tutorProject.on('text', onTextCbInMicBtn);\n          window.tutorProject.on('parsed', onParsedCbInMicBtn);\n          window.tutorProject.on('recognized', onRecognizedCbInMicBtn);\n          window.tutorProject.on('connectStatus', onConnectStatusChange);\n          window.tutorProject.on('options', onOptionsReceived);\n        }\n      }\n\n      function onMicStop() {\n        // console.log('BTN: mic. stopped');\n        playSoundOff();\n        isAlanSpeaking = false;\n        alanAudio.off('micStart', onMicStart);\n        alanAudio.off('micStop', onMicStop);\n        alanAudio.off('micFail', onMicFail);\n        alanAudio.off('playStart', onPlayStart);\n        alanAudio.off('playStop', onPlayStop);\n        alanAudio.off('command', onCommandCbInMicBtn);\n        hideRecognisedText();\n        switchState(DEFAULT);\n        isAlanActive = false;\n\n        if (window.tutorProject) {\n          window.tutorProject.off('text', onTextCbInMicBtn);\n          window.tutorProject.off('parsed', onParsedCbInMicBtn);\n          window.tutorProject.off('recognized', onRecognizedCbInMicBtn);\n          window.tutorProject.off('connectStatus', onConnectStatusChange);\n          window.tutorProject.off('options', onOptionsReceived);\n        }\n\n        if (options.onMicStopped) {\n          options.onMicStopped();\n        }\n      }\n\n      function onMicFail() {\n        // console.log('BTN: mic. failed');\n        onMicStop();\n        switchState(PERMISSION_DENIED);\n      }\n\n      function onPlayStart(e) {\n        // console.log('BTN: play start');\n        isAlanSpeaking = true;\n        switchState(SPEAKING);\n        turnOffVoiceFn();\n      }\n\n      function onPlayStop(e) {\n        // console.log('BTN: play stop');\n        isAlanSpeaking = false;\n        switchState(LISTENING);\n        turnOffVoiceFn();\n      }\n\n      function onTextCbInMicBtn(e) {\n        // console.info('BTN: onTextCb', e, new Date());\n        turnOffVoiceFn();\n      }\n\n      function onParsedCbInMicBtn(e) {\n        // console.info('BTN: onParsedCb', e, new Date());\n        turnOffVoiceFn();\n        showRecognisedText(e);\n      }\n\n      function onRecognizedCbInMicBtn(e) {\n        // console.info('BTN: onRecognizedTextCb', e, new Date());\n        if (options.onReceiveRecognisedText) {\n          options.onReceiveRecognisedText(e);\n        }\n\n        if (e.final === true) {\n          switchState(UNDERSTOOD);\n        } else {\n          switchState(INTERMEDIATE);\n        }\n\n        showRecognisedText(e);\n        turnOffVoiceFn();\n      }\n\n      function onCommandCbInMicBtn(e) {\n        // console.info('BTN: onCommandCbInMicBtn', e, new Date());\n        if (options.onCommand) {\n          options.onCommand(e.data);\n        }\n\n        switchState(LISTENING);\n        turnOffVoiceFn();\n      }\n\n      function playSoundOn() {\n        if (!soundOnAudioDoesNotExist) {\n          soundOnAudio.play().catch(() => {\n            console.log(\"No activation sound, because the user didn't interact with the button\");\n          });\n        }\n      }\n\n      function playSoundOff() {\n        if (!soundOffAudioDoesNotExist) {\n          soundOffAudio.play().catch(() => {\n            console.log(\"No deactivation sound, because the user didn't interact with the button\");\n          });\n        }\n      }\n\n      window.switchState = switchState;\n\n      function switchState(newState) {\n        var tempLogoParts = [],\n            i = 0;\n\n        if (newState !== DISCONNECTED) {\n          previousState = newState;\n        }\n\n        if (newState === LISTENING) {\n          hintAppearTimeoutId = setTimeout(function () {\n            showHints();\n          }, 300);\n        }\n\n        if (newState === DEFAULT) {\n          btn.style.animation = '';\n          micIcon.style.animation = '';\n          micTriangleIcon.style.animation = '';\n          btnBgDefault.classList.remove('super-hidden');\n          btnBgDefault.style.opacity = onOpacity;\n          btnOval1.style.animation = '';\n          btnOval2.style.animation = '';\n          btnOval1.style.opacity = 0;\n          btnOval2.style.opacity = 0;\n          changeBgColors(DEFAULT);\n          micIcon.style.opacity = 1;\n          micTriangleIcon.style.opacity = 0;\n          hideLayers([btnBgListening, btnBgSpeaking, btnBgIntermediate, btnBgUnderstood]);\n        } else if (newState === LISTENING) {\n          btn.style.animation = pulsatingAnimation;\n          micIcon.style.animation = pulsatingMicAnimation;\n          micTriangleIcon.style.animation = pulsatingTriangleMicAnimation;\n          btnBgListening.classList.remove('super-hidden');\n          btnBgListening.style.opacity = onOpacity;\n          btnOval1.style.animation = oval1Animation;\n          btnOval2.style.animation = oval2Animation;\n          btnOval1.style.opacity = 1;\n          btnOval2.style.opacity = 1;\n          changeBgColors(LISTENING);\n          micIcon.style.opacity = 1;\n          micTriangleIcon.style.opacity = 1;\n          hideLayers([// btnBgDefault,\n          btnBgSpeaking, btnBgIntermediate, btnBgUnderstood]);\n        } else if (newState === SPEAKING) {\n          hideRecognisedText();\n          btn.style.animation = pulsatingAnimation;\n          btnBgSpeaking.classList.remove('super-hidden');\n          btnBgSpeaking.style.opacity = onOpacity;\n          btnOval1.style.animation = oval1Animation;\n          btnOval2.style.animation = oval2Animation;\n          btnOval1.style.opacity = 1;\n          btnOval2.style.opacity = 1;\n          changeBgColors(SPEAKING);\n          hideLayers([btnBgDefault, btnBgListening, btnBgIntermediate, btnBgUnderstood]);\n        } else if (newState === INTERMEDIATE) {\n          btn.style.animation = pulsatingAnimation;\n          btnBgIntermediate.classList.remove('super-hidden');\n          btnBgIntermediate.style.opacity = onOpacity;\n          btnOval1.style.animation = oval1Animation;\n          btnOval2.style.animation = oval2Animation;\n          btnOval1.style.opacity = 1;\n          btnOval2.style.opacity = 1;\n          changeBgColors(INTERMEDIATE);\n          micIcon.style.opacity = 1;\n          micTriangleIcon.style.opacity = 1;\n          hideLayers([btnBgDefault, btnBgListening, btnBgSpeaking, btnBgUnderstood]);\n        } else if (newState === UNDERSTOOD) {\n          btn.style.animation = pulsatingAnimation;\n          btnBgUnderstood.classList.remove('super-hidden');\n          btnBgUnderstood.style.opacity = onOpacity;\n          btnOval1.style.animation = oval1Animation;\n          btnOval2.style.animation = oval2Animation;\n          btnOval1.style.opacity = 1;\n          btnOval2.style.opacity = 1;\n          changeBgColors(UNDERSTOOD);\n          micIcon.style.opacity = 1;\n          micTriangleIcon.style.opacity = 1;\n          hideLayers([btnBgDefault, btnBgListening, btnBgSpeaking, btnBgIntermediate]);\n        }\n\n        if (newState === SPEAKING) {\n          micTriangleIcon.style.opacity = 0;\n          micCircleIcon.style.opacity = 1;\n          micTriangleIcon.style.backgroundSize = '0% 0%';\n          micCircleIcon.style.backgroundSize = '100% 100%';\n        } else {\n          micCircleIcon.style.opacity = 0;\n          micCircleIcon.style.backgroundSize = '0% 0%';\n          micTriangleIcon.style.backgroundSize = '100% 100%';\n        }\n\n        if (newState === DEFAULT) {\n          micTriangleIcon.classList.add('triangleMicIconBg-default');\n        } else {\n          micTriangleIcon.classList.remove('triangleMicIconBg-default');\n        }\n\n        tempLogoParts = [logoState1, logoState2, logoState3, logoState4, logoState5, logoState6, logoState7, logoState8, logoState9, logoState10];\n\n        if (newState === LISTENING || newState === INTERMEDIATE || newState === SPEAKING || newState === UNDERSTOOD) {\n          if (logoState1.style.animationName === '') {\n            for (i = 0; i < tempLogoParts.length; i++) {\n              if (i === 0) {\n                tempLogoParts[i].style.opacity = 1;\n              } else {\n                tempLogoParts[i].style.opacity = 0;\n              }\n\n              tempLogoParts[i].style.animationName = 'logo-state-' + (i + 1) + '-animation';\n            }\n          }\n        } else {\n          for (i = 0; i < tempLogoParts.length; i++) {\n            if (i === 0) {\n              tempLogoParts[i].style.opacity = 1;\n            } else {\n              tempLogoParts[i].style.opacity = 0;\n            }\n\n            tempLogoParts[i].style.animationName = '';\n          }\n        }\n\n        if (newState === LOW_VOLUME || newState === PERMISSION_DENIED) {\n          if (newState === LOW_VOLUME) {\n            rootEl.classList.add(\"alan-btn-low-volume\");\n          }\n\n          if (newState === PERMISSION_DENIED) {\n            rootEl.classList.add(\"alan-btn-permission-denied\");\n            showInfo(MIC_BLOCKED_MSG);\n          }\n\n          micIcon.style.opacity = 0;\n          micTriangleIcon.style.opacity = 0;\n          disconnectedMicLoaderIcon.style.opacity = 0;\n          offlineIcon.style.opacity = 0;\n          lowVolumeMicIcon.style.opacity = 1;\n          btnOval1.style.animation = '';\n          btnOval2.style.animation = '';\n          btnOval1.style.opacity = 0;\n          btnOval2.style.opacity = 0;\n        } else if (newState === DISCONNECTED || newState === OFFLINE) {\n          if (newState === DISCONNECTED) {\n            rootEl.classList.add(\"alan-btn-disconnected\");\n          }\n\n          if (newState === OFFLINE) {\n            rootEl.classList.add(\"alan-btn-offline\");\n          }\n\n          micTriangleIcon.style.opacity = 0;\n          lowVolumeMicIcon.style.opacity = 0;\n          btnOval1.style.animation = '';\n          btnOval2.style.animation = '';\n          btnOval1.style.opacity = 0;\n          btnOval2.style.opacity = 0;\n\n          if (newState === DISCONNECTED) {\n            micIcon.style.opacity = .4;\n            disconnectedMicLoaderIcon.style.opacity = 1;\n          } else {\n            micIcon.style.opacity = 0;\n            disconnectedMicLoaderIcon.style.opacity = 0;\n            offlineIcon.style.opacity = 1;\n          }\n        } else {\n          lowVolumeMicIcon.style.opacity = 0;\n          offlineIcon.style.opacity = 0;\n          disconnectedMicLoaderIcon.style.opacity = 0;\n          rootEl.classList.remove(\"alan-btn-low-volume\");\n          rootEl.classList.remove(\"alan-btn-permission-denied\");\n          rootEl.classList.remove(\"alan-btn-disconnected\");\n          rootEl.classList.remove(\"alan-btn-offline\");\n        }\n\n        state = newState; // console.info('BTN: state', newState);\n      } //#endregions\n      //#region Helpers\n\n\n      function applyBgStyles(el, backgroundImage) {\n        el.style.transition = 'all 0.4s linear';\n        el.style.position = 'absolute';\n        el.style.top = '0px';\n        el.style.left = '0px';\n        el.style.width = '100%';\n        el.style.height = '100%';\n        el.style.borderRadius = '50%';\n        el.style.zIndex = btnBgLayerZIndex;\n        el.style.backgroundPosition = '0 0';\n        el.style.opacity = 0;\n        el.style.opacity = 0;\n        el.style.transition = 'opacity 300ms ease-in-out';\n        el.style.animation = gradientAnimation;\n      }\n\n      function hideLayers(layers) {\n        for (var i = 0; i < layers.length; i++) {\n          layers[i].style.opacity = offOpacity;\n          layers[i].classList.add('super-hidden');\n        }\n      }\n\n      function changeBgColors(state) {\n        var tempBgLayers = [btnOval1, btnOval2];\n        var newStateName = state || DEFAULT;\n        var tempBgLayerClasses = ['alanBtn-oval-bg-' + DEFAULT, 'alanBtn-oval-bg-' + LISTENING, 'alanBtn-oval-bg-' + INTERMEDIATE, 'alanBtn-oval-bg-' + UNDERSTOOD, 'alanBtn-oval-bg-' + SPEAKING];\n\n        for (var i = 0; i < tempBgLayers.length; i++) {\n          for (var j = 0; j < tempBgLayerClasses.length; j++) {\n            tempBgLayers[i].classList.remove(tempBgLayerClasses[j]);\n          }\n\n          tempBgLayers[i].classList.add('alanBtn-oval-bg-' + newStateName);\n        }\n      }\n\n      function getStorageKey() {\n        var key = '';\n\n        if (options && options.key) {\n          key = options.key;\n        }\n\n        return 'alan-btn-options-' + key;\n      }\n\n      function isMobile() {\n        if (/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n          return true;\n        }\n\n        return false;\n      }\n\n      function isAudioSupported() {\n        var available = false,\n            fakeGetUserMedia,\n            fakeContext,\n            isAllowed = false;\n\n        if (window.location.protocol === 'https:') {\n          isAllowed = true;\n        }\n\n        if (window.location.protocol === 'file:') {\n          isAllowed = true;\n        }\n\n        if (window.location.protocol === 'http:' && window.location.hostname === 'localhost') {\n          isAllowed = true;\n        }\n\n        if (!isAllowed) {\n          return false;\n        }\n\n        fakeGetUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n        fakeContext = window.AudioContext || window.webkitAudioContext || window.mozAudioContext;\n\n        if (fakeGetUserMedia && fakeContext) {\n          available = true;\n        }\n\n        return available;\n      } //#endregion\n      //#region Append layers to the rootEl\n\n\n      function showAlanBtn() {\n        rootEl.innerHTML = '';\n        textHolder.appendChild(textHolderTextWrapper);\n\n        if (!isTutorMode()) {\n          hintHolder.appendChild(hintHolderWrapper);\n          rootEl.appendChild(hintHolder);\n        }\n\n        rootEl.appendChild(textHolder);\n        rootEl.appendChild(btn);\n        btnDisabled = false;\n      }\n\n      function hideAlanBtn() {\n        if (!isTutorMode()) {\n          alanAudio.stop();\n          rootEl.innerHTML = '';\n\n          if (mode === 'demo') {\n            rootEl.appendChild(alanBtnDisabledMessage);\n          }\n\n          btnDisabled = true;\n        }\n      }\n\n      function showSpeach2TextPanel() {\n        hideS2TPanel = false;\n      }\n\n      function hideSpeach2TextPanel() {\n        hideS2TPanel = true;\n        hideRecognisedText();\n      }\n\n      function setUpHints(newHints) {\n        hints = newHints;\n      }\n\n      function applyBtnOptions(btnOptions) {\n        if (btnOptions) {\n          createAlanStyleSheet(btnOptions);\n        }\n      }\n\n      rootEl.classList.add(\"alanBtn-root\");\n      rootEl.classList.add(\"alan-\" + getProjectId());\n      var alanBtnSavedOptions = null;\n\n      if (isTutorMode()) {\n        showAlanBtn();\n      } else {\n        if (isLocalStorageAvailable) {\n          try {\n            tryReadSettingsFromLocalStorage();\n          } catch (e) {\n            showAlanBtn();\n          }\n        } else {\n          showAlanBtn();\n        }\n      }\n\n      function tryReadSettingsFromLocalStorage() {\n        if (isLocalStorageAvailable) {\n          try {\n            alanBtnSavedOptions = JSON.parse(localStorage.getItem(getStorageKey()));\n\n            if (alanBtnSavedOptions && alanBtnSavedOptions.web) {\n              if (alanBtnSavedOptions.web.btnOptions) {\n                applyBtnOptions(alanBtnSavedOptions.web.btnOptions);\n              }\n\n              if (alanBtnSavedOptions.web.hidden !== true) {\n                showAlanBtn();\n              } else {\n                hideAlanBtn();\n              }\n            }\n          } catch (e) {}\n        }\n      }\n\n      if (!options.rootEl) {\n        body.appendChild(rootEl);\n      } // showRecognisedText({})\n\n\n      return btnInstance; //#endregion\n    }\n\n    ns.alanBtn = alanBtn;\n  })(window);\n\n  return alanBtn;\n});","map":{"version":3,"sources":["/home/navya/Documents/project_news_alan_ai/node_modules/@alan-ai/alan-sdk-web/index.js"],"names":["root","factory","define","amd","exports","module","alanBtn","ns","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","mediaDevices","console","error","isAudio","obj","Float32Array","AudioQueue","_queue","prototype","write","float32arrayOrEvent","push","_fetchData","length","fireEvent","shift","read","samples","r","subarray","res","idx","len","Math","min","i","PLAY_IDLE","PLAY_ACTIVE","handlers","micStream","audioQueue","audioPlayback","audioPlayGain","audioRecorder","audioSource","frameSize","silence","playState","audioCtx","totalSamples","sampleRate","firstSampleTs","frameCount","window","AudioContext","webkitAudioContext","event","o1","o2","h","onGetUserMedia","mic","log","state","resume","createMediaStreamSource","createScriptProcessor","connect","onaudioprocess","e","recordFrame","inputBuffer","getChannelData","destination","onGetUserMediaError","err","sr","float32array","Date","now","audioTime","clockTime","isPlaying","playCommand","play","frames","on","handler","off","index","indexOf","splice","start","onStarted","audio","then","f","outputBuffer","set","createGain","stop","getTracks","track","getAudioTracks","disconnect","alanAudio","host","config","baseURL","location","codec","version","platform","ConnectionWrapper","_this","_worker","Worker","URL","createObjectURL","Blob","type","onmessage","data","_fire","_callback","_dialogId","onerror","filename","lineno","message","_handlers","_cleanups","_callIds","_config","getSettings","server","projectId","dialogId","setVisual","postMessage","call","method","param","callback","cid","close","_url","forEach","object","_addCleanup","fillAuth","values","ext","auth","k","platformVersion","connectProject","mode","url","forwardAudioEvent","name","a1","a2","connectProjectTest","connectTutor","alan","projectTest","project","tutor","options","btnDisabled","hideS2TPanel","btnInstance","setVisualState","visualState","tutorProject","callProjectApi","funcName","funcNamePrefix","playText","text","command","activate","activateAlanButton","deactivate","isActive","isAlanActive","callClientApi","setAuthData","key","getAuthData","onConnectStatusChange","onOptionsReceived","setOptions","btnOptions","applyBtnOptions","setPreviewState","switchState","remove","rootEl","updateButtonState","isAudioSupported","baseUrl","DEFAULT","LISTENING","SPEAKING","INTERMEDIATE","UNDERSTOOD","DISCONNECTED","OFFLINE","LOW_VOLUME","PERMISSION_DENIED","MIC_BLOCKED_MSG","NO_VOICE_SUPPORT_IN_BROWSER_MSG","MIC_BLOCKED_CODE","NO_VOICE_SUPPORT_IN_BROWSER_CODE","PREVIEW_MODE_CODE","BTN_IS_DISABLED_CODE","NO_ALAN_AUDIO_INSANCE_WAS_PROVIDED_CODE","previousState","isAlanSpeaking","hints","hintsTimerId","insideHintsAnimationIntervalId","hintsRequestIntervalId","hintAppearTimeoutId","removeTextHintTimeoutId","hoverShowHintTimeoutId","hoverHideHintTimeoutId","doNotShowHints","hintVisible","recognisedTextVisible","textHolderWidth","hintHolderWidth","hintCloserRightPos","isHintWasPreviously","defaultHintLabel","listeningHintLabel","turnOffTimeout","turnOffVoiceFn","setTurnOffVoiceTimeout","debounce","switchToLowVolumeStateTimer","pulsatingAnimation","pulsatingMicAnimation","pulsatingTriangleMicAnimation","isPreviewMode","gradientAnimation","disconnectedLoaderAnimation","oval1Animation","oval2Animation","document","createElement","body","getElementsByTagName","btn","panelOvalImg","micTriangleIconImg","micCircleIconImg","micIcon","logoState1","logoState2","logoState3","logoState4","logoState5","logoState6","logoState7","logoState8","logoState9","logoState10","micTriangleIcon","micCircleIcon","disconnectedMicLoaderIcon","lowVolumeMicIcon","offlineIcon","textHolder","textHolderTextWrapper","alanBtnDisabledMessage","hintHolder","hintHolderWrapper","soundOnAudioDoesNotExist","soundOffAudioDoesNotExist","soundOnAudio","Audio","soundOffAudio","addEventListener","closeHint","btnBgDefault","btnBgListening","btnBgSpeaking","btnBgIntermediate","btnBgUnderstood","btnOval1","btnOval2","btnSize","rightBtnPos","leftBtnPos","bottomBtnPos","topBtnPos","btnZIndex","btnIconsZIndex","btnTextPanelsZIndex","btnBgLayerZIndex","isLocalStorageAvailable","localStorage","getItem","updateOnlineStatus","onLine","btnModes","rightPos","leftPos","bottomPos","topPos","waveVerticalPositionRatio","waveCanvasWidth","waveCanvasHeight","size","isTutorMode","bottom","right","left","top","zIndex","style","position","undefined","textHolderDefaultBorderColor","textHolderDefaultBoxShadow","classList","add","setInnerPositionBasedOnOptions","paddingLeft","textAlign","paddingRight","height","minHeight","maxHeight","borderRadius","borderColor","boxShadow","borderTopRightRadius","borderBottomRightRadius","backgroundColor","color","width","fontSize","padding","innerText","el","minWidth","maxWidth","transition","tabIndex","cursor","setUpStylesForLogoParts","logos","animationIterationCount","animationDuration","animationTimingFunction","opacity","appendChild","src","overflow","backgroundSize","backgroundPosition","backgroundRepeat","animation","ovalCoefficient","defaultBtnColorOptions","transform","filter","animationPlayState","applyBgStyles","onOpacity","offOpacity","allIcons","setAttribute","hideLayers","createAlanStyleSheet","getStyleSheetMarker","andFlag","getProjectId","keyFrames","existingStyleSheet","shadowDOM","getElementById","disabled","parentNode","removeChild","generateKeyFrame","predefinedBtnColorOptions","btnLayerOptions","btnBackgroundOptionKeys","Object","keys","tempLayer","stateName","stateMapping","idle","listen","process","reply","stateNameClasses","stateNameClass","states","j","background","hover","innerHTML","prepend","rule","prefixes","tryReadSettingsFromLocalStorage","authData","guid","s4","floor","random","toString","substring","curUuid","uuidKey","uuid","setItem","substr","func","wait","timeout","delay","args","clearTimeout","setTimeout","apply","_activateAlanButton","resolve","playSoundOn","onBeforeMicStart","onMicStart","onMicStop","onMicFail","onPlayStart","onPlayStop","onCommandCbInMicBtn","onMicStarted","activatePromise","Promise","reject","waitForConnectionForActivateCall","alert","blur","onBtnMouseEnter","onBtnMouseLeave","showHints","showInfo","hideHints","hideInfo","showRecognisedText","recognisedText","isMobile","hideRecognizedText","value","replaceRecognisedText","hideRecognisedText","hintId","clearInterval","setInterval","hintList","outerHTML","getHintList","requestHints","className","getHintHeader","getHintsHtml","clickedEl","target","shuffle","array","currentIndex","temporaryValue","randomIndex","label","hintsHtml","hintItems","hintsLength","shuffledHints","hintsClass","hintClass","web","hidden","hideAlanBtn","showAlanBtn","hideSpeach2TextPanel","showSpeach2TextPanel","info","getStorageKey","JSON","stringify","onConnectionStatus","setUpHints","onTextCbInMicBtn","onParsedCbInMicBtn","onRecognizedCbInMicBtn","playSoundOff","onMicStopped","onReceiveRecognisedText","final","onCommand","catch","newState","tempLogoParts","changeBgColors","animationName","backgroundImage","layers","tempBgLayers","newStateName","tempBgLayerClasses","test","userAgent","available","fakeGetUserMedia","fakeContext","isAllowed","protocol","hostname","mozAudioContext","newHints","alanBtnSavedOptions","parse"],"mappings":"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","sourcesContent":[";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.alanBtn = factory();\n  }\n}(this, function() {\n(function(ns) {\n    \"use strict\";\n\n    navigator.getUserMedia = (navigator.getUserMedia ||\n                              navigator.webkitGetUserMedia ||\n                              navigator.mozGetUserMedia ||\n                              navigator.msGetUserMedia ||\n                              (navigator.mediaDevices && navigator.mediaDevices.getUserMedia));\n\n    if (!navigator.getUserMedia) {\n        console.error(\"getUserMedia is not supported\");\n    }\n\n    function isAudio(obj) {\n       return obj instanceof Float32Array;\n    }\n\n    function AudioQueue() {\n        this._queue = [];\n    }\n\n    AudioQueue.prototype.write = function(float32arrayOrEvent) {\n        this._queue.push(float32arrayOrEvent);\n    };\n\n    AudioQueue.prototype._fetchData = function() {\n        while (this._queue.length && !isAudio(this._queue[0])) {\n            fireEvent('command', this._queue.shift());\n        }\n        return this._queue.length;\n    };\n\n    AudioQueue.prototype.read = function(samples) {\n        if (!this._fetchData()) {\n            return null;\n        }\n        if (samples === this._queue[0].length) {\n            return this._queue.shift();\n        }\n        if (samples < this._queue[0].length) {\n            var r = this._queue[0].subarray(0, samples);\n            this._queue[0] = this._queue[0].subarray(samples, this._queue[0].length);\n            return r;\n        }\n        var res = new Float32Array(samples);\n        var idx = 0;\n        while (idx < samples && this._queue.length > 0) {\n            if (!this._fetchData()) {\n                break;\n            }\n            var len = Math.min(samples - idx, this._queue[0].length);\n            for (var i = 0; i < len; i++ ) {\n                res[idx + i] = this._queue[0][i];\n            }\n            idx += len;\n            if (len === this._queue[0].length) {\n                this._queue.shift();\n            } else {\n                this._queue[0] = this._queue[0].subarray(len, this._queue[0].length);\n            }\n        }\n        return res;\n    };\n\n    var PLAY_IDLE      = 'idle';\n    var PLAY_ACTIVE    = 'active';\n\n    var handlers       = {};\n    var micStream      = null;\n    var audioQueue     = new AudioQueue();\n    var audioPlayback  = null;\n    var audioPlayGain  = null;\n    var audioRecorder  = null;\n    var audioSource    = null;\n    var frameSize      = 4096;\n    var silence        = new Float32Array(frameSize);\n    var playState      = PLAY_IDLE;\n    var audioCtx       = null;\n    var totalSamples   = 0;\n    var sampleRate     = 0;\n    var firstSampleTs  = 0;\n    var frameCount     = 0;\n\n    if (window.AudioContext) {\n        audioCtx = new window.AudioContext();\n    }\n\n    if (window.webkitAudioContext) {\n        audioCtx = new window.webkitAudioContext();\n    }\n\n    function fireEvent(event, o1, o2) {\n        var h = handlers[event];\n        if (h) {\n            for (var i = 0; i < h.length; i++ ) {\n                h[i](o1, o2);\n            }\n        }\n    }\n\n    function onGetUserMedia(mic) {\n        console.log('got microphone');\n        fireEvent('micStart', mic);\n        micStream = mic;\n\n        if (audioCtx.state === 'suspended') {\n            audioCtx.resume();\n        }\n\n        audioSource   = audioCtx.createMediaStreamSource(micStream);\n        audioRecorder = audioCtx.createScriptProcessor(frameSize, 1, 1);\n        audioSource.connect(audioRecorder);\n        audioRecorder.onaudioprocess = function(e) {\n            if (micStream === mic) {\n                recordFrame(audioCtx.sampleRate, e.inputBuffer.getChannelData(0));\n            }\n        };\n        audioRecorder.connect(audioCtx.destination);\n    }\n\n    function onGetUserMediaError(err) {\n        console.error('failed to get microphone', err);\n        fireEvent('micFail', err);\n    }\n\n    function recordFrame(sr, float32array) {\n        if (sampleRate !== sr) {\n            sampleRate = sr;\n            firstSampleTs = Date.now();\n            totalSamples = 0;\n            frameCount = 0;\n        }\n        totalSamples += float32array.length;\n        if (++frameCount >= 300) {\n            frameCount = 0;\n            var audioTime = (1000 * totalSamples) / sampleRate;\n            var clockTime = Date.now() - firstSampleTs;\n            console.log(\"audioTime: \"   + audioTime +\n                        \", clockTime: \" + clockTime +\n                        \", ratio a/c: \" + audioTime / clockTime);\n        }\n        fireEvent('frame', sampleRate, float32array);\n    }\n\n    ns.isPlaying = function() {\n        return playState === PLAY_ACTIVE;\n    };\n\n    ns.playCommand = function(event) {\n        if (!audioPlayback) {\n            fireEvent('command', event);\n            return;\n        }\n        audioQueue.write(event);\n    };\n\n    ns.play = function(frames) {\n        if (!audioPlayback) {\n            return;\n        }\n        for (var i = 0; i < frames.length; i++ ) {\n            audioQueue.write(frames[i]);\n        }\n    };\n\n    ns.on = function(event, handler) {\n        var h = handlers[event];\n        if (h == null) {\n            handlers[event] = [handler];\n        } else {\n            h.push(handler);\n        }\n    };\n\n    ns.off = function(event, handler) {\n        var h = handlers[event];\n        if (h) {\n            var index = h.indexOf(handler);\n            if (index >= 0) {\n                h.splice(index, 1);\n            }\n        }\n    };\n\n    ns.sampleRate = function() {\n        return sampleRate;\n    };\n\n    ns.start = function(onStarted) {\n            if (!micStream) {\n                if (navigator.mediaDevices) {\n                    navigator.mediaDevices.getUserMedia({audio: true}).then(onGetUserMedia, onGetUserMediaError);\n                } else {\n                    navigator.getUserMedia({audio: true}, onGetUserMedia, onGetUserMediaError);\n                }\n            }\n            if (!audioPlayback) {\n                audioPlayback = audioCtx.createScriptProcessor(frameSize, 1, 1);\n                audioPlayback.onaudioprocess = function(e) {\n                    var f = audioQueue.read(frameSize);\n                    if (!f) {\n                        if (playState === PLAY_ACTIVE) {\n                            playState = PLAY_IDLE;\n                            fireEvent('playStop');\n                        }\n                        f = silence;\n                    } else {\n                        if (playState === PLAY_IDLE) {\n                            playState = PLAY_ACTIVE;\n                            fireEvent('playStart');\n                        }\n                    }\n                    if (onStarted) {\n                        onStarted();\n                        onStarted = null;\n                    }\n                    e.outputBuffer.getChannelData(0).set(f);\n                };\n                audioPlayGain = audioCtx.createGain();\n                audioPlayback.connect(audioPlayGain);\n                audioPlayGain.connect(audioCtx.destination);\n            } else {\n                if (onStarted) {\n                    onStarted();\n                    onStarted = null;\n                }\n            } \n    };\n\n    ns.stop = function() {\n        sampleRate = -1;\n        if (micStream) {\n            for (var i = 0; i < micStream.getTracks().length; i++) {\n                var track = micStream.getAudioTracks()[0];\n                if (track) {\n                    track.stop();\n                }\n            }\n            micStream = null;\n            fireEvent('micStop');\n        }\n        if (audioSource) {\n            audioSource.disconnect();\n            audioSource = null;\n        }\n        if (audioRecorder) {\n            audioRecorder.disconnect();\n            audioRecorder = null;\n        }\n        if (audioPlayback) {\n            audioPlayback.disconnect();\n            audioPlayback = null;\n        }\n        if (audioPlayGain) {\n            audioPlayGain.disconnect();\n            audioPlayGain = null;\n        }\n        audioQueue = new AudioQueue();\n        playState = PLAY_IDLE;\n    };\n\n})(typeof(window) !== 'undefined' ? (function() {window.alanAudio = {}; return window.alanAudio})() : exports);\n\n(function(ns) {\n    \"use strict\";\n\n    var host = 'studio.alan.app';\n\n    var config = {\n        // baseURL: (window.location.protocol === \"https:\" ? \"wss://\" : \"ws://\") +\n        baseURL: \"wss://\" +\n            ((host.indexOf('$') === 0 || host === '') ? window.location.host : host ),\n        codec: 'opus',\n        version: '1.0.9',\n        platform: 'web',\n    };\n\n    function ConnectionWrapper() {\n        var _this = this;\n        this._worker = new Worker(window.URL.createObjectURL(new Blob([\"'use strict';importScripts(    'https://studio.alan.app/js/alan_frame.js',    'https://studio.alan.app/js/alan_codec.js',    'https://studio.alan.app/js/libopus.js');var ALAN_OFF       = 'off';var ALAN_SPEAKING  = 'speaking';var ALAN_LISTENING = 'listening';function ConnectionImpl(config, auth, mode) {    var _this = this;    this._config = config;    this._auth = auth;    this._mode = mode;    this._projectId = config.projectId;    this._url = config.url;    this._connected = false;    this._authorized = false;    this._dialogId = null;    this._callId = 1;    this._callSent = {};    this._callWait = [];    this._failed = false;    this._closed = false;    this._reconnectTimeout = 100;    this._cleanups = [];    this._sampleRate = -1;    this._format = null;    this._formatSent = false;    this._frameQueue = [];    this._remoteSentTs = 0;    this._remoteRecvTs = 0;    this._rtt = 25;    this._rttAlpha = 1./16;    this._alanState = ALAN_OFF;    this._sendTimer = setInterval(_this._flushQueue.bind(_this), 100);    this._visualState = {};    this._addCleanup(function() {clearInterval(_this._sendTimer);});    this._connect();    console.log('connection created: ' + this._url);}ConnectionImpl.prototype._addCleanup = function(f) {    this._cleanups.push(f);};ConnectionImpl.prototype._onConnectStatus = function(s) {    console.log('connection status: ' + s);    this._fire('connectStatus', s);};ConnectionImpl.prototype._fire = function(event, object) {    if (event === 'options') {        if (object.versions) {            object.versions['alanbase:web'] = this._config.version;        }    }    postMessage(['fireEvent', event, object]);};ConnectionImpl.prototype._connect = function() {    var _this = this;    if (this._socket) {        console.error('socket is already connected');        return;    }    console.log('connecting to ' + this._url);    this._socket = new WebSocket(this._url);    this._socket.binaryType = 'arraybuffer';    this._decoder = alanCodec.decoder('pcm', 16000);    this._socket.onopen = function(e) {        console.info('connected', e.target === _this._socket);        _this._connected = true;        _this._reconnectTimeout = 100;        _this._fire('connection', {status: 'connected'});        if (_this._auth) {            _this._fire('connection', {status: 'authorizing'});            _this._callAuth();        } else {            _this._callWait.forEach(function(c) {  _this._sendCall(c); });            _this._callWait = [];        }    };    this._socket.onmessage = function(msg) {        if (msg.data instanceof ArrayBuffer) {            var f = alanFrame.parse(msg.data);            if (f.sentTs > 0) {                _this._remoteSentTs = f.sentTs;                _this._remoteRecvTs = Date.now();            } else {                _this._remoteSentTs = null;                _this._remoteRecvTs = null;            }            var rtt = 0;            if (f.remoteTs) {                rtt = Date.now() - f.remoteTs;            }            _this._rtt = _this._rttAlpha * rtt  + (1 - _this._rttAlpha) * _this._rtt;            var frames = _this._decoder(f.audioData);            postMessage(['alanAudio', 'playFrame', frames]);        } else if (typeof(msg.data) === 'string') {            msg = JSON.parse(msg.data);            if (msg.i) {                var c = _this._callSent[msg.i];                delete _this._callSent[msg.i];                if (c && c.callback) {                    c.callback(msg.e, msg.r);                }            } else if (msg.e) {                if (msg.e === 'command') {                    postMessage(['alanAudio', 'playCommand', msg.p]);                } else if (msg.e === 'inactivity') {                    postMessage(['alanAudio', 'stop']);                } else {                    _this._fire(msg.e, msg.p);                }            }        } else {            console.error('invalid message type');        }    };    this._socket.onerror = function(evt) {        console.error('connection closed due to error: ', evt);    };    this._socket.onclose = function(evt) {        console.info('connection closed');        _this._connected = false;        _this._authorized = false;        _this._socket = null;        _this._onConnectStatus('disconnected');        if (!_this._failed && _this._reconnectTimeout && !_this._closed) {            console.log('reconnecting in %s ms.', _this._reconnectTimeout);            _this._reConnect = setTimeout(_this._connect.bind(_this), _this._reconnectTimeout);            if (_this._reconnectTimeout < 3000) {                _this._reconnectTimeout *= 2;            } else {                _this._reconnectTimeout += 500;            }            _this._reconnectTimeout = Math.min(7000, _this._reconnectTimeout);        }    };    this._addCleanup(function() {        if (this._socket) {            this._socket.close();            this._socket = null;        }    });};ConnectionImpl.prototype._callAuth = function() {    var _this = this;    var callback = function(err, r) {        if (!err && r.status === 'authorized') {            _this._authorized = true;            _this._formatSent = false;            if (r.dialogId) {                postMessage(['setDialogId', r.dialogId]);                _this._dialogId = r.dialogId;            }            _this._onAuthorized();            _this._onConnectStatus('authorized');        } else if (err === 'auth-failed') {            _this._onConnectStatus('auth-failed');            if (_this._socket) {                _this._socket.close();                _this._socket = null;                _this._failed = true;            }        } else {            _this._onConnectStatus('invalid-auth-response');            console.log('invalid auth response', err, r);        }    };    var authParam = this._auth;    authParam.timeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;    if (this._dialogId) {        authParam.dialogId = this._dialogId;    }    authParam.mode = this._mode;    this._sendCall({cid: this._callId++, method: '_auth_', callback: callback, param: authParam});    return this;};ConnectionImpl.prototype._sendCall = function(call) {    this._socket.send(JSON.stringify({i: call.cid, m: call.method, p: call.param}));    if (call.callback) {        this._callSent[call.cid] = call;    }};ConnectionImpl.prototype._onAuthorized = function() {    console.log('authorized');    if (this._visualState) {        this.call(null, '_visual_', this._visualState);    }    var _this = this;    this._callWait.forEach(function(c) {        _this._sendCall(c);    });    this._callWait = [];};ConnectionImpl.prototype.close = function() {    for (var i = 0; i < this._cleanups.length; i++ ) {        this._cleanups[i]();    }    this._cleanups = [];    this._closed = true;        if (this._socket && (this._socket.readyState === WebSocket.OPEN || this._socket.readyState === WebSocket.CONNECTING)) {        this._socket.close();        this._socket = null;    }    console.log('closed connection to: ' + this._url);    close();};ConnectionImpl.prototype.call = function(cid, method, param) {    var call = {cid: cid, method: method, param: param, callback: function(err, obj) {        if (cid) {            postMessage(['callback', cid, err, obj]);        }    }};    if (this._authorized || this._connected && !this._auth) {        this._sendCall(call);    } else {        this._callWait.push(call);    }};ConnectionImpl.prototype.setVisual = function(state) {    this._visualState = state;    this.call(null, '_visual_', state);};ConnectionImpl.prototype._sendFrame = function(frame) {    if (!this._socket) {        console.error('sendFrame to closed socket');        return;    }    frame.sentTs = Date.now();    if (this._remoteSentTs > 0 && this._remoteRecvTs > 0) {        frame.remoteTs = this._remoteSentTs + Date.now() - this._remoteRecvTs;    }    this._socket.send(frame.write());};ConnectionImpl.prototype._listen = function() {    var f = alanFrame.create();    f.jsonData = JSON.stringify({signal: 'listen'});    this._frameQueue.push(f);    this._alanState = ALAN_LISTENING;};ConnectionImpl.prototype._stopListen = function() {    var f = alanFrame.create();    f.jsonData = JSON.stringify({signal: 'stopListen'});    this._frameQueue.push(f);    this._alanState = ALAN_OFF;};ConnectionImpl.prototype._onMicFrame = function(sampleRate, frame) {    if (this._alanState === ALAN_SPEAKING) {        return;    }    if (this._alanState === ALAN_OFF) {        this._listen();    }    if (this._alanState !== ALAN_LISTENING) {        console.error('invalid alan state: ' + this._alanState);        return;    }    if (this._sampleRate !== sampleRate) {        this._sampleRate = sampleRate;        this._encoder = alanCodec.encoder(this._config.codec, 48000);        this._formatSent = false;        this._format = {            send: {codec: this._config.codec, sampleRate: sampleRate},            recv: {codec: 'pcm_s16le', sampleRate: 16000},            timeout: this._timeout,        };    }    var p = this._encoder(frame);    for (var i = 0; i < p.length; i++ ) {        var f = alanFrame.create();        f.audioData = p[i];        this._frameQueue.push(f);    }};ConnectionImpl.prototype._flushQueue = function() {    if (!this._socket || !this._connected) {        var d = 0;        while (this._frameQueue.length > 100 && !this._frameQueue[0].jsonData) {            this._frameQueue.shift();            d++;        }        if (d > 0) {            console.error('dropped: %s, frames', d);        }        return;    }    while (this._frameQueue.length > 0 && this._socket && this._socket.bufferedAmount < 64 * 1024) {        if (!this._formatSent && this._format) {            var frame = alanFrame.create();            frame.jsonData = JSON.stringify({format: this._format});            this._sendFrame(frame);            this._formatSent = true;        }        this._sendFrame(this._frameQueue.shift());    }};function connectProject(config, auth, mode) {    var c = new ConnectionImpl(config, auth, mode);    c.onAudioEvent = function(event, arg1, arg2) {        if (event === 'frame') {            c._onMicFrame(arg1, arg2);        } else if (event === 'micStop' || event === 'playStart') {            c._stopListen();        } else {            console.error('unknown audio event: ' + event, arg1, arg2);        }    };    return c;}var factories = {    connectProject: connectProject,};var currentConnect = null;onmessage = function(e) {    var name = e.data[0];    try {        if (!currentConnect) {            currentConnect = factories[name].apply(null, e.data.slice(1, e.data.length));        } else {            currentConnect[name].apply(currentConnect, e.data.slice(1, e.data.length));        }    } catch(e) {        console.error('error calling: ' + name, e);    }};\"]),{type: 'text/javascript'}));\n        this._worker.onmessage = function(e) {\n            if (e.data[0] === 'fireEvent') {\n                _this._fire(e.data[1], e.data[2]);\n                return;\n            }\n            if (e.data[0] === 'alanAudio') {\n                if (e.data[1] === 'playFrame') {\n                    alanAudio.play(e.data[2]);\n                    return;\n                }\n                if (e.data[1] === 'playCommand') {\n                    alanAudio.playCommand(e.data[2]);\n                    return;\n                }\n                if (e.data[1] === 'stop') {\n                    alanAudio.stop();\n                    return;\n                }\n            }\n            if (e.data[0] === \"callback\") {\n                _this._callback[e.data[1]](e.data[2], e.data[3]);\n                delete _this._callback[e.data[1]];\n                return;\n            }\n            if (e.data[0] === \"setDialogId\") {\n                _this._dialogId = e.data[1];\n                return;\n            }\n            console.error(\"invalid event\", e.data);\n        };\n        this._worker.onerror = function(e) {\n            console.error(\"error in worker: \" + e.filename + \":\" + e.lineno + \" - \" +  e.message);\n        };\n        this._handlers = {};\n        this._cleanups = [];\n        this._callback = {};\n        this._callIds  = 1;\n        this._config   = {};\n    }\n\n    ConnectionWrapper.prototype.on = function(event, handler) {\n        var h = this._handlers[event];\n        if (!h) {\n            h = [];\n            this._handlers[event] = h;\n        }\n        h.push(handler);\n    };\n\n    ConnectionWrapper.prototype.off = function(event, handler) {\n        var h = this._handlers[event];\n        if (h) {\n            var index = h.indexOf(handler);\n            if (index >= 0) {\n                h.splice(index, 1);\n            }\n        }\n    };\n\n    ConnectionWrapper.prototype.getSettings = function() {\n        return {\n            server: config.baseURL,\n            projectId: this._config.projectId,\n            dialogId: this._dialogId,\n        };\n    };\n\n    ConnectionWrapper.prototype.setVisual = function(state) {\n        this._worker.postMessage(['setVisual', state]);\n    };\n\n    ConnectionWrapper.prototype.call = function(method, param, callback) {\n        var cid = null;\n        if (callback) {\n            cid = this._callIds++;\n            this._callback[cid] = callback;\n        }\n        this._worker.postMessage(['call', cid, method, param]);\n    };\n\n    ConnectionWrapper.prototype.close = function() {\n        console.log('closing connection to: ' + this._url);\n        this._cleanups.forEach(h=> { h();});\n        this._worker.postMessage(['close']);\n    };\n\n    ConnectionWrapper.prototype._fire = function(event, object) {\n        var h = this._handlers[event];\n        if (h) {\n            for (var i = 0; i < h.length; i++ ) {\n                h[i](object);\n            }\n        }\n    };\n\n    ConnectionWrapper.prototype._addCleanup = function(f) {\n        this._cleanups.push(f);\n    };\n\n    function fillAuth(values, ext) {\n        var auth = {};\n        for (var k in values) {\n            auth[k] = values[k];\n        }\n\n        if (!ext || (ext && ext.platform == null)) {\n            auth.platform = config.platform;\n        } else {\n            auth.platform = config.platform + \":\" + ext.platform;\n        }\n        if (!ext || (ext && ext.platformVersion == null)) {\n            auth.platformVersion = config.version;\n        } else {\n            auth.platformVersion = config.version + \":\" + ext.platformVersion;\n        }\n        return auth;\n    }\n                            \n    function connectProject(projectId, auth,  host, mode, ext) {\n        var connect = new ConnectionWrapper();\n        if (host)  {\n            connect._config.baseURL = \"wss://\" + host;\n        }\n        connect._config.projectId = projectId;\n        connect._config.codec     = config.codec;\n        connect._config.version   = config.version;\n        connect._config.url       = config.baseURL + \"/ws_project/\" + projectId;\n        connect._worker.postMessage([\"connectProject\", connect._config, fillAuth(auth, ext), mode]);\n        function forwardAudioEvent(name) {\n            function handler(a1, a2) {\n                if (name === 'frame'  && alanAudio.isPlaying()) {\n                    return;\n                }\n                connect._worker.postMessage(['onAudioEvent', name, a1, a2]);\n            }\n            alanAudio.on(name, handler);\n            connect._addCleanup(function() {\n                alanAudio.off(name,  handler);\n            });\n        }\n        forwardAudioEvent('frame');\n        forwardAudioEvent('micStop');\n        //forwardAudioEvent('playStop');\n        forwardAudioEvent('playStart');\n        return connect;\n    }\n\n    function connectProjectTest(projectId, auth,  host, mode, ext) {\n        var connect = new ConnectionWrapper();\n        if (host)  {\n            connect._config.baseURL = \"wss://\" + host;\n        }\n        connect._config.projectId = projectId;\n        connect._config.codec     = config.codec;\n        connect._config.version   = config.version;\n        connect._config.url       = config.baseURL + \"/ws_project/\" + projectId;\n        connect._worker.postMessage([\"connectProject\", connect._config, fillAuth(auth, ext), mode]);\n        return connect;\n    }\n\n    function connectTutor(auth, host) {\n        var connect = new ConnectionWrapper();\n        if (host)  {\n            connect._config.baseURL = \"wss://\" + host;\n        }\n        connect._config.version = config.version;\n        connect._config.url = config.baseURL + \"/ws_tutor\";\n        connect._worker.postMessage([\"connectProject\", connect._config, auth]);\n        return connect;\n    }\n\n    ns.alan = {\n        projectTest: connectProjectTest,\n        project: connectProject,\n        tutor: connectTutor,\n    };\n\n})(window);\n\n(function(ns) {\n    \"use strict\";\nfunction alanBtn(options) {\n\n    options = options || {};\n\n    var btnDisabled = false;\n    var hideS2TPanel = false;\n\n    var btnInstance = {\n        // Common public API\n        setVisualState: function (visualState) {\n            if (btnDisabled) {\n                return;\n            }\n\n            if (window.tutorProject) {\n                window.tutorProject.setVisual(visualState);\n            }\n        },\n        callProjectApi: function (funcName, data, callback) {\n            var funcNamePrefix = 'script::';\n            if (btnDisabled) {\n                return;\n            }\n            if (!funcName) {\n                throw 'Function name for callProjectApi must be provided';\n            }\n\n            if (window.tutorProject) {\n                if (funcName.indexOf(funcNamePrefix) === 0) {\n                    window.tutorProject.call(funcName, data, callback);\n                } else {\n                    window.tutorProject.call(funcNamePrefix + funcName, data, callback);\n                }\n            }\n        },\n        playText: function (text) {\n            if (btnDisabled) {\n                return;\n            }\n\n            if (window.tutorProject) {\n                window.tutorProject.call('play', {\n                    text: text\n                });\n            }\n        },\n        playCommand: function (command) {\n            if (btnDisabled) {\n                return;\n            }\n\n            alanAudio.playCommand({\n                data: command\n            });\n        },\n        activate: function () {\n            return activateAlanButton();\n        },\n        deactivate: function () {\n            if (btnDisabled) {\n                return;\n            }\n\n            alanAudio.stop();\n        },\n        isActive: function () {\n            return isAlanActive;\n        },\n        //deprecated\n        callClientApi: function (method, data, callback) {\n            if (btnDisabled) {\n                return;\n            }\n\n            if (window.tutorProject) {\n                window.tutorProject.call(method, data, callback);\n            }\n        },\n        // deprecated\n        setAuthData: function (data) {\n            if (btnDisabled) {\n                return;\n            }\n\n            if (window.tutorProject) {\n                window.tutorProject.close();\n                window.tutorProject = alan.project(options.key, getAuthData(data), options.host);\n                window.tutorProject.on('connectStatus', onConnectStatusChange);\n                window.tutorProject.on('options', onOptionsReceived);\n            }\n        },\n        // Other methods\n        setOptions: function (btnOptions) {\n            applyBtnOptions(btnOptions);\n        },\n        setPreviewState: function (state) {\n            switchState(state);\n        },\n        remove: function () {\n            alanAudio.stop();\n            window.tutorProject.close();\n            rootEl.remove();\n        },\n        stop: function () {\n            alanAudio.stop();\n        },\n        updateButtonState: function (state) {\n            onConnectStatusChange(state);\n        }\n    };\n\n    if (!isAudioSupported()) {\n        return;\n    }\n\n    //Host\n    var host = 'studio.alan.app';\n    var baseUrl = 'https://' + ((host.indexOf('$') === 0 || host === '') ? window.location.host : host);\n\n    if (options.host) {\n        baseUrl = 'https://' + options.host;\n    }\n\n    // Btn modes\n    var mode;\n\n    if (options.mode === 'tutor') {\n        mode = 'tutor';\n    } else if (options.mode === 'tutor-preview') {\n        mode = 'tutor-preview';\n    } else if (options.mode === 'demo') {\n        mode = 'demo';\n    } else {\n        mode = 'component';\n    }\n\n    // Btn states\n    var DEFAULT = 'default';\n    var LISTENING = 'listening';\n    var SPEAKING = 'speaking';\n    var INTERMEDIATE = 'intermediate';\n    var UNDERSTOOD = 'understood';\n    var DISCONNECTED = 'disconnected';\n    var OFFLINE = 'offline';\n    var LOW_VOLUME = 'lowVolume';\n    var PERMISSION_DENIED = 'permissionDenied';\n\n    // Error messages\n    var MIC_BLOCKED_MSG = 'Access to the microphone was blocked. Please allow it to use Alan';\n    var NO_VOICE_SUPPORT_IN_BROWSER_MSG = 'Your browser doesnâ€™t support voice input. To use voice, open Alan Tutor in a Chrome, Safari, or Firefox desktop browser window.';\n    var MIC_BLOCKED_CODE = 'microphone-access-blocked';\n    var NO_VOICE_SUPPORT_IN_BROWSER_CODE = 'browser-does-not-support-voice-input';\n    var PREVIEW_MODE_CODE = 'preview-mode';\n    var BTN_IS_DISABLED_CODE = 'btn-is-disabled';\n    var NO_ALAN_AUDIO_INSANCE_WAS_PROVIDED_CODE = 'no-alan-audio-instance-was-provided';\n\n    // Set default state for btn\n    var state = DISCONNECTED;\n    var previousState = null;\n    var isAlanSpeaking = false;\n    var isAlanActive = false;\n\n    // Set variables for hints and stt\n    var hints = [];\n    var hintsTimerId = null;\n    var insideHintsAnimationIntervalId = null;\n    var hintsRequestIntervalId = null;\n    var hintAppearTimeoutId = null;\n    var removeTextHintTimeoutId = null;\n    var hoverShowHintTimeoutId = null;\n    var hoverHideHintTimeoutId = null;\n    var doNotShowHints = false;\n    var hintVisible = false;\n    var recognisedTextVisible = false;\n    var textHolderWidth = 480;\n    var hintHolderWidth = 480;\n    var hintCloserRightPos;\n    var isHintWasPreviously = false;\n    var defaultHintLabel = 'Click and say';\n    var listeningHintLabel = 'Say';\n    var turnOffTimeout = 30000;\n    var turnOffVoiceFn;\n\n    function setTurnOffVoiceTimeout() {\n        turnOffVoiceFn = debounce(function () {\n            if (isAlanSpeaking) {\n                // console.info('BTN: CONTINUE alanAudio', new Date());\n                turnOffVoiceFn();\n            } else {\n                // console.info('BTN: STOP alanAudio', new Date());\n                alanAudio.stop();\n            }\n        }, turnOffTimeout);\n    }\n\n    setTurnOffVoiceTimeout();\n\n    var switchToLowVolumeStateTimer = null;\n\n    // Css animations\n    var pulsatingAnimation = '';\n    var pulsatingMicAnimation = '';\n    var pulsatingTriangleMicAnimation = '';\n    if (!isPreviewMode()) {\n        pulsatingAnimation = 'alan-pulsating 2s ease-in-out infinite';\n        pulsatingMicAnimation = 'alan-mic-pulsating 1.4s ease-in-out infinite';\n        pulsatingTriangleMicAnimation = 'alan-triangle-mic-pulsating 1.2s ease-in-out infinite';\n    }\n\n    var gradientAnimation = 'alan-gradient 3s ease-in-out infinite';\n    var disconnectedLoaderAnimation = 'disconnected-loader-animation 2s linear infinite';\n    var oval1Animation = 'oval1-animation 6s linear infinite';\n    var oval2Animation = 'oval2-animation 6s linear infinite';\n\n    // Set alanAudio\n    var alanAudio = window.alanAudio;\n\n    // Define base blocks and layers\n    var rootEl = options.rootEl || document.createElement('div');\n    var body = document.getElementsByTagName('body')[0];\n    var btn = document.createElement('div');\n    var panelOvalImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI3NThweCIgaGVpZ2h0PSIyMTdweCIgdmlld0JveD0iMCAwIDc1OCAyMTciIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+T3ZhbCBDb3B5IDI8L3RpdGxlPiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4gICAgPGRlZnM+ICAgICAgICA8cmFkaWFsR3JhZGllbnQgY3g9IjUwJSIgY3k9IjQxLjA1NjE0NTIlIiBmeD0iNTAlIiBmeT0iNDEuMDU2MTQ1MiUiIHI9IjE2Ni42MjMxMDIlIiBncmFkaWVudFRyYW5zZm9ybT0idHJhbnNsYXRlKDAuNTAwMDAwLDAuNDEwNTYxKSxzY2FsZSgwLjI4NjI4MCwxLjAwMDAwMCkscm90YXRlKDE4MC4wMDAwMDApLHNjYWxlKDEuMDAwMDAwLDAuMjMyODQ2KSx0cmFuc2xhdGUoLTAuNTAwMDAwLC0wLjQxMDU2MSkiIGlkPSJyYWRpYWxHcmFkaWVudC0xIj4gICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGRkZGIiBvZmZzZXQ9IjAlIj48L3N0b3A+ICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRkZGRiIgb2Zmc2V0PSIzMy42Njc4MzM2JSI+PC9zdG9wPiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkZGRkYiIHN0b3Atb3BhY2l0eT0iMC4xIiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4gICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+ICAgIDwvZGVmcz4gICAgPGcgaWQ9IkFsYW4tQnV0dG9uIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJBbGFuLUJ1dHRvbi1jaGVja2luZy1kaWZmZXJlbnQtYmctYW5kLWhpbnRzLS0tbGF5ZXJzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjAyOS4wMDAwMDAsIC00MTguMDAwMDAwKSIgZmlsbD0idXJsKCNyYWRpYWxHcmFkaWVudC0xKSIgZmlsbC1ydWxlPSJub256ZXJvIj4gICAgICAgICAgICA8ZWxsaXBzZSBpZD0iT3ZhbC1Db3B5LTIiIGN4PSIyNDA4IiBjeT0iNTI2LjUiIHJ4PSIzNzkiIHJ5PSIxMDguNSI+PC9lbGxpcHNlPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+';\n    var micTriangleIconImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1pbm5lci1zaGFwZTwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjMuNzQ5Mzk5NDZlLTMxJSIgeDI9IjIuODYwODIwMDklIiB5Mj0iOTcuMTM5MTc5OSUiIGlkPSJsaW5lYXJHcmFkaWVudC0xIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjEyIiBvZmZzZXQ9IjAlIj48L3N0b3A+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMwMDAwMDAiIHN0b3Atb3BhY2l0eT0iMC4wNCIgb2Zmc2V0PSIxMDAlIj48L3N0b3A+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGlkPSJBbGFuLUJ1dHRvbi0vLUFuaW1hdGlvbi0vLWJ1dHRvbi1pbm5lci1zaGFwZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZD0iTTQwLjEwMDU0MjIsOSBMNDAuMTAwNTQyMiw5IEM1MC4wNzA0NzUxLDkgNTkuMTUxNjIzNSwxNC43MzM3OTM4IDYzLjQzODA5OCwyMy43MzUyMjE0IEw3MC40MjIwMjY3LDM4LjQwMTE5NyBDNzUuMTcxMDE0NSw0OC4zNzM4ODQ0IDcwLjkzNjM2OTMsNjAuMzA4MTYwMSA2MC45NjM2ODE5LDY1LjA1NzE0NzggQzU4LjI3NzU5NDksNjYuMzM2MjYwOCA1NS4zMzk5NzQ0LDY3IDUyLjM2NDg3ODksNjcgTDI3LjgzNjIwNTQsNjcgQzE2Ljc5MDUxMDQsNjcgNy44MzYyMDU0Myw1OC4wNDU2OTUgNy44MzYyMDU0Myw0NyBDNy44MzYyMDU0Myw0NC4wMjQ5MDQ1IDguNDk5OTQ0NTksNDEuMDg3Mjg0IDkuNzc5MDU3NiwzOC40MDExOTcgTDE2Ljc2Mjk4NjQsMjMuNzM1MjIxNCBDMjEuMDQ5NDYwOCwxNC43MzM3OTM4IDMwLjEzMDYwOTIsOSA0MC4xMDA1NDIyLDkgWiIgaWQ9ImlubmVyLWJnIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPg==\\n';\n    var micCircleIconImg = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1pbm5lci1zaGFwZS1zcGVha2luZyBiYWNrPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGRlZnM+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IHgxPSIxMDAlIiB5MT0iMy43NDkzOTk0NmUtMzElIiB4Mj0iMi44NjA4MjAwOSUiIHkyPSI5Ny4xMzkxNzk5JSIgaWQ9ImxpbmVhckdyYWRpZW50LTEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMDAwMDAwIiBzdG9wLW9wYWNpdHk9IjAuMTIiIG9mZnNldD0iMCUiPjwvc3RvcD4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzAwMDAwMCIgc3RvcC1vcGFjaXR5PSIwLjA0IiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWlubmVyLXNoYXBlLXNwZWFraW5nLWJhY2siIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxjaXJjbGUgaWQ9ImlubmVyLWJnIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIiBjeD0iNDAiIGN5PSI0MCIgcj0iMzIiPjwvY2lyY2xlPgogICAgPC9nPgo8L3N2Zz4=\\n';\n    var micIcon = document.createElement('div');\n    var logoState1 = document.createElement('img');\n    var logoState2 = document.createElement('img');\n    var logoState3 = document.createElement('img');\n    var logoState4 = document.createElement('img');\n    var logoState5 = document.createElement('img');\n    var logoState6 = document.createElement('img');\n    var logoState7 = document.createElement('img');\n    var logoState8 = document.createElement('img');\n    var logoState9 = document.createElement('img');\n    var logoState10 = document.createElement('img');\n    var micTriangleIcon = document.createElement('div');\n    var micCircleIcon = document.createElement('div');\n    var disconnectedMicLoaderIcon = document.createElement('img');\n    var lowVolumeMicIcon = document.createElement('img');\n    var offlineIcon = document.createElement('img');\n    var textHolder = document.createElement('div');\n    var textHolderTextWrapper = document.createElement('div');\n    var alanBtnDisabledMessage = document.createElement('div');\n    var hintHolder = document.createElement('div');\n    var hintHolderWrapper = document.createElement('div');\n    var soundOnAudioDoesNotExist = false;\n    var soundOffAudioDoesNotExist = false;\n    var soundOnAudio = new Audio(baseUrl + '/resources/sounds/soundOn.m4a');\n    soundOnAudio.onerror = function() {\n        soundOnAudioDoesNotExist = true;\n    };\n    var soundOffAudio = new Audio(baseUrl + '/resources/sounds/soundOff.m4a');\n    soundOffAudio.onerror = function() {\n        soundOffAudioDoesNotExist = true;\n    };\n\n    textHolder.addEventListener(\"click\", closeHint);\n\n    // Specify layers for different statets to make smooth animation\n    var btnBgDefault = document.createElement('div');\n    var btnBgListening = document.createElement('div');\n    var btnBgSpeaking = document.createElement('div');\n    var btnBgIntermediate = document.createElement('div');\n    var btnBgUnderstood = document.createElement('div');\n\n    // Specify layers with ovals\n    var btnOval1 = document.createElement('div');\n    var btnOval2 = document.createElement('div');\n\n    // Some variables for setting up right properties for Alan Btn\n    var btnSize;\n    var rightBtnPos;\n    var leftBtnPos;\n    var bottomBtnPos;\n    var topBtnPos;\n    var btnZIndex;\n    var btnIconsZIndex;\n    var btnTextPanelsZIndex;\n    var btnBgLayerZIndex;\n\n    // Define base properties for disable/enable button functionality\n    var isLocalStorageAvailable = false;\n\n    try {\n        localStorage.getItem('test');\n        isLocalStorageAvailable = true;\n    } catch (e) {\n        isLocalStorageAvailable = false;\n    }\n\n    //#region Listen online/offline events to manage connected/disconnected states\n    window.addEventListener('online', updateOnlineStatus);\n    window.addEventListener('offline', updateOnlineStatus);\n\n    function updateOnlineStatus() {\n        if (navigator.onLine) {\n            switchState(DEFAULT);\n        } else {\n            switchState(OFFLINE);\n        }\n    }\n\n    //#endregion\n\n    //#region Define settings based on the btn mode\n    // For now we have two modes: small - for tutor, and big for demo\n    var btnModes = {\n        \"tutor\": {\n            btnSize: 50,\n            rightPos: 0,\n            leftPos: 0,\n            bottomPos: 0,\n            topPos: 0,\n            waveVerticalPositionRatio: 0.9,\n            waveCanvasWidth: 250,\n            waveCanvasHeight: 100,\n        },\n        \"tutor-preview\": {\n            btnSize: 64,\n            rightPos: 0,\n            leftPos: 0,\n            bottomPos: 0,\n            topPos: 0,\n            waveVerticalPositionRatio: 0.9,\n            waveCanvasWidth: 250,\n            waveCanvasHeight: 100,\n        },\n        \"demo\": {\n            btnSize: 120,\n            rightPos: 40,\n            leftPos: 40,\n            bottomPos: 40,\n            topPos: 0,\n            waveVerticalPositionRatio: 0.8,\n            waveCanvasWidth: 500,\n            waveCanvasHeight: 200,\n        },\n        \"component\": {\n            btnSize: options.size || 64,\n            rightPos: 40,\n            leftPos: 40,\n            bottomPos: 40,\n            topPos: 0,\n            waveVerticalPositionRatio: 0.8,\n            waveCanvasWidth: 500,\n            waveCanvasHeight: 200,\n        }\n    };\n\n    function isTutorMode() {\n        return mode.indexOf('tutor') > -1;\n    }\n\n    function isPreviewMode() {\n        return mode.indexOf('preview') > -1;\n    }\n\n    //#endregion\n\n    //#region Set styles for base layers\n\n    btnSize = btnModes[mode].btnSize;\n    bottomBtnPos = options.bottom || (btnModes[mode].bottomPos + 'px');\n    rightBtnPos = options.right || (btnModes[mode].rightPos + 'px');\n    if (options.left) {\n        leftBtnPos = options.left || (btnModes[mode].leftPos + 'px');\n    }\n    if (options.top) {\n        topBtnPos = options.top || (btnModes[mode].topPos + 'px');\n    }\n\n    btnZIndex = options.zIndex || 4;\n    btnIconsZIndex = btnZIndex - 2;\n    btnTextPanelsZIndex = btnZIndex - 1;\n    btnBgLayerZIndex = btnZIndex - 3;\n\n    // Define styles for root element\n\n    if (options.left) {\n        rootEl.style.left = leftBtnPos;\n    } else {\n        rootEl.style.right = rightBtnPos;\n    }\n\n    if (options.top) {\n        rootEl.style.top = topBtnPos;\n    } else {\n        rootEl.style.bottom = bottomBtnPos;\n    }\n\n    rootEl.style.position = isTutorMode() ? 'absolute' : 'fixed';\n    if (options.zIndex !== undefined) {\n        rootEl.style.zIndex =  options.zIndex;\n    }\n    rootEl.style.position = isTutorMode() ? 'absolute' : 'fixed';\n\n    // Define styles for block with recognised text\n    var textHolderDefaultBorderColor = '#d5eded';\n    var textHolderDefaultBoxShadow = '0px 12px 50px -14px rgba(0,0,0,0.2), 0px 12px 50px -14px rgba(0,169,255,0.3)';\n    textHolderTextWrapper.classList.add('alanBtn-text-holder-text-wrapper');\n    textHolder.classList.add('alanBtn-text-holder');\n    setInnerPositionBasedOnOptions(textHolder, options);\n    if (options.left) {\n        textHolderTextWrapper.style.paddingLeft = btnSize + 32 + 'px';\n        textHolderTextWrapper.style.textAlign = 'left';\n    } else {\n        textHolderTextWrapper.style.paddingRight = btnSize + 32 + 'px';\n    }\n    \n    textHolder.style.height = btnSize + 'px';\n    textHolder.style.minHeight = btnSize + 'px';\n    textHolder.style.maxHeight = btnSize + 'px';\n    textHolder.style.borderRadius = btnSize + 'px';\n    textHolder.style.borderRadius = btnSize + 'px';\n    textHolder.style.zIndex = btnTextPanelsZIndex;\n    textHolder.style.borderColor = textHolderDefaultBorderColor;\n    textHolder.style.boxShadow = textHolderDefaultBoxShadow;\n\n    // Define styles for block with hints\n    hintHolderWrapper.classList.add('alanBtn-hint-holder-wrapper');\n    if (options.left) {\n        hintHolderWrapper.classList.add('alanBtn-hint-holder-wrapper-left');\n        hintHolderWrapper.style.paddingLeft = btnSize + 32 + 'px';\n    } else {\n        hintHolderWrapper.classList.add('alanBtn-hint-holder-wrapper-right');\n        hintHolderWrapper.style.paddingRight = btnSize + 32 + 'px';\n    }\n    hintHolder.classList.add('alanBtn-hint-holder');\n    setInnerPositionBasedOnOptions(hintHolder, options);\n    hintCloserRightPos = btnSize / 2 + 32;\n    hintHolder.style.zIndex = btnTextPanelsZIndex;\n    hintHolder.style.borderTopRightRadius = btnSize + 'px';\n    hintHolder.style.borderBottomRightRadius = btnSize + 'px';\n    hintHolder.style.minHeight = btnSize + 'px';\n    hintHolder.style.borderColor = textHolderDefaultBorderColor;\n    hintHolder.style.boxShadow = textHolderDefaultBoxShadow;\n\n    // Define styles for message that informs that Alan Btn was disabled\n    setInnerPositionBasedOnOptions(alanBtnDisabledMessage, options);\n    alanBtnDisabledMessage.style.zIndex = btnTextPanelsZIndex;\n    alanBtnDisabledMessage.style.borderRadius = '7px';\n    alanBtnDisabledMessage.style.backgroundColor = '#ffffff';\n    alanBtnDisabledMessage.style.boxShadow = '0 2px 50px 0 rgba(86, 98, 112, 0.1)';\n    alanBtnDisabledMessage.style.position = 'absolute';\n    alanBtnDisabledMessage.style.color = 'red';\n    alanBtnDisabledMessage.style.width = '200px';\n    alanBtnDisabledMessage.style.fontSize = '14px';\n    alanBtnDisabledMessage.style.padding = '16px';\n    alanBtnDisabledMessage.innerText = \"This project's voice button has been disabled.\";\n    alanBtnDisabledMessage.classList.add(\"alan-btn-disabled-msg\");\n\n    function setInnerPositionBasedOnOptions(el, options) {\n        if (options.top) {\n            el.style.top = 0;\n        } else {\n            el.style.bottom = 0;\n        }\n        if (options.left) {\n            el.style.left = 0;\n        } else {\n            el.style.right = 0;\n        }\n    }\n\n    // Define base styles for btn\n    btn.style.width = btnSize + 'px';\n    btn.style.minWidth = btnSize + 'px';\n    btn.style.maxWidth = btnSize + 'px';\n    btn.style.minHeight = btnSize + 'px';\n    btn.style.height = btnSize + 'px';\n    btn.style.maxHeight = btnSize + 'px';\n    btn.style.color = '#fff';\n    btn.style.position = 'absolute';\n    if (options.top) {\n        btn.style.top = 0;\n    } else {\n        btn.style.bottom = 0;\n    }\n    if (options.left) {\n        btn.style.left = 0;\n    } else {\n        btn.style.right = 0;\n    }\n    btn.style.borderRadius = '50%';\n    btn.style.boxShadow = '0 8px 10px 0 rgba(0, 75, 144, 0.35)';\n    btn.style.textAlign = 'center';\n    btn.style.transition = 'all 0.4s ease-in-out';\n    btn.style.zIndex = btnZIndex;\n\n    // Specify tabIndex if it exists in options\n    if (options && options.tabIndex) {\n        btn.tabIndex = options.tabIndex;\n    }\n\n    // Specify cursor for btn\n    if (isPreviewMode()) {\n        btn.style.cursor = 'default';\n    } else {\n        btn.style.cursor = 'pointer';\n    }\n\n    // Define base styles for microphone btn\n    micIcon.style.minHeight = '100%';\n    micIcon.style.height = '100%';\n    micIcon.style.maxHeight = '100%';\n    micIcon.style.top = '0%';\n    micIcon.style.left = '0%';\n    micIcon.style.zIndex = btnIconsZIndex;\n    micIcon.style.position = 'relative';\n    micIcon.style.transition = 'all 0.4s ease-in-out';\n\n    function setUpStylesForLogoParts(logos) {\n        for (var i = 0; i < logos.length; i++) {\n            var obj = logos[i];\n            logos[i].style.minHeight = '100%';\n            logos[i].style.height = '100%';\n            logos[i].style.maxHeight = '100%';\n            logos[i].style.minWidth = '100%';\n            logos[i].style.width = '100%';\n            logos[i].style.maxWidth = '100%';\n            logos[i].style.top = '0%';\n            logos[i].style.left = '0%';\n            logos[i].style.position = 'absolute';\n            logos[i].style.animationIterationCount = 'infinite';\n            logos[i].style.animationDuration = '9s';\n            logos[i].style.animationTimingFunction = 'ease-in-out';\n            logos[i].style.opacity = (i == 0 ? 1 : 0);\n            micIcon.appendChild(logos[i]);\n        }\n    }\n\n    logoState1.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAxPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEMzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOS42NDAwMDEsMS40OTU0Njg1IEMxOS4xNjEyODQ2LDAuNTc2MzMzMDYgMTguMjEyMTgsLTEuMjE3ODgzODNlLTE0IDE3LjE3NzI2NTMsLTEuNDIxMDg1NDdlLTE0IEwzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IFogTTI4LjM1OTk5OSwxLjQ5NTQ2ODUgQzI4LjgyNDcxODksMC42MDMyMDY0MiAyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgTDMwLjk0NDQ0NDQsLTEuNDIxMDg1NDdlLTE0IEwzMC44MjI3MzQ3LC0xLjIzNzUxMTgzZS0xNCBDMzAuNzkyNDc2MywtMS4yMzE1ODY5M2UtMTQgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDI4LjM1OTk5OSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlLTIiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n    logoState2.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAyPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDIiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEwxNS40OTkxNjU5LDEuMTIxNjAxMzggQzE1Ljg0NjA3ODEsMC40NTU1Mjk5NjQgMTYuNTIyMzU1NSwwLjAyOTQ4ODMzMzUgMTcuMjY3ODExLDAuMDAxNDcyMTgxMTUgQzE4LjI2NzI3NzEsMC4wMzM5OTQyODkxIDE5LjE3NTI4MTEsMC42MDMyMDY0MiAxOS42NDAwMDEsMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOC4yNzExOTI0LDIxIFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LDEuODU4NDEzMzFlLTE1IDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgTDMwLjk0NDQ0NDQsMCBMMzAuODIyNzM0NywxLjgzNTczNjRlLTE1IEMzMC43OTI0NzYzLDEuODk0OTg1MzllLTE1IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjkiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgQzMwLjY3OTk5NSwxLjg1ODQxMzMxZS0xNSAzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjguMzU5OTk5LDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTkuNjQwMDAxLDEuNDk1NDY4NSBDMTkuMTYxMjg0NiwwLjU3NjMzMzA2IDE4LjIxMjE4LDIuMDMyMDE2NDNlLTE1IDE3LjE3NzI2NTMsMCBMMzAuNjUzNzgyMywxLjg1MzU4OTc1ZS0xNSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n    logoState3.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTAzPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDMiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjkiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgQzMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwtMS4yMTc4ODM4M2UtMTQgMTcuMTc3MjY1MywtMS40MjEwODU0N2UtMTQgTDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\";\n    logoState4.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA0PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDQiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTcuMjM3NzA4OSwwLjAwMDQ5MjY3MjYzNSAxNy4yMDc1MjM3LDEuOTU5OTMzNjZlLTE0IDE3LjE3NzI2NTMsMS45NTM5OTI1MmUtMTQgTDMwLjY1Mzc4MjMsMi4xMzkzNTE1ZS0xNCBDMzAuNjc5OTk1LDIuMTM5ODMzODVlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjUiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\";\n    logoState5.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA1PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMjguMzU5OTk5LDEuNDk1NDY4NSBDMjguODI0NzE4OSwwLjYwMzIwNjQyIDI5LjczMjcyMjksMC4wMzM5OTQyODkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBMMzAuOTQ0NDQ0NCwtMS40MjEwODU0N2UtMTQgTDMwLjgyMjczNDcsLTEuMjM3NTExODNlLTE0IEMzMC43OTI0NzYzLC0xLjIzMTU4NjkzZS0xNCAzMC43NjIyOTExLDAuMDAwNDkyNjcyNjM1IDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMS40Nzc2NDQ1LDAuMDI5NDg4MzMzNSAzMi4xNTM5MjE5LDAuNDU1NTI5OTY0IDMyLjUwMDgzNDEsMS4xMjE2MDEzOCBMNDcuNTIzNTAyOSwyOS45NjUxMjU2IEM0Ny42MjY5ODQ0LDMwLjE2MzgxIDQ3LjY4MTAyMzksMzAuMzg0NTk0OCA0Ny42ODEwMjM5LDMwLjYwODY5NTcgQzQ3LjY4MTAyMzksMzEuMzc3MDkxOCA0Ny4wNTkxOTcyLDMyIDQ2LjI5MjEzNTEsMzIgTDM2Ljc5MDY2MjIsMzIgQzM2LjAxNDQ3NjEsMzIgMzUuMzAyNjQ3NywzMS41Njc3NTAyIDM0Ljk0MzYxMDQsMzAuODc4Mzk4NiBMMjQsOS44NjY2NjY2NyBMMjguMzU5OTk5LDEuNDk1NDY4NSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEMzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOS42NDAwMDEsMS40OTU0Njg1IEMxOS4xNjEyODQ2LDAuNTc2MzMzMDYgMTguMjEyMTgsLTEuMjE3ODgzODNlLTE0IDE3LjE3NzI2NTMsLTEuNDIxMDg1NDdlLTE0IEwzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTE4LjI3MTE5MjQsMjEgTDIzLjk1NjQ1ODIsMjEgQzI0LjczMDk1NjIsMjAuOTk5ODkzOSAyNS40NDE1ODY3LDIxLjI5NTM4NDggMjUuODAxNDg0NiwyMS45ODIzNzY3IEwyOS45ODE5MDE1LDI5Ljk2MjE3NjkgQzMwLjMzODM0NCwzMC42NDI1NzMyIDMwLjA3NjY4NTIsMzEuNDgzNTk5NyAyOS4zOTc0NzAxLDMxLjg0MDY2MjEgQzI5LjE5ODM4MzgsMzEuOTQ1MzIxNSAyOC45NzY5MDkzLDMyIDI4Ljc1MjA3MzgsMzIgTDExLjIwOTMzNzgsMzIgTDEuNzA3ODY0OTUsMzIgQzAuOTQwODAyNzk2LDMyIDAuMzE4OTc2MDU5LDMxLjM3NzA5MTggMC4zMTg5NzYwNTksMzAuNjA4Njk1NyBDMC4zMTg5NzYwNTksMzAuMzg0NTk0OCAwLjM3MzAxNTYxOCwzMC4xNjM4MSAwLjQ3NjQ5NzEwNiwyOS45NjUxMjU2IEw0LjYzMDYyNzg1LDIxLjk4OTE5NDUgQzQuOTg5NjE3NzYsMjEuMjk5OTMzOSA1LjcwMTMxMTAxLDIxLjAwMDEwNjMgNi40NzczOTQ2NiwyMSBMMTguMjcxMTkyNCwyMSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n    logoState6.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA2PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMzAuNjUzNzgyMywxLjg1MzU4OTc1ZS0xNSBMMzAuOTQ0NDQ0NCwwIEwzMC44MjI3MzQ3LDEuODM1NzM2NGUtMTUgQzMwLjc5MjQ3NjMsMS44OTQ5ODUzOWUtMTUgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwyLjAzMjAxNjQzZS0xNSAxNy4xNzcyNjUzLDAgTDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuMyI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n    logoState7.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA3PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDciIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEwxNS40OTkxNjU5LDEuMTIxNjAxMzggQzE1Ljg0NjA3ODEsMC40NTU1Mjk5NjQgMTYuNTIyMzU1NSwwLjAyOTQ4ODMzMzUgMTcuMjY3ODExLDAuMDAxNDcyMTgxMTUgQzE4LjI2NzI3NzEsMC4wMzM5OTQyODkxIDE5LjE3NTI4MTEsMC42MDMyMDY0MiAxOS42NDAwMDEsMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IEwxOC4yNzExOTI0LDIxIFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMjguMzU5OTk5LDEuNDk1NDY4NSBDMjguODI0NzE4OSwwLjYwMzIwNjQyIDI5LjczMjcyMjksMC4wMzM5OTQyODkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjY3OTk5NSwxLjg1ODQxMzMxZS0xNSAzMC42NTM3ODIzLDEuODUzNTg5NzVlLTE1IEwzMC45NDQ0NDQ0LDAgTDMwLjgyMjczNDcsMS44MzU3MzY0ZS0xNSBDMzAuNzkyNDc2MywxLjg5NDk4NTM5ZS0xNSAzMC43NjIyOTExLDAuMDAwNDkyNjcyNjM1IDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMzMS40Nzc2NDQ1LDAuMDI5NDg4MzMzNSAzMi4xNTM5MjE5LDAuNDU1NTI5OTY0IDMyLjUwMDgzNDEsMS4xMjE2MDEzOCBMNDcuNTIzNTAyOSwyOS45NjUxMjU2IEM0Ny42MjY5ODQ0LDMwLjE2MzgxIDQ3LjY4MTAyMzksMzAuMzg0NTk0OCA0Ny42ODEwMjM5LDMwLjYwODY5NTcgQzQ3LjY4MTAyMzksMzEuMzc3MDkxOCA0Ny4wNTkxOTcyLDMyIDQ2LjI5MjEzNTEsMzIgTDM2Ljc5MDY2MjIsMzIgQzM2LjAxNDQ3NjEsMzIgMzUuMzAyNjQ3NywzMS41Njc3NTAyIDM0Ljk0MzYxMDQsMzAuODc4Mzk4NiBMMjQsOS44NjY2NjY2NyBMMjguMzU5OTk5LDEuNDk1NDY4NSBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zMC42NTM3ODIzLDEuODUzNTg5NzVlLTE1IEMzMC42Nzk5OTUsMS44NTg0MTMzMWUtMTUgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwyLjAzMjAxNjQzZS0xNSAxNy4xNzcyNjUzLDAgTDMwLjY1Mzc4MjMsMS44NTM1ODk3NWUtMTUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC41Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n    logoState8.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA4PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDgiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgQzMwLjY3OTk5NSwtMS4yMzUyNDQxNGUtMTQgMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMjguODI0NzE4OSwwLjYwMzIwNjQyIDI4LjM1OTk5OSwxLjQ5NTQ2ODUgTDI0LDkuODY2NjY2NjcgTDE5LjY0MDAwMSwxLjQ5NTQ2ODUgQzE5LjE2MTI4NDYsMC41NzYzMzMwNiAxOC4yMTIxOCwtMS4yMTc4ODM4M2UtMTQgMTcuMTc3MjY1MywtMS40MjEwODU0N2UtMTQgTDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+\";\n    logoState9.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTA5PC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMDkiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTcuMjM3NzA4OSwwLjAwMDQ5MjY3MjYzNSAxNy4yMDc1MjM3LDEuOTU5OTMzNjZlLTE0IDE3LjE3NzI2NTMsMS45NTM5OTI1MmUtMTQgTDMwLjY1Mzc4MjMsMi4xMzkzNTE1ZS0xNCBDMzAuNjc5OTk1LDIuMTM5ODMzODVlLTE0IDMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzI5LjczMjcyMjksMC4wMzM5OTQyODkxIDI4LjgyNDcxODksMC42MDMyMDY0MiAyOC4zNTk5OTksMS40OTU0Njg1IEwyNCw5Ljg2NjY2NjY3IFoiIGlkPSJzaGFwZS0yIiBmaWxsLW9wYWNpdHk9IjAuOSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTguMjcxMTkyNCwyMSBMMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEMxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTEuOTg1NTIzOSwzMiAxMS4yMDkzMzc4LDMyIEwxLjcwNzg2NDk1LDMyIEMwLjk0MDgwMjc5NiwzMiAwLjMxODk3NjA1OSwzMS4zNzcwOTE4IDAuMzE4OTc2MDU5LDMwLjYwODY5NTcgQzAuMzE4OTc2MDU5LDMwLjM4NDU5NDggMC4zNzMwMTU2MTgsMzAuMTYzODEgMC40NzY0OTcxMDYsMjkuOTY1MTI1NiBMNC42MzA2Mjc4NSwyMS45ODkxOTQ1IEM0Ljk4OTYxNzc2LDIxLjI5OTkzMzkgNS43MDEzMTEwMSwyMS4wMDAxMDYzIDYuNDc3Mzk0NjYsMjEgTDE4LjI3MTE5MjQsMjEgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBDMTEuOTg1NTIzOSwzMiAxMi42OTczNTIzLDMxLjU2Nzc1MDIgMTMuMDU2Mzg5NiwzMC44NzgzOTg2IEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC4zIj48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yOC4zNTk5OTksMS40OTU0Njg1IEMyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjkuNzMyNzIyOSwwLjAzMzk5NDI4OTEgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMwLjcwNjEzNDIsMC4wMDA0OTI5NzU2OTEgMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC42NTM3ODIzLC0xLjIzNTcyNjVlLTE0IEwzMC45NDQ0NDQ0LC0xLjQyMTA4NTQ3ZS0xNCBMMzAuODIyNzM0NywtMS4yMzc1MTE4M2UtMTQgQzMwLjc5MjQ3NjMsLTEuMjMxNTg2OTNlLTE0IDMwLjc2MjI5MTEsMC4wMDA0OTI2NzI2MzUgMzAuNzMyMTg5LDAuMDAxNDcyMTgxMTUgQzMxLjQ3NzY0NDUsMC4wMjk0ODgzMzM1IDMyLjE1MzkyMTksMC40NTU1Mjk5NjQgMzIuNTAwODM0MSwxLjEyMTYwMTM4IEw0Ny41MjM1MDI5LDI5Ljk2NTEyNTYgQzQ3LjYyNjk4NDQsMzAuMTYzODEgNDcuNjgxMDIzOSwzMC4zODQ1OTQ4IDQ3LjY4MTAyMzksMzAuNjA4Njk1NyBDNDcuNjgxMDIzOSwzMS4zNzcwOTE4IDQ3LjA1OTE5NzIsMzIgNDYuMjkyMTM1MSwzMiBMMzYuNzkwNjYyMiwzMiBDMzYuMDE0NDc2MSwzMiAzNS4zMDI2NDc3LDMxLjU2Nzc1MDIgMzQuOTQzNjEwNCwzMC44NzgzOTg2IEwyNCw5Ljg2NjY2NjY3IEwyOC4zNTk5OTksMS40OTU0Njg1IFoiIGlkPSJzaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjUiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==\";\n    logoState10.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1sb2dvLXN0YXRlLTEwPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLWxvZ28tc3RhdGUtMTAiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJsb2dvIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4wMDAwMDAsIDIxLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMTkuNjQwMDAxLDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTguMjcxMTkyNCwyMSBMNi40NzczOTQ2NiwyMSBDNS43MDEzMTEwMSwyMS4wMDAxMDYzIDQuOTg5NjE3NzYsMjEuMjk5OTMzOSA0LjYzMDYyNzg1LDIxLjk4OTE5NDUgTDE1LjQ5OTE2NTksMS4xMjE2MDEzOCBDMTUuODQ2MDc4MSwwLjQ1NTUyOTk2NCAxNi41MjIzNTU1LDAuMDI5NDg4MzMzNSAxNy4yNjc4MTEsMC4wMDE0NzIxODExNSBDMTguMjY3Mjc3MSwwLjAzMzk5NDI4OTEgMTkuMTc1MjgxMSwwLjYwMzIwNjQyIDE5LjY0MDAwMSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMTEuMjA5MzM3OCwzMiBMMS43MDc4NjQ5NSwzMiBDMC45NDA4MDI3OTYsMzIgMC4zMTg5NzYwNTksMzEuMzc3MDkxOCAwLjMxODk3NjA1OSwzMC42MDg2OTU3IEMwLjMxODk3NjA1OSwzMC4zODQ1OTQ4IDAuMzczMDE1NjE4LDMwLjE2MzgxIDAuNDc2NDk3MTA2LDI5Ljk2NTEyNTYgTDQuNjMwNjI3ODUsMjEuOTg5MTk0NSBDNC45ODk2MTc3NiwyMS4yOTk5MzM5IDUuNzAxMzExMDEsMjEuMDAwMTA2MyA2LjQ3NzM5NDY2LDIxIEwxOC4yMDEzODg5LDIxIEwxOC4yNzExOTI0LDIwLjg2NTk3NzMgTDIzLjk1NjQ1ODIsMjAuODY1MTk4MyBDMjQuNzMwOTU2MiwyMC44NjUwOTIyIDI1LjQ0MTU4NjcsMjEuMjk1Mzg0OCAyNS44MDE0ODQ2LDIxLjk4MjM3NjcgTDI5Ljk4MTkwMTUsMjkuOTYyMTc2OSBDMzAuMzM4MzQ0LDMwLjY0MjU3MzIgMzAuMDc2Njg1MiwzMS40ODM1OTk3IDI5LjM5NzQ3MDEsMzEuODQwNjYyMSBDMjkuMTk4MzgzOCwzMS45NDUzMjE1IDI4Ljk3NjkwOTMsMzIgMjguNzUyMDczOCwzMiBMMTEuMjA5MzM3OCwzMiBaIiBpZD0ic2hhcGUtMiIgZmlsbC1vcGFjaXR5PSIwLjMiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTI4LjM1OTk5OSwxLjQ5NTQ2ODUgQzI4LjgyNDcxODksMC42MDMyMDY0MiAyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzAuNzA2MTM0MiwwLjAwMDQ5Mjk3NTY5MSAzMC42Nzk5OTUsLTEuMjM1MjQ0MTRlLTE0IDMwLjY1Mzc4MjMsLTEuMjM1NzI2NWUtMTQgTDMwLjk0NDQ0NDQsLTEuNDIxMDg1NDdlLTE0IEwzMC44MjI3MzQ3LC0xLjIzNzUxMTgzZS0xNCBDMzAuNzkyNDc2MywtMS4yMzE1ODY5M2UtMTQgMzAuNzYyMjkxMSwwLjAwMDQ5MjY3MjYzNSAzMC43MzIxODksMC4wMDE0NzIxODExNSBDMzEuNDc3NjQ0NSwwLjAyOTQ4ODMzMzUgMzIuMTUzOTIxOSwwLjQ1NTUyOTk2NCAzMi41MDA4MzQxLDEuMTIxNjAxMzggTDQ3LjUyMzUwMjksMjkuOTY1MTI1NiBDNDcuNjI2OTg0NCwzMC4xNjM4MSA0Ny42ODEwMjM5LDMwLjM4NDU5NDggNDcuNjgxMDIzOSwzMC42MDg2OTU3IEM0Ny42ODEwMjM5LDMxLjM3NzA5MTggNDcuMDU5MTk3MiwzMiA0Ni4yOTIxMzUxLDMyIEwzNi43OTA2NjIyLDMyIEMzNi4wMTQ0NzYxLDMyIDM1LjMwMjY0NzcsMzEuNTY3NzUwMiAzNC45NDM2MTA0LDMwLjg3ODM5ODYgTDI0LDkuODY2NjY2NjcgTDI4LjM1OTk5OSwxLjQ5NTQ2ODUgWiIgaWQ9InNoYXBlIiBmaWxsLW9wYWNpdHk9IjAuNSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBDMzAuNjc5OTk1LC0xLjIzNTI0NDE0ZS0xNCAzMC43MDYxMzQyLDAuMDAwNDkyOTc1NjkxIDMwLjczMjE4OSwwLjAwMTQ3MjE4MTE1IEMyOS43MzI3MjI5LDAuMDMzOTk0Mjg5MSAyOC44MjQ3MTg5LDAuNjAzMjA2NDIgMjguMzU5OTk5LDEuNDk1NDY4NSBMMjQsOS44NjY2NjY2NyBMMTkuNjQwMDAxLDEuNDk1NDY4NSBDMTkuMTYxMjg0NiwwLjU3NjMzMzA2IDE4LjIxMjE4LC0xLjIxNzg4MzgzZS0xNCAxNy4xNzcyNjUzLC0xLjQyMTA4NTQ3ZS0xNCBMMzAuNjUzNzgyMywtMS4yMzU3MjY1ZS0xNCBaIiBpZD0ic2hhcGUiIGZpbGwtb3BhY2l0eT0iMC45Ij48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\";\n\n    setUpStylesForLogoParts([\n        logoState1,\n        logoState2,\n        logoState3,\n        logoState4,\n        logoState5,\n        logoState6,\n        logoState7,\n        logoState8,\n        logoState9,\n        logoState10,\n    ]);\n\n    // Define base styles for triangle bellow the microphone btn\n    micTriangleIcon.style.minHeight = '100%';\n    micTriangleIcon.style.height = '100%';\n    micTriangleIcon.style.maxHeight = '100%';\n    micTriangleIcon.style.minWidth = '100%';\n    micTriangleIcon.style.width = '100%';\n    micTriangleIcon.style.maxWidth = '100%';\n    micTriangleIcon.style.top = '0%';\n    micTriangleIcon.style.left = '0%';\n    micTriangleIcon.style.zIndex = btnIconsZIndex;\n    micTriangleIcon.style.position = 'absolute';\n    micTriangleIcon.style.opacity = 0;\n    micTriangleIcon.style.transition = 'all 0.4s ease-in-out';\n    micTriangleIcon.style.overflow = 'hidden';\n    micTriangleIcon.style.borderRadius = '50%';\n    micTriangleIcon.style.backgroundSize = '100% 100%';\n    micTriangleIcon.style.backgroundPosition = 'center center';\n    micTriangleIcon.style.backgroundRepeat = 'no-repeat';\n    micTriangleIcon.classList.add('triangleMicIconBg');\n    micTriangleIcon.classList.add('triangleMicIconBg-default');\n\n    micCircleIcon.style.minHeight = '100%';\n    micCircleIcon.style.height = '100%';\n    micCircleIcon.style.maxHeight = '100%';\n    micCircleIcon.style.minWidth = '100%';\n    micCircleIcon.style.width = '100%';\n    micCircleIcon.style.maxWidth = '100%';\n    micCircleIcon.style.top = '0%';\n    micCircleIcon.style.left = '0%';\n    micCircleIcon.style.zIndex = btnIconsZIndex;\n    micCircleIcon.style.position = 'absolute';\n    micCircleIcon.style.opacity = 0;\n    micCircleIcon.style.transition = 'all 0.4s ease-in-out';\n    micCircleIcon.style.overflow = 'hidden';\n    micCircleIcon.style.borderRadius = '50%';\n    micCircleIcon.style.backgroundSize = '0% 0%';\n    micCircleIcon.style.backgroundPosition = 'center center';\n    micCircleIcon.style.backgroundRepeat = 'no-repeat';\n    micCircleIcon.classList.add('circleMicIconBg');\n\n    // Define base styles for loader mic icon in disconnected state\n    disconnectedMicLoaderIcon.style.minHeight = '100%';\n    disconnectedMicLoaderIcon.style.height = '100%';\n    disconnectedMicLoaderIcon.style.maxHeight = '100%';\n    disconnectedMicLoaderIcon.style.top = '0%';\n    disconnectedMicLoaderIcon.style.left = '0%';\n    disconnectedMicLoaderIcon.style.zIndex = btnIconsZIndex;\n    disconnectedMicLoaderIcon.style.position = 'absolute';\n    disconnectedMicLoaderIcon.style.transition = 'all 0.4s ease-in-out';\n    disconnectedMicLoaderIcon.style.opacity = '0';\n    disconnectedMicLoaderIcon.src = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIiB2aWV3Qm94PSIwIDAgMTkyIDE5MiI+CiAgICA8ZyBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTk2IDBjNTMuMDIgMCA5NiA0Mi45OCA5NiA5NnMtNDIuOTggOTYtOTYgOTZTMCAxNDkuMDIgMCA5NiA0Mi45OCAwIDk2IDB6IiBvcGFjaXR5PSIuMDIiLz4KICAgICAgICA8cGF0aCBkPSJNMTMxLjk2NiAxOS4wOTJjLTMwLTE0LTY1LjI4NC05Ljg0OS05MS4xNDIgMTIuNTc1QzE0Ljk2NiA1NC4wOTIgNi44NSA4My44MSAxMi45MDggMTEzLjk1YzYuMDU4IDMwLjE0MiAzMC4zMDIgNTYuMTkgNjAuMDU4IDY0LjE0MiAzNS4xODMgOS40MDYgNzMtNCA5My0zNC0xNy45MjQgMjMuOTE2LTUyLjM2NiAzOC4yOTMtODMgMzMtMzAuMTY4LTUuMjEtNTcuMTA0LTMxLjExLTY0LTYxLTcuMzQ3LTMxLjgzNS43NzktNTYgMjctODBzODAtMjYgMTA5IDljNS41MzYgNi42ODEgMTMgMTkgMTUgMzQgMSA2IDEgNyAyIDEyIDAgMiAyIDQgNCA0IDMgMCA1LjM3NC0yLjI1NiA1LTYtMy0zMC0yMS41NTYtNTcuMTkzLTQ5LTcweiIgb3BhY2l0eT0iLjQiLz4KICAgIDwvZz4KPC9zdmc+Cg==\";\n    disconnectedMicLoaderIcon.style.animation = disconnectedLoaderAnimation;\n\n    // Define base styles for mic icon in low valume state\n    lowVolumeMicIcon.style.minHeight = '100%';\n    lowVolumeMicIcon.style.height = '100%';\n    lowVolumeMicIcon.style.maxHeight = '100%';\n    lowVolumeMicIcon.style.top = '0%';\n    lowVolumeMicIcon.style.left = '0%';\n    lowVolumeMicIcon.style.zIndex = btnIconsZIndex;\n    lowVolumeMicIcon.style.position = 'absolute';\n    lowVolumeMicIcon.style.transition = 'all 0.4s ease-in-out';\n    lowVolumeMicIcon.style.opacity = '0';\n    lowVolumeMicIcon.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1uby1taWM8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZyBpZD0iQWxhbi1CdXR0b24tLy1BbmltYXRpb24tLy1idXR0b24tbm8tbWljIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iaWNvbiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjIuMDAwMDAwLCAxOS4wMDAwMDApIiBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgICAgICA8cGF0aCBkPSJNMzIsMTguNDczNjg0MiBDMzIsMjUuNzE5NDczNyAyNi43OCwzMS42OTI2MzE2IDIwLDMyLjY5ODQyMTEgTDIwLDQwIEMyMCw0MS4xMDQ1Njk1IDE5LjEwNDU2OTUsNDIgMTgsNDIgQzE2Ljg5NTQzMDUsNDIgMTYsNDEuMTA0NTY5NSAxNiw0MCBMMTYsMzIuNjk4NDIxMSBDOS4yMiwzMS42OTI2MzE2IDQsMjUuNzE5NDczNyA0LDE4LjQ3MzY4NDIgTDQsMTggQzQsMTYuODk1NDMwNSA0Ljg5NTQzMDUsMTYgNiwxNiBDNy4xMDQ1Njk1LDE2IDgsMTYuODk1NDMwNSA4LDE4IEw4LDE4LjQ3MzY4NDIgQzgsMjQuMTQxODY5OCAxMi40NzcxNTI1LDI4LjczNjg0MjEgMTgsMjguNzM2ODQyMSBDMjMuNTIyODQ3NSwyOC43MzY4NDIxIDI4LDI0LjE0MTg2OTggMjgsMTguNDczNjg0MiBMMjgsMTggQzI4LDE2Ljg5NTQzMDUgMjguODk1NDMwNSwxNiAzMCwxNiBDMzEuMTA0NTY5NSwxNiAzMiwxNi44OTU0MzA1IDMyLDE4IEwzMiwxOC40NzM2ODQyIFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjgiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTE4LC00LjUyNzM3MjYzZS0xNCBDMjEuMzEzNzA4NSwtNC42MTg1Mjc3OGUtMTQgMjQsMi43NTY5ODMzOCAyNCw2LjE1Nzg5NDc0IEwyNCwxOC40NzM2ODQyIEMyNCwyMS44NzQ1OTU2IDIxLjMxMzcwODUsMjQuNjMxNTc4OSAxOCwyNC42MzE1Nzg5IEMxNC42ODYyOTE1LDI0LjYzMTU3ODkgMTIsMjEuODc0NTk1NiAxMiwxOC40NzM2ODQyIEwxMiw2LjE1Nzg5NDc0IEMxMiwyLjc1Njk4MzM4IDE0LjY4NjI5MTUsLTQuNTI3MzcyNjNlLTE0IDE4LC00LjYxODUyNzc4ZS0xNCBaIiBpZD0iU2hhcGUiIGZpbGwtb3BhY2l0eT0iMC42Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLjgxLDMuMjcgTDM0LjczLDM0LjE5IEMzNS40MzE0MDE2LDM0Ljg5MTQwMTYgMzUuNDMxNDAxNiwzNi4wMjg1OTg0IDM0LjczLDM2LjczIEMzNC4wMjg1OTg0LDM3LjQzMTQwMTYgMzIuODkxNDAxNiwzNy40MzE0MDE2IDMyLjE5LDM2LjczIEwxLjI3LDUuODEgQzAuNTY4NTk4MzY4LDUuMTA4NTk4MzcgMC41Njg1OTgzNjgsMy45NzE0MDE2MyAxLjI3LDMuMjcgQzEuOTcxNDAxNjMsMi41Njg1OTgzNyAzLjEwODU5ODM3LDIuNTY4NTk4MzcgMy44MSwzLjI3IFoiIGlkPSJQYXRoIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\\n\";\n\n    // Define base st`yles for ovals\n    var ovalCoefficient = 2;\n    var defaultBtnColorOptions = {\n        \"idle\": {\n            \"background\": {\n                \"color\": [\n                    'rgb(34, 203, 255)',\n                    'rgb(25, 149, 255)'\n                ]\n            },\n            \"hover\": {\n                \"color\": [\n                    'rgba(0, 70, 255, 0.95)',\n                    'rgba(0, 156,  255, 0.95)'\n                ]\n            }\n        },\n        \"listen\": {\n            \"background\": {\n                \"color\": [\n                    'rgba(0, 70, 255, 0.95)',\n                    'rgba(0, 156,  255, 0.95)'\n                ]\n            },\n            \"hover\": {\n                \"color\": ['rgba(0, 70, 255, 0.95)',\n                    'rgb(0, 70, 255)']\n            },\n        },\n        \"process\": {\n            \"background\": {\n                \"color\": [\n                    'rgba(0, 255, 205, 0.95)',\n                    'rgba(0, 115, 255, 0.95)'\n                ]\n\n            },\n            \"hover\": {\n                \"color\": [\n                    'rgb(0, 115, 255)',\n                    'rgba(0, 115, 255, 0.95)'\n                ]\n            }\n        },\n\n        \"reply\": {\n            \"background\": {\n                \"color\": [\n                    'rgba(122, 40, 255, 0.95)',\n                    'rgba(61, 122, 255, 0.95)'\n                ]\n            },\n            \"hover\": {\n                \"color\": [\n                    'rgba(122, 40, 255, 0.95)',\n                    'rgb(122, 40, 255)'\n                ]\n            },\n        }\n    };\n    btnOval1.style.minHeight = btnSize / ovalCoefficient + 'px';\n    btnOval1.style.height = btnSize / ovalCoefficient + 'px';\n    btnOval1.style.maxHeight = btnSize / ovalCoefficient + 'px';\n    btnOval1.style.minWidth = btnSize + 'px';\n    btnOval1.style.width = btnSize + 'px';\n    btnOval1.style.maxWidth = btnSize + 'px';\n    btnOval1.style.top = 'calc(100%/2 - ' + btnSize / ovalCoefficient / 2 + 'px)';\n    btnOval1.style.left = 0;\n    btnOval1.style.zIndex = btnBgLayerZIndex;\n    btnOval1.style.position = 'absolute';\n    btnOval1.style.transition = 'all 0.4s ease-in-out';\n    btnOval1.style.opacity = '.5';\n    btnOval1.style.borderRadius = '100px';\n    btnOval1.style.transform = 'rotate(-315deg)';\n    btnOval1.style.filter = 'blur(' + btnSize / 10 + 'px)';\n    btnOval1.style.animation = oval1Animation;\n    btnOval1.style.animationPlayState = 'paused';\n    btnOval1.classList.add('alanBtn-oval-bg-default');\n\n\n    btnOval2.style.minHeight = btnSize / ovalCoefficient + 'px';\n    btnOval2.style.height = btnSize / ovalCoefficient + 'px';\n    btnOval2.style.maxHeight = btnSize / ovalCoefficient + 'px';\n    btnOval2.style.minWidth = btnSize + 'px';\n    btnOval2.style.width = btnSize + 'px';\n    btnOval2.style.maxWidth = btnSize + 'px';\n    btnOval2.style.top = 'calc(100%/2 - ' + btnSize / ovalCoefficient / 2 + 'px)';\n    btnOval2.style.left = 0;\n    btnOval2.style.zIndex = btnBgLayerZIndex;\n    btnOval2.style.position = 'absolute';\n    btnOval2.style.transition = 'all 0.4s ease-in-out';\n    btnOval2.style.opacity = '.5';\n    btnOval2.style.borderRadius = '100px';\n    btnOval2.style.transform = 'rotate(-45deg)';\n    btnOval2.style.filter = 'blur(' + btnSize / 10 + 'px)';\n    btnOval2.style.animation = oval2Animation;\n    btnOval2.style.animationPlayState = 'paused';\n    btnOval2.classList.add('alanBtn-oval-bg-default');\n\n    // Define base styles for mic icon in offline state\n    offlineIcon.style.minHeight = '100%';\n    offlineIcon.style.height = '100%';\n    offlineIcon.style.maxHeight = '100%';\n    offlineIcon.style.top = '0%';\n    offlineIcon.style.left = '0%';\n    offlineIcon.style.zIndex = btnIconsZIndex;\n    offlineIcon.style.position = 'absolute';\n    offlineIcon.style.transition = 'all 0.4s ease-in-out';\n    offlineIcon.style.opacity = '0';\n    offlineIcon.src = \"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iODBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgODAgODAiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDUyLjEgKDY3MDQ4KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5BbGFuIEJ1dHRvbiAvIEFuaW1hdGlvbiAvIGJ1dHRvbi1uby1uZXR3b3JrPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9IkFsYW4tQnV0dG9uLS8tQW5pbWF0aW9uLS8tYnV0dG9uLW5vLW5ldHdvcmsiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJpY29uIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyMS4wMDAwMDAsIDIyLjAwMDAwMCkiIGZpbGw9IiNGRkZGRkYiPgogICAgICAgICAgICA8cGF0aCBkPSJNMzMsMiBDMzQuNjU2ODU0MiwyIDM2LDMuMzQzMTQ1NzUgMzYsNSBMMzYsMjkgQzM2LDMwLjY1Njg1NDIgMzQuNjU2ODU0MiwzMiAzMywzMiBDMzEuMzQzMTQ1OCwzMiAzMCwzMC42NTY4NTQyIDMwLDI5IEwzMCw1IEMzMCwzLjM0MzE0NTc1IDMxLjM0MzE0NTgsMiAzMywyIFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjQiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTIzLDggQzI0LjY1Njg1NDIsOCAyNiw5LjM0MzE0NTc1IDI2LDExIEwyNiwyOSBDMjYsMzAuNjU2ODU0MiAyNC42NTY4NTQyLDMyIDIzLDMyIEMyMS4zNDMxNDU4LDMyIDIwLDMwLjY1Njg1NDIgMjAsMjkgTDIwLDExIEMyMCw5LjM0MzE0NTc1IDIxLjM0MzE0NTgsOCAyMyw4IFoiIGlkPSJTaGFwZSIgZmlsbC1vcGFjaXR5PSIwLjYiPjwvcGF0aD4KICAgICAgICAgICAgPHBhdGggZD0iTTEzLDE2IEMxNC42NTY4NTQyLDE2IDE2LDE3LjM0MzE0NTggMTYsMTkgTDE2LDI5IEMxNiwzMC42NTY4NTQyIDE0LjY1Njg1NDIsMzIgMTMsMzIgQzExLjM0MzE0NTgsMzIgMTAsMzAuNjU2ODU0MiAxMCwyOSBMMTAsMTkgQzEwLDE3LjM0MzE0NTggMTEuMzQzMTQ1OCwxNiAxMywxNiBaIiBpZD0iU2hhcGUiIGZpbGwtb3BhY2l0eT0iMC44Ij48L3BhdGg+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0zLDIyIEM0LjY1Njg1NDI1LDIyIDYsMjMuMzQzMTQ1OCA2LDI1IEw2LDI5IEM2LDMwLjY1Njg1NDIgNC42NTY4NTQyNSwzMiAzLDMyIEMxLjM0MzE0NTc1LDMyIDIuMDI5MDYxMjVlLTE2LDMwLjY1Njg1NDIgMCwyOSBMMCwyNSBDLTIuMDI5MDYxMjVlLTE2LDIzLjM0MzE0NTggMS4zNDMxNDU3NSwyMiAzLDIyIFoiIGlkPSJTaGFwZSI+PC9wYXRoPgogICAgICAgICAgICA8cGF0aCBkPSJNNS44MSwxLjI3IEwzNi43MywzMi4xOSBDMzcuNDMxNDAxNiwzMi44OTE0MDE2IDM3LjQzMTQwMTYsMzQuMDI4NTk4NCAzNi43MywzNC43MyBDMzYuMDI4NTk4NCwzNS40MzE0MDE2IDM0Ljg5MTQwMTYsMzUuNDMxNDAxNiAzNC4xOSwzNC43MyBMMy4yNywzLjgxIEMyLjU2ODU5ODM3LDMuMTA4NTk4MzcgMi41Njg1OTgzNywxLjk3MTQwMTYzIDMuMjcsMS4yNyBDMy45NzE0MDE2MywwLjU2ODU5ODM2OCA1LjEwODU5ODM3LDAuNTY4NTk4MzY4IDUuODEsMS4yNyBaIiBpZD0iUGF0aCIgZmlsbC1ydWxlPSJub256ZXJvIj48L3BhdGg+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=\\n\";\n\n    btnBgDefault.classList.add('alanBtn-bg-default');\n    btnBgListening.classList.add('alanBtn-bg-listening');\n    btnBgSpeaking.classList.add('alanBtn-bg-speaking');\n    btnBgIntermediate.classList.add('alanBtn-bg-intermediate');\n    btnBgUnderstood.classList.add('alanBtn-bg-understood');\n\n    applyBgStyles(btnBgDefault);\n    applyBgStyles(btnBgListening);\n    applyBgStyles(btnBgSpeaking);\n    applyBgStyles(btnBgIntermediate);\n    applyBgStyles(btnBgUnderstood);\n\n    var onOpacity = 1;\n    var offOpacity = 0;\n\n\n    btnBgDefault.style.opacity = onOpacity;\n\n    var allIcons = [\n        micCircleIcon,\n        micTriangleIcon,\n        micIcon,\n        offlineIcon,\n        lowVolumeMicIcon,\n        logoState1,\n        logoState2,\n        logoState3,\n        logoState4,\n        logoState5,\n        logoState6,\n        logoState7,\n        logoState8,\n        logoState9,\n        logoState10,\n    ];\n\n    for (var i = 0; i < allIcons.length; i++) {\n        allIcons[i].setAttribute('draggable', 'false');\n    }\n\n    hideLayers([\n        btnBgListening,\n        btnBgSpeaking,\n        btnBgIntermediate,\n        btnBgUnderstood,\n    ]);\n\n    btn.appendChild(btnOval1);\n    btn.appendChild(btnOval2);\n    btn.appendChild(btnBgDefault);\n    btn.appendChild(btnBgListening);\n    btn.appendChild(btnBgSpeaking);\n    btn.appendChild(btnBgIntermediate);\n    btn.appendChild(btnBgUnderstood);\n    btn.appendChild(micIcon);\n    btn.appendChild(micTriangleIcon);\n    btn.appendChild(micCircleIcon);\n    btn.appendChild(disconnectedMicLoaderIcon);\n    btn.appendChild(lowVolumeMicIcon);\n    btn.appendChild(offlineIcon);\n    btn.classList.add(\"alanBtn\");\n\n    //#endregion\n\n    //#region Add needed styles to the page\n    createAlanStyleSheet();\n\n    function getStyleSheetMarker(andFlag) {\n        return '.alan-' + getProjectId() + (andFlag ? '' : ' ');\n    }\n\n    function createAlanStyleSheet(btnOptions) {\n        var style;\n        var keyFrames = '';\n        var projectId = getProjectId();\n\n        var existingStyleSheet;\n\n        if (options.shadowDOM) {\n            existingStyleSheet = options.shadowDOM.getElementById('alan-stylesheet-' + projectId);\n        } else {\n            existingStyleSheet = document.getElementById('alan-stylesheet-' + projectId);\n        }\n\n        if (existingStyleSheet) {\n            existingStyleSheet.disabled = true;\n            existingStyleSheet.parentNode.removeChild(existingStyleSheet);\n        }\n\n        style = document.createElement('style');\n        style.setAttribute('id', 'alan-stylesheet-' + projectId);\n        style.type = 'text/css';\n\n        keyFrames += '.alanBtn-root * {  box-sizing: border-box; font-family: \\'Lato\\', sans-serif; }';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn{transform: scale(1);transition:all 0.4s ease-in-out;}.alanBtn:hover{transform: scale(1.11111);transition:all 0.4s ease-in-out;}.alanBtn:focus {transform: scale(1);transition:all 0.4s ease-in-out;  border: solid 3px #50e3c2;  outline: none;  }';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder {overflow:hidden;font-family: \\'Lato\\', sans-serif; font-size: 20px;line-height: 1.2;   max-width: 0px;  min-height: 40px;  color: #000; position: absolute; text-align: center; font-weight: normal; background-color: rgba(245, 252, 252, 0.8);border-radius:32px 0 0 32px; display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack: activate;-ms-flex-pack: start;justify-content: start; background-image: url(' + panelOvalImg + ');background-position: -190px -70px; }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder-text-wrapper {padding: 12px 8px; text-align: right; width: 100%;min-width:440px;font-size: 20px!important;line-height: 1.2!important;  animation: alan-text-fade-in .4s ease-in-out forwards;}';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder {position:relative;font-style: italic; overflow:hidden;font-family: \\'Lato\\', sans-serif;   width: 0px;  min-width: 0px;  max-width: 0px;  min-height: 40px;  color: #000; position: absolute; font-weight: normal;  background-color: rgba(245, 252, 252, 0.8); display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack: center;-ms-flex-pack: center;justify-content: center;border-radius:32px 0 0 32px;  background-image: url(' + panelOvalImg + ');background-position: -190px -70px; }';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-close {position: absolute;top: 1px;right: ' + (hintCloserRightPos - 10) + 'px;color: #0079e8;font-size: 13px;font-style: normal;font-weight: 500;line-height: 1.54;opacity: 0;transition: opacity 300ms ease-in-out;}';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-close:hover {color: #ff8800;cursor:pointer;}';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-close:active {color: #ff6426;}';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder:hover .alanBtn-hint-holder-close {opacity: 1;transition: opacity 300ms ease-in-out;}';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-wrapper {width: 100%;height:100%;min-width:440px; display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-ms-flex-align:center;align-items:center;justify-content: start;text-align:left;}';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-wrapper .alanBtn-hint-list {padding-top:2px;font-size: 18px;line-height: 1.22; margin-top:0px;font-style:italic;margin-bottom:0px;display:inline-block;vertical-align:middle;width:220px;max-width:220px;min-width:220px;text-align:left;animation: alan-text-fade-in .4s ease-in-out forwards; }';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-wrapper .alanBtn-hint-list.hints-long {font-size: 16px;line-height: 1.38;}';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-wrapper .alanBtn-hint-list.hints-super-long {font-size: 14px;line-height: 1.36;}';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-holder-wrapper .alanBtn-hint-list div {margin-bottom:6px; }';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-header {white-space:nowrap;font-size: 14px;font-weight: 400;font-style: italic;font-stretch: normal;line-height: 1.36;letter-spacing: normal;color: rgba(0, 0, 0, 0.6);display:inline-block;vertical-align:middle;padding-right:12px;padding-left:12px;min-width:112px;text-align:center;animation: alan-text-fade-in .4s ease-in-out forwards;}';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder-long .alanBtn-text-holder-text-wrapper { font-size: 19px!important;line-height: 1.4!important;}  ';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-holder-super-long .alanBtn-text-holder-text-wrapper { font-size: 14px!important;line-height: 1.4!important;}  ';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-appearing {  animation: text-holder-appear 800ms ease-in-out forwards;  }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-text-disappearing {  animation: text-holder-disappear 800ms ease-in-out forwards;    }';\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-appearing {  animation: hint-holder-appear 800ms ease-in-out forwards;    }';\n        keyFrames += getStyleSheetMarker() + '.alanBtn-hint-disappearing {  animation: hint-holder-disappear 800ms ease-in-out forwards;    }';\n\n        keyFrames += getStyleSheetMarker() + '.alan-btn-disabled {  pointer-events: none;  opacity: .5;  transition: all .2s ease-in-out;  }';\n        keyFrames += getStyleSheetMarker() + '.shadow-appear {  opacity: 1 !important;  }\\n';\n        keyFrames += getStyleSheetMarker() + '.shadow-disappear {  opacity: 0 !important;  transition: all .1s linear !important;  }';\n\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-offline .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n\n        keyFrames += getStyleSheetMarker(true) + '.alan-btn-permission-denied .alanBtn .alanBtn-bg-default {  background-image: linear-gradient(122deg,rgb(78,98,126),rgb(91,116,145));}';\n\n        keyFrames += getStyleSheetMarker() + '.alan-btn-low-volume canvas {  opacity: .0 !important;  }';\n\n        keyFrames += getStyleSheetMarker() + \".alan-btn-disabled-msg:after {content: '';  position: absolute;  bottom: 2px;  right: 0px;  height: 30px;  width: 90px;  background-size: 100% auto;  background-repeat: no-repeat;  background-position: center center;}\";\n\n\n        keyFrames += getStyleSheetMarker() + '.triangleMicIconBg {background-image:url(' + micTriangleIconImg + ');}';\n        keyFrames += getStyleSheetMarker() + '.circleMicIconBg {background-image:url(' + micCircleIconImg + ');}';\n        keyFrames += getStyleSheetMarker() + ':hover .triangleMicIconBg-default {opacity:0!important;}';\n\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-gradient', '0%{backgroundPosition: 0 0;}50%{backgroundPosition: -100% 0;}100%{backgroundPosition: 0 0;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-pulsating', '0%{transform: scale(1.11111);}50%{transform: scale(1.0);}100%{transform: scale(1.11111);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-mic-pulsating', '0%{transform: scale(0.91);}50%{transform: scale(1.0);}100%{transform: scale(0.91);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-triangle-mic-pulsating', '0%{transform: scale(0.94);}50%{transform: scale(1.0);}100%{transform: scale(0.94);}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-fade-in', '0%{opacity: 0;}100%{opacity:1;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-fade-out', '0%{opacity: 1;}100%{opacity:0;}');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('text-holder-appear',\n            '0%{' +\n            'color:transparent; ' +\n            'background-image: none;' +\n            ' background-color:rgba(245, 252, 252, 0.0);' +\n            'border: solid 1px transparent; ' +\n            'max-width: 0px;' +\n            'min-width: 0px;' +\n            'width: 0px;' +\n            'right: ' + (btnSize / 2 + rightBtnPos) + 'px;' +\n            '}' +\n            '100%{' +\n            'color:#000;' +\n            'background-color:rgba(245, 252, 252, 0.8);' +\n            'background-image: url(' + panelOvalImg + ');' +\n            ' max-width: ' + textHolderWidth + 'px;' +\n            'width:' + textHolderWidth + 'px;' +\n            'min-width:' + textHolderWidth + 'px;' +\n            'right: ' + rightBtnPos + 'px;' +\n            '}');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('text-holder-disappear',\n            '0%{' +\n            'color:#000;' +\n            'background-image: url(' + panelOvalImg + ');' +\n            'background-color:rgba(245, 252, 252, 0.8);  ' +\n            'max-width: ' + textHolderWidth + 'px;' +\n            'right: ' + rightBtnPos + 'px;' +\n            '}' +\n            '100%{' +\n            'color:transparent;' +\n            'background-color:rgba(245, 252, 252, 0.0);' +\n            'max-width: 0px;' +\n            'border: solid 1px transparent;' +\n            'background-image:none;' +\n            'right: ' + (btnSize / 2 + rightBtnPos) + 'px;' +\n            '}');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('hint-holder-appear', '0%{ width: 0px;min-width: 0px;max-width: 0px;border: solid 1px transparent;}100%{border: solid 1px #d5e2ed;width: ' + hintHolderWidth + 'px;min-width: ' + hintHolderWidth + 'px;max-width: ' + hintHolderWidth + 'px;}');\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('hint-holder-disappear', '0%{border: solid 1px #d5e2ed; width: ' + hintHolderWidth + 'px;min-width: ' + hintHolderWidth + 'px;max-width: ' + hintHolderWidth + 'px;}100%{width: 0px;min-width: 0px;max-width: 0px;border: solid 1px transparent;}');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-1-animation',\n            '0% {  opacity: 1;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 1;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-2-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 1;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-3-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 1;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-4-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 1;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-5-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 1;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-6-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 1;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-7-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 1;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-8-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 1;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-9-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 1;  } ' +\n            '90% {  opacity: 0;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('logo-state-10-animation',\n            '0% {  opacity: 0;  } ' +\n            '10% {  opacity: 0;  } ' +\n            '20% {  opacity: 0;  } ' +\n            '30% {  opacity: 0;  } ' +\n            '40% {  opacity: 0;  } ' +\n            '50% {  opacity: 0;  } ' +\n            '60% {  opacity: 0;  } ' +\n            '70% {  opacity: 0;  } ' +\n            '80% {  opacity: 0;  } ' +\n            '90% {  opacity: 1;  } ' +\n            '100% {  opacity: 0;  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('disconnected-loader-animation', '0%{  transform: rotate(0deg);  } 100%{  transform: rotate(360deg);  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('oval1-animation', '0%{  transform: rotate(-315deg);  } 50%{  transform: rotate(-495deg);  } 100%{  transform: rotate(-315deg);  }');\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('oval2-animation', '0%{  transform: rotate(-45deg);  } 50%{  transform: rotate(-215deg);  } 100%{  transform: rotate(-45deg);  }');\n\n\n        keyFrames += getStyleSheetMarker() + generateKeyFrame('alan-text-fade-in', '0%{  opacity: 0;  } 100%{   opacity: 1;  }');\n\n        keyFrames += getStyleSheetMarker() + '.alanBtn-bg-default.super-hidden{opacity:0!important;display:none;}';\n\n        var predefinedBtnColorOptions = defaultBtnColorOptions;\n\n        if (btnOptions) {\n            if (btnOptions.btnLayerOptions) { //old settings\n                predefinedBtnColorOptions = defaultBtnColorOptions;\n            } else {\n                predefinedBtnColorOptions = btnOptions || defaultBtnColorOptions;\n            }\n        }\n\n        var btnBackgroundOptionKeys = Object.keys(predefinedBtnColorOptions);\n        var tempLayer;\n        var stateName;\n        var stateMapping = {\n            idle: ['default'],\n            listen: ['listening'],\n            process: ['intermediate', 'understood'],\n            reply: ['speaking'],\n        };\n        var stateNameClasses,stateNameClass;\n        var states = Object.keys(stateMapping);\n        for (i = 0; i < states.length; i++) {\n            stateName = states[i];\n            stateNameClasses = stateMapping[stateName];\n            tempLayer = predefinedBtnColorOptions[stateName];\n            for(var j = 0; j < stateNameClasses.length; j++){\n                stateNameClass = stateNameClasses[j];\n            if(tempLayer.background){\n                keyFrames += getStyleSheetMarker() + '.alanBtn-bg-' + stateNameClass + ' {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.background.color[0]+','+tempLayer.background.color[1]+');';\n                keyFrames += '}';\n                keyFrames += getStyleSheetMarker() + '.alanBtn-oval-bg-' + stateNameClass + ' {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.background.color[0]+','+tempLayer.background.color[1]+');';\n                keyFrames += '}';\n            }\n\n            if(tempLayer.hover){\n                keyFrames += getStyleSheetMarker() + '.alanBtn:hover .alanBtn-bg-' + stateNameClass + ':not(.super-hidden) {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.hover.color[0]+','+tempLayer.hover.color[1]+');';\n                keyFrames += '}';\n                keyFrames += getStyleSheetMarker() + '.alanBtn:active .alanBtn-bg-' + stateNameClass + ':not(.super-hidden) {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.hover.color[0]+','+tempLayer.hover.color[1]+');';\n                keyFrames += '}';\n\n                keyFrames += getStyleSheetMarker() + '.alanBtn:hover .alanBtn-oval-bg-' + stateNameClass + ':not(.super-hidden) {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.hover.color[0]+','+tempLayer.hover.color[1]+');';\n                keyFrames += '}';\n                keyFrames += getStyleSheetMarker() + '.alanBtn:active .alanBtn-oval-bg-' + stateNameClass + ':not(.super-hidden) {';\n                keyFrames += 'background-image: linear-gradient(122deg,'+tempLayer.hover.color[0]+','+tempLayer.hover.color[1]+');';\n                keyFrames += '}';\n            }\n        }\n\n            \n        }\n\n        style.innerHTML = keyFrames;\n\n        if (options.shadowDOM) {\n            options.shadowDOM.prepend(style);\n        } else {\n            document.getElementsByTagName('head')[0].appendChild(style);\n        }\n    }\n\n    function generateKeyFrame(name, rule) {\n        var prefixes = ['@-webkit-keyframes', '@keyframes'];\n        var r = '';\n        for (var i = 0; i < prefixes.length; i++) {\n            r += prefixes[i] + ' ' + name + '{' + rule + '} ';\n        }\n        return r;\n    }\n\n    //#endregion\n\n    //region Connect to the project and add listeners\n    if (options) {\n        if (options.alanAudio) {\n            alanAudio = options.alanAudio;\n        }\n        if (options.key) {\n            tryReadSettingsFromLocalStorage();\n            switchState(DISCONNECTED);\n\n            window.tutorProject = alan.project(options.key, getAuthData(options.authData), options.host);\n            window.tutorProject.on('connectStatus', onConnectStatusChange);\n            window.tutorProject.on('options', onOptionsReceived);\n\n            // console.info('BTN: tutorProject', options.key);\n        } else {\n            switchState(DEFAULT);\n        }\n    }\n\n    function guid() {\n        function s4() {\n            return Math.floor((1 + Math.random()) * 0x10000)\n                       .toString(16)\n                       .substring(1);\n        }\n    \n        return s4() + s4() + '-' + s4() + '-' + s4() + '-' +\n            s4() + '-' + s4() + s4() + s4();\n    }\n\n    function getAuthData(data) {\n        var authData = data || {};\n        var curUuid, uuidKey;\n\n        if (isLocalStorageAvailable && authData) {\n            uuidKey = 'alan-btn-uuid-' + getProjectId();\n            curUuid = localStorage.getItem(uuidKey);\n            if (curUuid) {\n                authData.uuid = curUuid;\n            } else {\n                authData.uuid = guid();\n                localStorage.setItem(uuidKey, authData.uuid);\n            }\n        } else {\n            authData.uuid = guid();\n        }\n\n        return authData;\n    }\n\n    function getProjectId() {\n        var key;\n        if (options.key) {\n            key = options.key;\n            return key.substr(0, key.indexOf('/'));\n        }\n\n        return mode;\n    }\n\n    function debounce(func, wait) {\n        var timeout;\n        var delay = wait || 100;\n        return function (args) {\n            clearTimeout(timeout);\n            timeout = setTimeout(function () {\n                func.apply(this, args);\n            }, delay);\n        };\n    }\n\n    function _activateAlanButton(resolve) {\n        playSoundOn();\n        if (options.onBeforeMicStart) {\n            options.onBeforeMicStart();\n        }\n        alanAudio.on('micStart', onMicStart);\n        alanAudio.on('micStop', onMicStop);\n        alanAudio.on('micFail', onMicFail);\n        alanAudio.on('playStart', onPlayStart);\n        alanAudio.on('playStop', onPlayStop);\n        alanAudio.on('command', onCommandCbInMicBtn);\n        alanAudio.start(resolve);\n        if (options.onMicStarted) {\n            options.onMicStarted();\n        }\n    }\n\n    function activateAlanButton() {\n        var activatePromise = new Promise(function (resolve, reject) {\n            \n            if (btnDisabled) {\n                reject({err: BTN_IS_DISABLED_CODE});\n                return;\n            }\n\n            if (isPreviewMode()) {\n                reject({err: PREVIEW_MODE_CODE});\n                return;\n            }\n\n            function waitForConnectionForActivateCall(res) {\n                if (res === 'authorized') {\n                    window.tutorProject.off('connectStatus', waitForConnectionForActivateCall);\n                    _activateAlanButton(resolve);\n                }\n            }\n\n            if (alanAudio) {\n                switch (state) {\n                    case DEFAULT:\n                        try {\n                            _activateAlanButton(resolve);\n                        } catch (e) {\n                            alert(NO_VOICE_SUPPORT_IN_BROWSER_MSG);\n                            reject({ err: NO_VOICE_SUPPORT_IN_BROWSER_CODE });\n                        }\n                        break;\n                    case DISCONNECTED:\n                    case OFFLINE:\n                        window.tutorProject.on('connectStatus', waitForConnectionForActivateCall);\n                        break;\n                    case PERMISSION_DENIED:\n                        reject({ err: MIC_BLOCKED_CODE });\n                        break;\n\n                    case LISTENING:\n                    case SPEAKING:\n                    case INTERMEDIATE:\n                    case UNDERSTOOD:\n                        resolve();\n                        break;\n                    default:\n                }\n            } else {\n                reject({ err: NO_ALAN_AUDIO_INSANCE_WAS_PROVIDED_CODE });\n            }\n        });\n\n        return activatePromise;\n    }\n\n    btn.addEventListener('click', function (e) {\n        if (alanAudio) {\n            if (state === 'default') {\n                activateAlanButton();\n            } else {\n                alanAudio.stop();\n            }\n        } else {\n            throw 'No alan audio instance was provided';\n        }\n        //remove focus state from the btn after click\n        this.blur();\n    });\n\n    btn.addEventListener(\"mouseenter\", onBtnMouseEnter);\n    btn.addEventListener(\"mouseleave\", onBtnMouseLeave);\n\n    function onBtnMouseEnter() {\n        if (state === DEFAULT) {\n            hoverShowHintTimeoutId = setTimeout(function () {\n                showHints();\n            }, 500);\n        } else if(state === PERMISSION_DENIED){\n            showInfo(MIC_BLOCKED_MSG);\n        }\n    }\n\n    function onBtnMouseLeave() {\n        if (state === DEFAULT) {\n            clearTimeout(hoverShowHintTimeoutId);\n            hoverHideHintTimeoutId = setTimeout(function () {\n                hideHints();\n            }, 600);\n        } else if(state === PERMISSION_DENIED){\n            hideInfo();\n        }\n    }\n\n    function showRecognisedText(e, text) {\n        // console.info('showRecognisedText');\n        var recognisedText = '';\n\n        if (isMobile()) {\n            return;\n        }\n\n        if (hideS2TPanel) {\n            return;\n        }\n\n        recognisedTextVisible = true;\n        if (!options.hideRecognizedText) {\n            if (textHolder.classList.value.indexOf('alanBtn-text-appearing') === -1) {\n                textHolder.classList.add('alanBtn-text-appearing');\n                textHolder.classList.remove('alanBtn-text-disappearing');\n            }\n\n            if (text) {\n                recognisedText = text;\n                textHolderTextWrapper.innerHTML = text;\n            } else {\n                recognisedText = e.text;\n                if (recognisedText.length > 200) {\n                    recognisedText = recognisedText.substr(0, 200);\n                }\n                textHolderTextWrapper.innerHTML = recognisedText;\n            }\n\n            if (recognisedText.length > 60 && recognisedText.length <= 80) {\n                textHolder.classList.add('alanBtn-text-holder-long');\n            } else if (recognisedText.length > 80) {\n                textHolder.classList.add('alanBtn-text-holder-super-long');\n            } else {\n                textHolder.classList.remove('alanBtn-text-holder-long');\n                textHolder.classList.remove('alanBtn-text-holder-super-long');\n            }\n            if (text) {\n                textHolder.appendChild(textHolderTextWrapper);\n                isHintWasPreviously = true;\n            } else {\n                if (isHintWasPreviously) {\n                    isHintWasPreviously = false;\n                    textHolder.appendChild(textHolderTextWrapper);\n                } else {\n                    replaceRecognisedText(recognisedText);\n                }\n            }\n        }\n    }\n\n    function replaceRecognisedText(recognisedText) {\n        if (isMobile()) {\n            return;\n        }\n        if (!options.hideRecognizedText) {\n            textHolderTextWrapper.innerText = recognisedText;\n        }\n    }\n\n    function hideRecognisedText(delay) {\n        // console.info('hideRecognisedText');\n\n        if (isMobile()) {\n            return;\n        }\n\n        if (!options.hideRecognizedText && recognisedTextVisible) {\n            textHolder.classList.add('alanBtn-text-disappearing');\n            textHolder.classList.remove('alanBtn-text-appearing');\n\n            recognisedTextVisible = false;\n\n            setTimeout(function () {\n                textHolderTextWrapper.innerHTML = '';\n                textHolder.classList.remove('alanBtn-text-holder-long');\n                textHolder.classList.remove('alanBtn-text-holder-super-long');\n            }, delay || 810);\n        }\n    }\n\n    function showHints() {\n        var hintId;\n\n        if (isMobile()) {\n            return;\n        }\n\n        if (hints.length === 0 || doNotShowHints) {\n            return;\n        }\n\n        clearTimeout(removeTextHintTimeoutId);\n        clearTimeout(hoverHideHintTimeoutId);\n\n        clearInterval(insideHintsAnimationIntervalId);\n        clearInterval(hintsRequestIntervalId);\n\n        insideHintsAnimationIntervalId = setInterval(function () {\n            var hintList = document.getElementById('hintList');\n            if (hintList) {\n                hintList.outerHTML = getHintList();\n            }\n        }, 6000);\n\n        hintsRequestIntervalId = setInterval(function () {\n            requestHints();\n        }, 4000);\n\n        // console.info('showHints');\n\n        hintId = document.getElementById('hint-id');\n\n        if (hintId && hintId.className.indexOf(DEFAULT) > -1) {\n            hintId.outerHTML = getHintHeader(listeningHintLabel);\n        } else {\n            showRecognisedText(null, getHintsHtml());\n        }\n    }\n\n    function hideHints() {\n        if (isMobile()) {\n            return;\n        }\n\n        if (hints.length === 0) {\n            return;\n        }\n\n        hideRecognisedText();\n    }\n\n    function showInfo(text) {\n        showRecognisedText(null, text);\n    }\n\n    function hideInfo() {\n        hideRecognisedText(200);\n    }\n\n    function closeHint(event) {\n        var clickedEl = event.target;\n\n        if (clickedEl.classList.value.indexOf('alanBtn-hint-holder-close') > -1) {\n            doNotShowHints = true;\n            hideHints();\n        }\n    }\n\n    function shuffle(array) {\n        var currentIndex = array.length,\n            temporaryValue, randomIndex;\n\n        while (0 !== currentIndex) {\n\n            randomIndex = Math.floor(Math.random() * currentIndex);\n            currentIndex -= 1;\n\n            temporaryValue = array[currentIndex];\n            array[currentIndex] = array[randomIndex];\n            array[randomIndex] = temporaryValue;\n        }\n\n        return array;\n    }\n\n    function getHintHeader(label) {\n        return '<div id=\"hint-id\" class=\"alanBtn-hint-header ' + state + '\">' + label + '</div>';\n    }\n\n    function getHintList() {\n        var hintsHtml = '';\n        var hintItems = '';\n        var hintsLength = 0;\n        var shuffledHints = shuffle(hints);\n        var hintsClass = 'alanBtn-hint-list';\n\n        for (var i = 0; i < 2; i++) {\n            if (shuffledHints[i]) {\n                hintsLength += hints[i].length;\n                hintItems += '<div>' + hints[i] + '</div>';\n            }\n        }\n\n        if (hintsLength > 70 && hintsLength <= 100) {\n            hintsClass += ' hints-long';\n        }\n        if (hintsLength > 100) {\n            hintsClass += ' hints-super-long';\n        }\n\n        hintsHtml = '<div id=\"hintList\" class=\"' + hintsClass + '\">';\n        hintsHtml += hintItems;\n        hintsHtml += '</div>';\n        return hintsHtml;\n    }\n\n    function getHintsHtml() {\n        var hintsHtml = '';\n        var shuffledHints = [];\n        var hintClass = '';\n        var label;\n\n        if (state === DEFAULT) {\n            label = defaultHintLabel;\n        } else {\n            label = listeningHintLabel;\n        }\n\n        hintsHtml += '<div class=\"alanBtn-hint-holder-wrapper\">';\n        hintsHtml += getHintHeader(label);\n        hintsHtml += getHintList();\n        hintsHtml += '</div>';\n\n        return hintsHtml;\n    }\n\n    function onOptionsReceived(data) {\n        if (data && data.web && data.web.hidden === true) {\n            hideAlanBtn();\n        } else {\n            showAlanBtn();\n        }\n\n        if (data && data.web && data.web.hideS2TPanel === true) {\n            hideSpeach2TextPanel();\n        } else {\n            showSpeach2TextPanel();\n        }\n\n        if (data && data.web && data.web.timeout ) {\n            turnOffTimeout = data.web.timeout;\n            setTurnOffVoiceTimeout();\n        }\n\n        if (data && data.web && data.web.btnOptions) {\n            console.info('OPTIONS',data.web.btnOptions);\n            applyBtnOptions(data.web.btnOptions);\n        }\n\n        if (isLocalStorageAvailable && data) {\n            localStorage.setItem(getStorageKey(), JSON.stringify(data));\n        }\n    }\n\n    function onConnectStatusChange(res) {\n        // console.info('BTN: connectStatus', res);\n\n        if (options.onConnectionStatus) {\n            options.onConnectionStatus(res);\n        }\n\n        if (res === 'disconnected') {\n            switchState(DISCONNECTED);\n        } else if (res === 'authorized') {\n            if (previousState) {\n                switchState(previousState);\n            } else {\n                switchState(DEFAULT);\n            }\n            requestHints();\n        }\n    }\n\n    function requestHints() {\n        window.tutorProject.call('visualHints', {}, function (err, res) {\n            if (res) {\n                setUpHints(res);\n            }\n        });\n    }\n\n    function onMicStart() {\n        // console.log('BTN: mic. started', new Date());\n        switchState(LISTENING);\n        isAlanActive = true;\n\n        if (window.tutorProject) {\n            window.tutorProject.on('text', onTextCbInMicBtn);\n            window.tutorProject.on('parsed', onParsedCbInMicBtn);\n            window.tutorProject.on('recognized', onRecognizedCbInMicBtn);\n            window.tutorProject.on('connectStatus', onConnectStatusChange);\n            window.tutorProject.on('options', onOptionsReceived);\n        }\n    }\n\n    function onMicStop() {\n        // console.log('BTN: mic. stopped');\n        playSoundOff();\n        isAlanSpeaking = false;\n\n        alanAudio.off('micStart', onMicStart);\n        alanAudio.off('micStop', onMicStop);\n        alanAudio.off('micFail', onMicFail);\n        alanAudio.off('playStart', onPlayStart);\n        alanAudio.off('playStop', onPlayStop);\n        alanAudio.off('command', onCommandCbInMicBtn);\n        hideRecognisedText();\n\n        switchState(DEFAULT);\n\n        isAlanActive = false;\n\n        if (window.tutorProject) {\n            window.tutorProject.off('text', onTextCbInMicBtn);\n            window.tutorProject.off('parsed', onParsedCbInMicBtn);\n            window.tutorProject.off('recognized', onRecognizedCbInMicBtn);\n            window.tutorProject.off('connectStatus', onConnectStatusChange);\n            window.tutorProject.off('options', onOptionsReceived);\n        }\n\n        if (options.onMicStopped) {\n            options.onMicStopped();\n        }\n    }\n\n    function onMicFail() {\n        // console.log('BTN: mic. failed');\n        onMicStop();\n        switchState(PERMISSION_DENIED);\n    }\n\n    function onPlayStart(e) {\n        // console.log('BTN: play start');\n        isAlanSpeaking = true;\n        switchState(SPEAKING);\n        turnOffVoiceFn();\n    }\n\n    function onPlayStop(e) {\n        // console.log('BTN: play stop');\n        isAlanSpeaking = false;\n        switchState(LISTENING);\n        turnOffVoiceFn();\n    }\n\n    function onTextCbInMicBtn(e) {\n        // console.info('BTN: onTextCb', e, new Date());\n        turnOffVoiceFn();\n    }\n\n    function onParsedCbInMicBtn(e) {\n        // console.info('BTN: onParsedCb', e, new Date());\n        turnOffVoiceFn();\n        showRecognisedText(e);\n    }\n\n    function onRecognizedCbInMicBtn(e) {\n        // console.info('BTN: onRecognizedTextCb', e, new Date());\n        if (options.onReceiveRecognisedText) {\n            options.onReceiveRecognisedText(e);\n        }\n\n        if (e.final === true) {\n            switchState(UNDERSTOOD);\n        } else {\n            switchState(INTERMEDIATE);\n        }\n\n        showRecognisedText(e);\n        turnOffVoiceFn();\n    }\n\n    function onCommandCbInMicBtn(e) {\n        // console.info('BTN: onCommandCbInMicBtn', e, new Date());\n        if (options.onCommand) {\n            options.onCommand(e.data);\n        }\n        switchState(LISTENING);\n        turnOffVoiceFn();\n    }\n\n    function playSoundOn() {\n        if (!soundOnAudioDoesNotExist) {\n            soundOnAudio.play().catch(() => {\n                console.log(\"No activation sound, because the user didn't interact with the button\");\n            });\n        }\n    }\n\n    function playSoundOff() {\n        if (!soundOffAudioDoesNotExist) {\n            soundOffAudio.play().catch(() => {\n                console.log(\"No deactivation sound, because the user didn't interact with the button\");\n            });\n        }\n    }\n\n    window.switchState = switchState;\n\n    function switchState(newState) {\n        var tempLogoParts = [],\n            i = 0;\n\n        if (newState !== DISCONNECTED) {\n            previousState = newState;\n        }\n\n        if (newState === LISTENING) {\n            hintAppearTimeoutId = setTimeout(function () {\n                showHints();\n            }, 300);\n        }\n\n        if (newState === DEFAULT) {\n            btn.style.animation = '';\n            micIcon.style.animation = '';\n            micTriangleIcon.style.animation = '';\n\n            btnBgDefault.classList.remove('super-hidden');\n            btnBgDefault.style.opacity = onOpacity;\n            btnOval1.style.animation = '';\n            btnOval2.style.animation = '';\n            btnOval1.style.opacity = 0;\n            btnOval2.style.opacity = 0;\n            changeBgColors(DEFAULT);\n\n            micIcon.style.opacity = 1;\n            micTriangleIcon.style.opacity = 0;\n\n            hideLayers([\n                btnBgListening,\n                btnBgSpeaking,\n                btnBgIntermediate,\n                btnBgUnderstood,\n            ]);\n        } else if (newState === LISTENING) {\n            btn.style.animation = pulsatingAnimation;\n            micIcon.style.animation = pulsatingMicAnimation;\n            micTriangleIcon.style.animation = pulsatingTriangleMicAnimation;\n\n            btnBgListening.classList.remove('super-hidden');\n            btnBgListening.style.opacity = onOpacity;\n\n            btnOval1.style.animation = oval1Animation;\n            btnOval2.style.animation = oval2Animation;\n            btnOval1.style.opacity = 1;\n            btnOval2.style.opacity = 1;\n\n            changeBgColors(LISTENING);\n\n            micIcon.style.opacity = 1;\n            micTriangleIcon.style.opacity = 1;\n\n            hideLayers([\n                // btnBgDefault,\n                btnBgSpeaking,\n                btnBgIntermediate,\n                btnBgUnderstood,\n            ]);\n        } else if (newState === SPEAKING) {\n            hideRecognisedText();\n            btn.style.animation = pulsatingAnimation;\n\n            btnBgSpeaking.classList.remove('super-hidden');\n            btnBgSpeaking.style.opacity = onOpacity;\n            btnOval1.style.animation = oval1Animation;\n            btnOval2.style.animation = oval2Animation;\n            btnOval1.style.opacity = 1;\n            btnOval2.style.opacity = 1;\n            changeBgColors(SPEAKING);\n\n            hideLayers([\n                btnBgDefault,\n                btnBgListening,\n                btnBgIntermediate,\n                btnBgUnderstood,\n            ]);\n        } else if (newState === INTERMEDIATE) {\n            btn.style.animation = pulsatingAnimation;\n\n            btnBgIntermediate.classList.remove('super-hidden');\n            btnBgIntermediate.style.opacity = onOpacity;\n            btnOval1.style.animation = oval1Animation;\n            btnOval2.style.animation = oval2Animation;\n            btnOval1.style.opacity = 1;\n            btnOval2.style.opacity = 1;\n            changeBgColors(INTERMEDIATE);\n            micIcon.style.opacity = 1;\n            micTriangleIcon.style.opacity = 1;\n\n            hideLayers([\n                btnBgDefault,\n                btnBgListening,\n                btnBgSpeaking,\n                btnBgUnderstood,\n\n            ]);\n        } else if (newState === UNDERSTOOD) {\n            btn.style.animation = pulsatingAnimation;\n\n            btnBgUnderstood.classList.remove('super-hidden');\n            btnBgUnderstood.style.opacity = onOpacity;\n            btnOval1.style.animation = oval1Animation;\n            btnOval2.style.animation = oval2Animation;\n            btnOval1.style.opacity = 1;\n            btnOval2.style.opacity = 1;\n            changeBgColors(UNDERSTOOD);\n\n            micIcon.style.opacity = 1;\n            micTriangleIcon.style.opacity = 1;\n\n            hideLayers([\n                btnBgDefault,\n                btnBgListening,\n                btnBgSpeaking,\n                btnBgIntermediate,\n\n            ]);\n        }\n\n        if (newState === SPEAKING) {\n            micTriangleIcon.style.opacity = 0;\n            micCircleIcon.style.opacity = 1;\n            micTriangleIcon.style.backgroundSize = '0% 0%';\n            micCircleIcon.style.backgroundSize = '100% 100%';\n        } else  {\n            micCircleIcon.style.opacity = 0;\n            micCircleIcon.style.backgroundSize = '0% 0%';\n            micTriangleIcon.style.backgroundSize = '100% 100%';\n        }\n\n        if (newState === DEFAULT) {\n            micTriangleIcon.classList.add('triangleMicIconBg-default');\n        } else {\n            micTriangleIcon.classList.remove('triangleMicIconBg-default');\n        }\n\n        tempLogoParts = [\n            logoState1,\n            logoState2,\n            logoState3,\n            logoState4,\n            logoState5,\n            logoState6,\n            logoState7,\n            logoState8,\n            logoState9,\n            logoState10\n        ];\n\n        if (newState === LISTENING ||\n            newState === INTERMEDIATE ||\n            newState === SPEAKING ||\n            newState === UNDERSTOOD) {\n\n            if (logoState1.style.animationName === '') {\n                for (i = 0; i < tempLogoParts.length; i++) {\n                    if (i === 0) {\n                        tempLogoParts[i].style.opacity = 1;\n                    } else {\n                        tempLogoParts[i].style.opacity = 0;\n                    }\n                    tempLogoParts[i].style.animationName = 'logo-state-' + (i + 1) + '-animation';\n                }\n            }\n        } else {\n            for (i = 0; i < tempLogoParts.length; i++) {\n                if (i === 0) {\n                    tempLogoParts[i].style.opacity = 1;\n                } else {\n                    tempLogoParts[i].style.opacity = 0;\n                }\n                tempLogoParts[i].style.animationName = '';\n            }\n        }\n\n        if (newState === LOW_VOLUME || newState === PERMISSION_DENIED) {\n            if (newState === LOW_VOLUME) {\n                rootEl.classList.add(\"alan-btn-low-volume\");\n            }\n            if (newState === PERMISSION_DENIED) {\n                rootEl.classList.add(\"alan-btn-permission-denied\");\n                showInfo(MIC_BLOCKED_MSG);\n            }\n            micIcon.style.opacity = 0;\n            micTriangleIcon.style.opacity = 0;\n            disconnectedMicLoaderIcon.style.opacity = 0;\n            offlineIcon.style.opacity = 0;\n            lowVolumeMicIcon.style.opacity = 1;\n            btnOval1.style.animation = '';\n            btnOval2.style.animation = '';\n            btnOval1.style.opacity = 0;\n            btnOval2.style.opacity = 0;\n        } else if (newState === DISCONNECTED || newState === OFFLINE ) {\n            if (newState === DISCONNECTED) {\n                rootEl.classList.add(\"alan-btn-disconnected\");\n            }\n            if (newState === OFFLINE) {\n                rootEl.classList.add(\"alan-btn-offline\");\n            }\n            micTriangleIcon.style.opacity = 0;\n            lowVolumeMicIcon.style.opacity = 0;\n            btnOval1.style.animation = '';\n            btnOval2.style.animation = '';\n            btnOval1.style.opacity = 0;\n            btnOval2.style.opacity = 0;\n\n            if (newState === DISCONNECTED) {\n                micIcon.style.opacity = .4;\n                disconnectedMicLoaderIcon.style.opacity = 1;\n            } else {\n                micIcon.style.opacity = 0;\n                disconnectedMicLoaderIcon.style.opacity = 0;\n                offlineIcon.style.opacity = 1;\n            }\n        } else {\n            lowVolumeMicIcon.style.opacity = 0;\n            offlineIcon.style.opacity = 0;\n            disconnectedMicLoaderIcon.style.opacity = 0;\n            rootEl.classList.remove(\"alan-btn-low-volume\");\n            rootEl.classList.remove(\"alan-btn-permission-denied\");\n            rootEl.classList.remove(\"alan-btn-disconnected\");\n            rootEl.classList.remove(\"alan-btn-offline\");\n        }\n\n        state = newState;\n\n        // console.info('BTN: state', newState);\n    }\n\n    //#endregions\n\n    //#region Helpers\n    function applyBgStyles(el, backgroundImage) {\n        el.style.transition = 'all 0.4s linear';\n        el.style.position = 'absolute';\n        el.style.top = '0px';\n        el.style.left = '0px';\n        el.style.width = '100%';\n        el.style.height = '100%';\n        el.style.borderRadius = '50%';\n        el.style.zIndex = btnBgLayerZIndex;\n        el.style.backgroundPosition = '0 0';\n        el.style.opacity = 0;\n        el.style.opacity = 0;\n        el.style.transition = 'opacity 300ms ease-in-out';\n        el.style.animation = gradientAnimation;\n    }\n\n    function hideLayers(layers) {\n        for (var i = 0; i < layers.length; i++) {\n            layers[i].style.opacity = offOpacity;\n            layers[i].classList.add('super-hidden');\n        }\n    }\n\n    function changeBgColors(state) {\n        var tempBgLayers = [btnOval1, btnOval2];\n        var newStateName = state || DEFAULT;\n        var tempBgLayerClasses = [\n            'alanBtn-oval-bg-' + DEFAULT,\n            'alanBtn-oval-bg-' + LISTENING,\n            'alanBtn-oval-bg-' + INTERMEDIATE,\n            'alanBtn-oval-bg-' + UNDERSTOOD,\n            'alanBtn-oval-bg-' + SPEAKING,\n        ];\n\n        for (var i = 0; i < tempBgLayers.length; i++) {\n            for (var j = 0; j < tempBgLayerClasses.length; j++) {\n                tempBgLayers[i].classList.remove(tempBgLayerClasses[j]);\n            }\n            tempBgLayers[i].classList.add('alanBtn-oval-bg-' + newStateName);\n        }\n    }\n\n    function getStorageKey() {\n        var key = '';\n        if (options && options.key) {\n            key = options.key;\n        }\n        return 'alan-btn-options-' + key;\n    }\n\n    function isMobile() {\n        if (/Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {\n            return true;\n        }\n        return false;\n    }\n\n    function isAudioSupported() {\n        var available = false,\n            fakeGetUserMedia,\n            fakeContext,\n            isAllowed = false;\n\n        if (window.location.protocol === 'https:') {\n            isAllowed = true;\n        }\n\n        if (window.location.protocol === 'file:') {\n            isAllowed = true;\n        }\n\n        if (window.location.protocol === 'http:' && window.location.hostname === 'localhost') {\n            isAllowed = true;\n        }\n\n        if (!isAllowed) {\n            return false;\n        }\n\n        fakeGetUserMedia = (navigator.getUserMedia ||\n            navigator.webkitGetUserMedia ||\n            navigator.mozGetUserMedia ||\n            navigator.msGetUserMedia);\n\n        fakeContext = window.AudioContext ||\n            window.webkitAudioContext ||\n            window.mozAudioContext;\n\n        if (fakeGetUserMedia && fakeContext) {\n            available = true;\n        }\n\n        return available;\n    }\n\n    //#endregion\n\n    //#region Append layers to the rootEl\n    function showAlanBtn() {\n        rootEl.innerHTML = '';\n\n        textHolder.appendChild(textHolderTextWrapper);\n\n        if (!isTutorMode()) {\n            hintHolder.appendChild(hintHolderWrapper);\n            rootEl.appendChild(hintHolder);\n        }\n\n        rootEl.appendChild(textHolder);\n        rootEl.appendChild(btn);\n        btnDisabled = false;\n    }\n\n    function hideAlanBtn() {\n        if (!isTutorMode()) {\n            alanAudio.stop();\n            rootEl.innerHTML = '';\n            if (mode === 'demo') {\n                rootEl.appendChild(alanBtnDisabledMessage);\n            }\n            btnDisabled = true;\n        }\n    }\n\n    function showSpeach2TextPanel() {\n        hideS2TPanel = false;\n    }\n\n    function hideSpeach2TextPanel() {\n        hideS2TPanel = true;\n        hideRecognisedText();\n    }\n\n    function setUpHints(newHints) {\n        hints = newHints;\n    }\n\n    function applyBtnOptions(btnOptions) {\n        if (btnOptions) {\n            createAlanStyleSheet(btnOptions);\n        }\n    }\n\n    rootEl.classList.add(\"alanBtn-root\");\n    rootEl.classList.add(\"alan-\" + getProjectId());\n\n    var alanBtnSavedOptions = null;\n\n    if (isTutorMode()) {\n        showAlanBtn();\n    } else {\n        if (isLocalStorageAvailable) {\n            try {\n                tryReadSettingsFromLocalStorage();\n            } catch (e) {\n                showAlanBtn();\n            }\n        } else {\n            showAlanBtn();\n        }\n    }\n\n    function tryReadSettingsFromLocalStorage() {\n        if (isLocalStorageAvailable) {\n            try {\n                alanBtnSavedOptions = JSON.parse(localStorage.getItem(getStorageKey()));\n\n                if (alanBtnSavedOptions && alanBtnSavedOptions.web) {\n\n                    if (alanBtnSavedOptions.web.btnOptions) {\n                        applyBtnOptions(alanBtnSavedOptions.web.btnOptions);\n                    }\n\n                    if (alanBtnSavedOptions.web.hidden !== true) {\n                        showAlanBtn();\n                    } else {\n                        hideAlanBtn();\n                    }\n\n                }\n            } catch (e) {\n\n            }\n        }\n    }\n\n    if (!options.rootEl) {\n        body.appendChild(rootEl);\n    }\n    // showRecognisedText({})\n    return btnInstance;\n\n    //#endregion\n}\nns.alanBtn = alanBtn;\n\n})(window);\nreturn alanBtn;\n}));\n"]},"metadata":{},"sourceType":"script"}